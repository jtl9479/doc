# 2-7. ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ê°œë°œ

## í•™ìŠµ ëª©í‘œ
- í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ë¥¼ ì‘ì„±í•œë‹¤
- ì£¼ë¬¸ ì—”í‹°í‹°ì™€ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤
- ë‹¤í˜•ì„±ì„ í™œìš©í•œ ìœ ì—°í•œ êµ¬ì¡°ë¥¼ ë§Œë“ ë‹¤
- ë„ë©”ì¸ ê°„ì˜ í˜‘ë ¥ ê´€ê³„ë¥¼ ì½”ë“œë¡œ êµ¬í˜„í•œë‹¤

## ì—°ê´€ ê°œë…
- **Strategy Pattern**: ì•Œê³ ë¦¬ì¦˜êµ°ì„ ì •ì˜í•˜ê³  ìº¡ìŠí™”í•˜ì—¬ êµì²´ ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” íŒ¨í„´
- **ë‹¤í˜•ì„±(Polymorphism)**: ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì—¬ëŸ¬ êµ¬í˜„ì²´ë¥¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©
- **ìœ„ì„(Delegation)**: ìì‹ ì˜ ì±…ì„ì„ ë‹¤ë¥¸ ê°ì²´ì— ë§¡ê¹€
- **ê³„ì‚° ë©”ì„œë“œ**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œ

---

## TL;DR (ê°„ë‹¨ ìš”ì•½)

### êµ¬í˜„í•  ì»´í¬ë„ŒíŠ¸
1. **DiscountPolicy** (ì¸í„°í˜ì´ìŠ¤): í• ì¸ ì •ì±… ì—­í• 
2. **FixDiscountPolicy**: ê³ ì • ê¸ˆì•¡ í• ì¸ (VIP 1000ì›)
3. **Order** (ì—”í‹°í‹°): ì£¼ë¬¸ ì •ë³´ ë° ìµœì¢… ê°€ê²© ê³„ì‚°
4. **OrderService** (ì¸í„°í˜ì´ìŠ¤): ì£¼ë¬¸ ìƒì„± ì—­í• 
5. **OrderServiceImpl**: ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„ (íšŒì› ì¡°íšŒ + í• ì¸ ì ìš©)

### í•µì‹¬ íë¦„
```
OrderServiceImpl.createOrder()
  â†’ memberRepository.findById()  // íšŒì› ì¡°íšŒ
  â†’ discountPolicy.discount()    // í• ì¸ ê³„ì‚°
  â†’ new Order()                  // ì£¼ë¬¸ ìƒì„±
```

---

## í• ì¸ ì •ì±… êµ¬í˜„

### DiscountPolicy - í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤

```java
package hello.core.discount;

import hello.core.member.Member;

public interface DiscountPolicy {

    /**
     * @return í• ì¸ ëŒ€ìƒ ê¸ˆì•¡
     */
    int discount(Member member, int price);
}
```

**íŒŒì¼ ìœ„ì¹˜**: `src/main/java/hello/core/discount/DiscountPolicy.java`

#### ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
- `discount()`: íšŒì›ê³¼ ê°€ê²©ì„ ë°›ì•„ í• ì¸ ê¸ˆì•¡ ë°˜í™˜
- ë°˜í™˜ê°’: í• ì¸ ê¸ˆì•¡ (ì›ê°€ - í• ì¸ ê¸ˆì•¡ = ìµœì¢… ê°€ê²©)

#### JavaDoc ì£¼ì„
```java
/**
 * @return í• ì¸ ëŒ€ìƒ ê¸ˆì•¡
 */
```
- API ë¬¸ì„œ ìë™ ìƒì„±
- ë©”ì„œë“œ ì˜ë„ ëª…í™•í™”

---

### FixDiscountPolicy - ê³ ì • ê¸ˆì•¡ í• ì¸ ì •ì±…

```java
package hello.core.discount;

import hello.core.member.Grade;
import hello.core.member.Member;

public class FixDiscountPolicy implements DiscountPolicy {

    private int discountFixAmount = 1000;  // 1000ì› í• ì¸

    @Override
    public int discount(Member member, int price) {
        if (member.getGrade() == Grade.VIP) {
            return discountFixAmount;
        } else {
            return 0;
        }
    }
}
```

**íŒŒì¼ ìœ„ì¹˜**: `src/main/java/hello/core/discount/FixDiscountPolicy.java`

#### êµ¬í˜„ ë¡œì§
1. VIP íšŒì›ì¸ì§€ ë“±ê¸‰ í™•ì¸
2. VIPë©´ 1000ì› í• ì¸
3. ì•„ë‹ˆë©´ í• ì¸ ì—†ìŒ (0ì›)

#### ê°„ë‹¨í•œ ifë¬¸ ì‚¬ìš©
```java
if (member.getGrade() == Grade.VIP) {
    return discountFixAmount;
} else {
    return 0;
}
```

---

## ì‹¬í™” ë‚´ìš©

### 1. ë‹¤ì–‘í•œ í• ì¸ ì •ì±… êµ¬í˜„

#### ì •ë¥  í• ì¸ ì •ì±… (RateDiscountPolicy)
```java
package hello.core.discount;

import hello.core.member.Grade;
import hello.core.member.Member;

public class RateDiscountPolicy implements DiscountPolicy {

    private int discountPercent = 10;  // 10% í• ì¸

    @Override
    public int discount(Member member, int price) {
        if (member.getGrade() == Grade.VIP) {
            return price * discountPercent / 100;
        } else {
            return 0;
        }
    }
}
```

**ì‚¬ìš© ì˜ˆì‹œ:**
```java
Member vip = new Member(1L, "vipUser", Grade.VIP);
DiscountPolicy policy = new RateDiscountPolicy();

int discountAmount = policy.discount(vip, 10000);  // 1000ì› (10%)
int discountAmount2 = policy.discount(vip, 20000);  // 2000ì› (10%)
```

#### í• ì¸ ì—†ìŒ ì •ì±… (NoDiscountPolicy)
```java
public class NoDiscountPolicy implements DiscountPolicy {

    @Override
    public int discount(Member member, int price) {
        return 0;  // í•­ìƒ í• ì¸ ì—†ìŒ
    }
}
```

#### ê³„ì ˆë³„ í• ì¸ ì •ì±… (SeasonDiscountPolicy)
```java
public class SeasonDiscountPolicy implements DiscountPolicy {

    @Override
    public int discount(Member member, int price) {
        LocalDate now = LocalDate.now();
        int month = now.getMonthValue();

        // ì—¬ë¦„ ì‹œì¦Œ (6~8ì›”) VIP 20% í• ì¸
        if (month >= 6 && month <= 8 && member.getGrade() == Grade.VIP) {
            return price * 20 / 100;
        }
        // ê²¨ìš¸ ì‹œì¦Œ (12~2ì›”) VIP 15% í• ì¸
        else if ((month == 12 || month <= 2) && member.getGrade() == Grade.VIP) {
            return price * 15 / 100;
        }
        return 0;
    }
}
```

### 2. enumì„ í™œìš©í•œ í• ì¸ ì •ì±… ê´€ë¦¬

```java
public enum Grade {
    BASIC(0),    // í• ì¸ ì—†ìŒ
    VIP(1000),   // 1000ì› í• ì¸
    VVIP(2000);  // 2000ì› í• ì¸

    private final int discountAmount;

    Grade(int discountAmount) {
        this.discountAmount = discountAmount;
    }

    public int getDiscountAmount() {
        return discountAmount;
    }
}

public class GradeBasedDiscountPolicy implements DiscountPolicy {

    @Override
    public int discount(Member member, int price) {
        return member.getGrade().getDiscountAmount();
    }
}
```

---

## ì£¼ë¬¸ ì—”í‹°í‹° êµ¬í˜„

### Order - ì£¼ë¬¸ ì—”í‹°í‹°

```java
package hello.core.order;

public class Order {

    private Long memberId;
    private String itemName;
    private int itemPrice;
    private int discountPrice;

    public Order(Long memberId, String itemName, int itemPrice, int discountPrice) {
        this.memberId = memberId;
        this.itemName = itemName;
        this.itemPrice = itemPrice;
        this.discountPrice = discountPrice;
    }

    public int calculatePrice() {
        return itemPrice - discountPrice;
    }

    public Long getMemberId() {
        return memberId;
    }

    public String getItemName() {
        return itemName;
    }

    public int getItemPrice() {
        return itemPrice;
    }

    public int getDiscountPrice() {
        return discountPrice;
    }

    @Override
    public String toString() {
        return "Order{" +
                "memberId=" + memberId +
                ", itemName='" + itemName + '\'' +
                ", itemPrice=" + itemPrice +
                ", discountPrice=" + discountPrice +
                '}';
    }
}
```

**íŒŒì¼ ìœ„ì¹˜**: `src/main/java/hello/core/order/Order.java`

#### Order í´ë˜ìŠ¤ ì„¤ëª…

**í•„ë“œ**
- `memberId`: ì£¼ë¬¸í•œ íšŒì› ID
- `itemName`: ìƒí’ˆëª…
- `itemPrice`: ìƒí’ˆ ì›ê°€
- `discountPrice`: í• ì¸ ê¸ˆì•¡

**ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§**
```java
public int calculatePrice() {
    return itemPrice - discountPrice;
}
```
- ìµœì¢… ê°€ê²© = ì›ê°€ - í• ì¸ ê¸ˆì•¡

**toString() ì˜¤ë²„ë¼ì´ë“œ**
```java
@Override
public String toString() {
    return "Order{" +
            "memberId=" + memberId +
            ", itemName='" + itemName + '\'' +
            ", itemPrice=" + itemPrice +
            ", discountPrice=" + discountPrice +
            '}';
}
```
- ë””ë²„ê¹…ê³¼ ë¡œê¹…ì— ìœ ìš©

---

## ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„

### OrderService - ì£¼ë¬¸ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤

```java
package hello.core.order;

public interface OrderService {
    Order createOrder(Long memberId, String itemName, int itemPrice);
}
```

**íŒŒì¼ ìœ„ì¹˜**: `src/main/java/hello/core/order/OrderService.java`

#### ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ
- `createOrder()`: íšŒì›ID, ìƒí’ˆëª…, ê°€ê²©ì„ ë°›ì•„ ì£¼ë¬¸ ìƒì„±

---

### OrderServiceImpl - ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„ì²´

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.discount.FixDiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import hello.core.member.MemoryMemberRepository;

public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository = new MemoryMemberRepository();
    private final DiscountPolicy discountPolicy = new FixDiscountPolicy();

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);

        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
}
```

**íŒŒì¼ ìœ„ì¹˜**: `src/main/java/hello/core/order/OrderServiceImpl.java`

#### êµ¬í˜„ ë¡œì§

**1. íšŒì› ì¡°íšŒ**
```java
Member member = memberRepository.findById(memberId);
```
- í• ì¸ì„ ìœ„í•´ íšŒì› ë“±ê¸‰ í•„ìš”
- MemberRepositoryì— ìœ„ì„

**2. í• ì¸ ê³„ì‚°**
```java
int discountPrice = discountPolicy.discount(member, itemPrice);
```
- DiscountPolicyì— í• ì¸ ê³„ì‚° ìœ„ì„
- ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP) ì¤€ìˆ˜

**3. ì£¼ë¬¸ ìƒì„±**
```java
return new Order(memberId, itemName, itemPrice, discountPrice);
```
- ì£¼ë¬¸ ê°ì²´ ìƒì„± ë° ë°˜í™˜

---

## ì‹¬í™” ë‚´ìš©

### 1. ì„¤ê³„ì˜ ìš°ìˆ˜í•œ ì  - SRP (ë‹¨ì¼ ì±…ì„ ì›ì¹™)

```java
public class OrderServiceImpl implements OrderService {

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        // 1. íšŒì› ì¡°íšŒ - MemberRepositoryì— ìœ„ì„
        Member member = memberRepository.findById(memberId);

        // 2. í• ì¸ ê³„ì‚° - DiscountPolicyì— ìœ„ì„
        int discountPrice = discountPolicy.discount(member, itemPrice);

        // 3. ì£¼ë¬¸ ìƒì„± - OrderServiceImplì˜ ì±…ì„
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
}
```

**ì±…ì„ ë¶„ë¦¬:**
- `OrderServiceImpl`: ì£¼ë¬¸ ìƒì„± ë¡œì§ ì¡°ìœ¨
- `MemberRepository`: íšŒì› ë°ì´í„° ê´€ë¦¬
- `DiscountPolicy`: í• ì¸ ê¸ˆì•¡ ê³„ì‚°

**ì¥ì :**
```
í• ì¸ ì •ì±…ì´ ë³€ê²½ë˜ì–´ë„ OrderServiceImplì€ ìˆ˜ì • ë¶ˆí•„ìš”
â†’ DiscountPolicy êµ¬í˜„ì²´ë§Œ êµì²´
â†’ ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬
```

### 2. ì„¤ê³„ì˜ ë¬¸ì œì  - DIP ìœ„ë°˜

```java
private final MemberRepository memberRepository = new MemoryMemberRepository();
private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
```

**ë¬¸ì œì  ë¶„ì„:**
```java
// OrderServiceImplì´ ì˜ì¡´í•˜ëŠ” ëŒ€ìƒ
1. MemberRepository (ì¸í„°í˜ì´ìŠ¤ - ì¶”ìƒ)
2. MemoryMemberRepository (êµ¬í˜„ì²´ - êµ¬ì²´)
3. DiscountPolicy (ì¸í„°í˜ì´ìŠ¤ - ì¶”ìƒ)
4. FixDiscountPolicy (êµ¬í˜„ì²´ - êµ¬ì²´)

â†’ DIP ìœ„ë°˜: ì¶”ìƒí™”ì™€ êµ¬ì²´í™” ëª¨ë‘ì— ì˜ì¡´
```

**ì˜ì¡´ê´€ê³„ ë‹¤ì´ì–´ê·¸ë¨:**
```mermaid
graph TD
    A[OrderServiceImpl] -->|ì˜ì¡´| B[DiscountPolicy<br/>interface]
    A -->|ì˜ì¡´| C[FixDiscountPolicy<br/>êµ¬í˜„ì²´]
    C -.êµ¬í˜„.-> B

    style A fill:#ffe6e6
    style C fill:#ffe6e6
```

**í• ì¸ ì •ì±… ë³€ê²½ ì‹œ:**
```java
// âŒ ì½”ë“œ ìˆ˜ì • í•„ìš” (OCP ìœ„ë°˜)
// private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
```

### 3. ê°œì„  ë°©ì•ˆ - ìƒì„±ì ì£¼ì…

```java
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    // ìƒì„±ì ì£¼ì…
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
}
```

**ì‚¬ìš©:**
```java
// êµ¬í˜„ì²´ëŠ” ì™¸ë¶€ì—ì„œ ê²°ì •
MemberRepository memberRepository = new MemoryMemberRepository();
DiscountPolicy discountPolicy = new FixDiscountPolicy();

OrderService orderService = new OrderServiceImpl(memberRepository, discountPolicy);
```

**ê°œì„ ëœ ì˜ì¡´ê´€ê³„:**
```mermaid
graph TD
    A[OrderServiceImpl] -->|ì˜ì¡´| B[DiscountPolicy<br/>interface]
    C[FixDiscountPolicy] -.êµ¬í˜„.-> B
    D[ì™¸ë¶€ ì¡°ë¦½ì<br/>AppConfig] -->|ì£¼ì…| A
    D -->|ìƒì„±| C

    style A fill:#e6ffe6
    style D fill:#fff4e1
```

---

## Tip

### íŒ¨í‚¤ì§€ êµ¬ì¡°
```
hello.core
â”œâ”€â”€ member
â”‚   â”œâ”€â”€ Grade.java
â”‚   â”œâ”€â”€ Member.java
â”‚   â”œâ”€â”€ MemberRepository.java
â”‚   â”œâ”€â”€ MemoryMemberRepository.java
â”‚   â”œâ”€â”€ MemberService.java
â”‚   â””â”€â”€ MemberServiceImpl.java
â”‚
â”œâ”€â”€ order
â”‚   â”œâ”€â”€ Order.java
â”‚   â”œâ”€â”€ OrderService.java
â”‚   â””â”€â”€ OrderServiceImpl.java
â”‚
â””â”€â”€ discount
    â”œâ”€â”€ DiscountPolicy.java
    â””â”€â”€ FixDiscountPolicy.java
```

### í• ì¸ ê¸ˆì•¡ vs ìµœì¢… ê°€ê²©
```java
// í• ì¸ ê¸ˆì•¡
int discountPrice = discountPolicy.discount(member, itemPrice);

// ìµœì¢… ê°€ê²©
int finalPrice = order.calculatePrice();  // itemPrice - discountPrice
```

### toString() í™œìš©
```java
Order order = new Order(1L, "itemA", 10000, 1000);
System.out.println(order);
// ì¶œë ¥: Order{memberId=1, itemName='itemA', itemPrice=10000, discountPrice=1000}
```

---

## ì£¼ì˜ì‚¬í•­

### 1. í• ì¸ ê¸ˆì•¡ì´ ìƒí’ˆ ê°€ê²©ë³´ë‹¤ í° ê²½ìš°
```java
// âŒ ìŒìˆ˜ ê°€ê²© ë°œìƒ ê°€ëŠ¥
public class BadDiscountPolicy implements DiscountPolicy {
    @Override
    public int discount(Member member, int price) {
        return 15000;  // ìƒí’ˆ ê°€ê²©ë³´ë‹¤ í° í• ì¸
    }
}

// âœ… ê²€ì¦ ë¡œì§ ì¶”ê°€
public class SafeDiscountPolicy implements DiscountPolicy {
    private int discountAmount = 1000;

    @Override
    public int discount(Member member, int price) {
        if (member.getGrade() != Grade.VIP) {
            return 0;
        }

        int discount = discountAmount;
        // í• ì¸ ê¸ˆì•¡ì´ ìƒí’ˆ ê°€ê²©ì„ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡
        if (discount > price) {
            discount = price;
        }
        return discount;
    }
}

// Order í´ë˜ìŠ¤ì—ì„œ ê²€ì¦
public class Order {
    public Order(Long memberId, String itemName, int itemPrice, int discountPrice) {
        if (discountPrice > itemPrice) {
            throw new IllegalArgumentException("í• ì¸ ê¸ˆì•¡ì´ ìƒí’ˆ ê°€ê²©ë³´ë‹¤ í´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
        // ...
    }
}
```

### 2. null ë°˜í™˜ ë°©ì§€
```java
// âŒ null ë°˜í™˜ ê¸ˆì§€
public Member findById(Long memberId) {
    return store.get(memberId);  // null ê°€ëŠ¥
}

// âœ… Optional ë˜ëŠ” ì˜ˆì™¸ ì‚¬ìš©
public Member findById(Long memberId) {
    Member member = store.get(memberId);
    if (member == null) {
        throw new MemberNotFoundException("íšŒì›ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + memberId);
    }
    return member;
}

// ë˜ëŠ” Optional
public Optional<Member> findById(Long memberId) {
    return Optional.ofNullable(store.get(memberId));
}
```

### 3. ì •ìˆ˜ ë‚˜ëˆ—ì…ˆ ì£¼ì˜
```java
// âŒ ì •ìˆ˜ ë‚˜ëˆ—ì…ˆ - ì†Œìˆ˜ì  ì´í•˜ ë²„ë¦¼
int discount = price * 10 / 100;  // 10% í• ì¸

// ì˜ˆ: price = 9999
// discount = 9999 * 10 / 100 = 99990 / 100 = 999 (0.9ì› ì†ì‹¤)

// âœ… ë°˜ì˜¬ë¦¼ ì²˜ë¦¬
int discount = Math.round(price * 10f / 100f);

// ë˜ëŠ” BigDecimal ì‚¬ìš© (ê¸ˆìœµ ì‹œìŠ¤í…œ)
BigDecimal price = new BigDecimal("9999");
BigDecimal discount = price.multiply(new BigDecimal("0.1"))
                           .setScale(0, RoundingMode.HALF_UP);
```

---

## ë©´ì ‘ ì§ˆë¬¸

### ì´ˆê¸‰ - ì½”ë“œ ì´í•´

**Q1. OrderServiceImplì—ì„œ í• ì¸ ê³„ì‚°ì„ DiscountPolicyì— ìœ„ì„í•œ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?**

A: ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)ì„ ì¤€ìˆ˜í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

```java
// âŒ SRP ìœ„ë°˜: OrderServiceImplì´ í• ì¸ ê³„ì‚°ê¹Œì§€ ë‹´ë‹¹
public Order createOrder(Long memberId, String itemName, int itemPrice) {
    Member member = memberRepository.findById(memberId);

    // í• ì¸ ë¡œì§ì´ OrderServiceImplì— ì§ì ‘ êµ¬í˜„
    int discountPrice = 0;
    if (member.getGrade() == Grade.VIP) {
        discountPrice = 1000;
    }

    return new Order(memberId, itemName, itemPrice, discountPrice);
}

// âœ… SRP ì¤€ìˆ˜: í• ì¸ ê³„ì‚°ì„ DiscountPolicyì— ìœ„ì„
public Order createOrder(Long memberId, String itemName, int itemPrice) {
    Member member = memberRepository.findById(memberId);
    int discountPrice = discountPolicy.discount(member, itemPrice);  // ìœ„ì„
    return new Order(memberId, itemName, itemPrice, discountPrice);
}
```

**ì¥ì :**
1. OrderServiceImplì€ ì£¼ë¬¸ ìƒì„±ì—ë§Œ ì§‘ì¤‘
2. í• ì¸ ì •ì±… ë³€ê²½ ì‹œ DiscountPolicyë§Œ ìˆ˜ì •
3. í• ì¸ ë¡œì§ì˜ ì¬ì‚¬ìš© ê°€ëŠ¥
4. í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í–¥ìƒ

**Q2. Order í´ë˜ìŠ¤ì˜ calculatePrice() ë©”ì„œë“œëŠ” ì–´ë–¤ ì—­í• ì„ í•˜ë‚˜ìš”?**

A: ìµœì¢… ê°€ê²©ì„ ê³„ì‚°í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì…ë‹ˆë‹¤.

```java
public int calculatePrice() {
    return itemPrice - discountPrice;
}
```

**ì—­í• :**
- ìƒí’ˆ ì›ê°€ì—ì„œ í• ì¸ ê¸ˆì•¡ì„ ëº€ ìµœì¢… ê°€ê²© ê³„ì‚°
- ë„ë©”ì¸ ë¡œì§ì„ ì—”í‹°í‹°ì— ìº¡ìŠí™”
- ë°ì´í„°ì™€ í–‰ìœ„ë¥¼ í•¨ê»˜ ê´€ë¦¬ (ê°ì²´ì§€í–¥)

**ì‚¬ìš© ì˜ˆ:**
```java
Order order = new Order(1L, "itemA", 10000, 1000);
int finalPrice = order.calculatePrice();  // 9000ì›
```

### ì¤‘ê¸‰ - ì„¤ê³„ ì›ì¹™

**Q3. í˜„ì¬ OrderServiceImplì˜ ì„¤ê³„ê°€ DIPë¥¼ ìœ„ë°˜í•˜ëŠ” ì´ìœ ì™€ ë¬¸ì œì ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**

A:
**DIP ìœ„ë°˜ ì½”ë“œ:**
```java
private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
```

**ìœ„ë°˜ ì´ìœ :**
OrderServiceImplì´ DiscountPolicy ì¸í„°í˜ì´ìŠ¤(ì¶”ìƒ)ì™€ FixDiscountPolicy êµ¬í˜„ì²´(êµ¬ì²´) ëª¨ë‘ì— ì˜ì¡´í•©ë‹ˆë‹¤.
DIPëŠ” "ì¶”ìƒí™”ì— ì˜ì¡´í•˜ê³ , êµ¬ì²´í™”ì— ì˜ì¡´í•˜ì§€ ë§ë¼"ëŠ” ì›ì¹™ì´ë¯€ë¡œ ìœ„ë°˜ì…ë‹ˆë‹¤.

**ë¬¸ì œì :**

1. **OCP ìœ„ë°˜ - í• ì¸ ì •ì±… ë³€ê²½ ì‹œ ì½”ë“œ ìˆ˜ì • í•„ìš”**
```java
// ì •ë¥  í• ì¸ìœ¼ë¡œ ë³€ê²½í•˜ë ¤ë©´ OrderServiceImpl ìˆ˜ì • í•„ìš”
// private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
```

2. **í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€**
```java
// Mock ê°ì²´ë¡œ êµì²´ ë¶ˆê°€ëŠ¥
@Test
void createOrder() {
    // FixDiscountPolicyê°€ ê³ ì •ë˜ì–´ ìˆì–´ ë‹¤ë¥¸ ì •ì±…ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë¶ˆê°€
    OrderService orderService = new OrderServiceImpl();
}
```

**í•´ê²° ë°©ë²•: ìƒì„±ì ì£¼ì…**
```java
public class OrderServiceImpl implements OrderService {
    private final DiscountPolicy discountPolicy;

    // ì™¸ë¶€ì—ì„œ êµ¬í˜„ì²´ ì£¼ì…
    public OrderServiceImpl(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}

// ì‚¬ìš©
DiscountPolicy policy = new FixDiscountPolicy();  // ì™¸ë¶€ì—ì„œ ê²°ì •
OrderService orderService = new OrderServiceImpl(policy);
```

**Q4. í• ì¸ ì •ì±…ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ì„¤ê³„í•¨ìœ¼ë¡œì¨ ì–»ëŠ” ì´ì ì„ êµ¬ì²´ì ì¸ ì˜ˆì‹œì™€ í•¨ê»˜ ì„¤ëª…í•´ì£¼ì„¸ìš”.**

A: í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤ëŠ” ë‹¤í˜•ì„±ì„ í†µí•œ ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.

**1. ë‹¤ì–‘í•œ í• ì¸ ì •ì±… ì ìš© ê°€ëŠ¥**
```java
// ì‹œì¦Œë³„ë¡œ ë‹¤ë¥¸ í• ì¸ ì •ì±… ì ìš©
DiscountPolicy summerPolicy = new RateDiscountPolicy(20);  // ì—¬ë¦„ 20% í• ì¸
DiscountPolicy winterPolicy = new FixDiscountPolicy(2000); // ê²¨ìš¸ 2000ì› í• ì¸

OrderService summerService = new OrderServiceImpl(memberRepo, summerPolicy);
OrderService winterService = new OrderServiceImpl(memberRepo, winterPolicy);
```

**2. ëŸ°íƒ€ì„ì— ì •ì±… ë³€ê²½**
```java
public class DynamicOrderService {
    private DiscountPolicy discountPolicy;

    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }

    // ì´ë²¤íŠ¸ì— ë”°ë¼ ì •ì±… ë³€ê²½
    public void applySpecialEvent() {
        this.discountPolicy = new SpecialEventDiscountPolicy();
    }

    public void endSpecialEvent() {
        this.discountPolicy = new FixDiscountPolicy();
    }
}
```

**3. ë³µí•© í• ì¸ ì •ì±…**
```java
// ì—¬ëŸ¬ í• ì¸ ì •ì±…ì„ ì¡°í•©
public class CompositeDiscountPolicy implements DiscountPolicy {
    private List<DiscountPolicy> policies;

    public CompositeDiscountPolicy(DiscountPolicy... policies) {
        this.policies = Arrays.asList(policies);
    }

    @Override
    public int discount(Member member, int price) {
        int totalDiscount = 0;
        for (DiscountPolicy policy : policies) {
            totalDiscount += policy.discount(member, price);
        }
        return Math.min(totalDiscount, price);  // ìµœëŒ€ ìƒí’ˆ ê°€ê²©ê¹Œì§€ë§Œ
    }
}

// ì‚¬ìš©
DiscountPolicy policy = new CompositeDiscountPolicy(
    new FixDiscountPolicy(),      // ê¸°ë³¸ 1000ì› í• ì¸
    new SeasonDiscountPolicy(),   // ê³„ì ˆ ì¶”ê°€ í• ì¸
    new CouponDiscountPolicy()    // ì¿ í° í• ì¸
);
```

**4. í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**
```java
// Mock í• ì¸ ì •ì±…ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
@Test
void createOrderWithMockDiscount() {
    // given
    DiscountPolicy mockPolicy = (member, price) -> 500;  // í•­ìƒ 500ì› í• ì¸
    OrderService orderService = new OrderServiceImpl(memberRepo, mockPolicy);

    // when
    Order order = orderService.createOrder(1L, "item", 10000);

    // then
    assertThat(order.getDiscountPrice()).isEqualTo(500);
    assertThat(order.calculatePrice()).isEqualTo(9500);
}
```

### ê³ ê¸‰ - ì•„í‚¤í…ì²˜ ê°œì„ 

**Q5. í˜„ì¬ ì£¼ë¬¸ ë„ë©”ì¸ì„ ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„(DDD) ê´€ì ì—ì„œ ê°œì„ í•œë‹¤ë©´ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?**

A: í˜„ì¬ ì„¤ê³„ëŠ” ë¹ˆí˜ˆ ë„ë©”ì¸ ëª¨ë¸(Anemic Domain Model)ë¡œ, ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ ê´€ì ì—ì„œ ì—¬ëŸ¬ ê°œì„ ì ì´ ìˆìŠµë‹ˆë‹¤.

#### í˜„ì¬ ë¬¸ì œì 

**1. ë¹ˆí˜ˆ ë„ë©”ì¸ ëª¨ë¸**
```java
// Order ì—”í‹°í‹°ê°€ ë°ì´í„°ë§Œ ë³´ê´€
public class Order {
    private Long memberId;
    private String itemName;
    private int itemPrice;
    private int discountPrice;

    // Getterë§Œ ì¡´ì¬, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ì— ì§‘ì¤‘
}

// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì„œë¹„ìŠ¤ ê³„ì¸µì— ë¶„ì‚°
public class OrderServiceImpl {
    public Order createOrder(...) {
        // í• ì¸ ê³„ì‚° ë¡œì§ì´ ì„œë¹„ìŠ¤ì—
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
}
```

#### DDD ê°œì„  ë°©ì•ˆ

**1. í’ë¶€í•œ ë„ë©”ì¸ ëª¨ë¸ (Rich Domain Model)**

```java
// ê°’ ê°ì²´ (Value Object)
public class Money {
    private final int value;

    public Money(int value) {
        if (value < 0) {
            throw new IllegalArgumentException("ê¸ˆì•¡ì€ 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
        }
        this.value = value;
    }

    public Money minus(Money other) {
        return new Money(this.value - other.value);
    }

    public Money add(Money other) {
        return new Money(this.value + other.value);
    }

    public boolean isGreaterThan(Money other) {
        return this.value > other.value;
    }

    public int getValue() {
        return value;
    }
}

// ì£¼ë¬¸ ì—”í‹°í‹° - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨
public class Order {
    private final OrderId orderId;
    private final MemberId memberId;
    private final String itemName;
    private final Money itemPrice;
    private final Money discountAmount;
    private OrderStatus status;
    private final LocalDateTime orderedAt;

    // ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ
    public static Order createOrder(
            MemberId memberId,
            String itemName,
            Money itemPrice,
            Money discountAmount) {

        validateDiscountAmount(itemPrice, discountAmount);

        return new Order(
            OrderId.generate(),
            memberId,
            itemName,
            itemPrice,
            discountAmount,
            OrderStatus.PENDING,
            LocalDateTime.now()
        );
    }

    // ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦
    private static void validateDiscountAmount(Money itemPrice, Money discountAmount) {
        if (discountAmount.isGreaterThan(itemPrice)) {
            throw new InvalidDiscountException("í• ì¸ ê¸ˆì•¡ì´ ìƒí’ˆ ê°€ê²©ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
    }

    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ - ìµœì¢… ê°€ê²© ê³„ì‚°
    public Money calculateFinalPrice() {
        return itemPrice.minus(discountAmount);
    }

    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ - ì£¼ë¬¸ í™•ì •
    public void confirm() {
        if (this.status != OrderStatus.PENDING) {
            throw new IllegalStateException("ëŒ€ê¸° ìƒíƒœì˜ ì£¼ë¬¸ë§Œ í™•ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
        }
        this.status = OrderStatus.CONFIRMED;
    }

    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ - ì£¼ë¬¸ ì·¨ì†Œ
    public void cancel() {
        if (this.status == OrderStatus.DELIVERED) {
            throw new IllegalStateException("ë°°ì†¡ ì™„ë£Œëœ ì£¼ë¬¸ì€ ì·¨ì†Œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
        this.status = OrderStatus.CANCELLED;
    }

    // Getter (Setter ì—†ìŒ - ë¶ˆë³€ì„± ìœ ì§€)
}

// ì£¼ë¬¸ ìƒíƒœ ì—´ê±°í˜•
public enum OrderStatus {
    PENDING, CONFIRMED, SHIPPED, DELIVERED, CANCELLED
}
```

**2. ë„ë©”ì¸ ì„œë¹„ìŠ¤**

```java
// í• ì¸ ì •ì±…ì„ ë„ë©”ì¸ ì„œë¹„ìŠ¤ë¡œ
public class DiscountDomainService {
    private final List<DiscountRule> discountRules;

    public Money calculateDiscount(Member member, Money itemPrice) {
        return discountRules.stream()
            .map(rule -> rule.apply(member, itemPrice))
            .reduce(Money.ZERO, Money::add);
    }
}

// í• ì¸ ê·œì¹™
public interface DiscountRule {
    Money apply(Member member, Money itemPrice);
}

public class VipFixedDiscountRule implements DiscountRule {
    private static final Money DISCOUNT_AMOUNT = new Money(1000);

    @Override
    public Money apply(Member member, Money itemPrice) {
        if (member.isVip()) {
            return DISCOUNT_AMOUNT;
        }
        return Money.ZERO;
    }
}
```

**3. ì• ê·¸ë¦¬ê²Œì´íŠ¸ (Aggregate)**

```java
// ì£¼ë¬¸ ì• ê·¸ë¦¬ê²Œì´íŠ¸ ë£¨íŠ¸
public class OrderAggregate {
    private Order order;  // ì• ê·¸ë¦¬ê²Œì´íŠ¸ ë£¨íŠ¸
    private List<OrderLineItem> lineItems;  // ì£¼ë¬¸ í•­ëª©ë“¤
    private Payment payment;  // ê²°ì œ ì •ë³´

    // ì• ê·¸ë¦¬ê²Œì´íŠ¸ ìƒì„±
    public static OrderAggregate createOrder(
            Member member,
            List<OrderLineItem> lineItems,
            DiscountDomainService discountService) {

        // 1. ì´ ê¸ˆì•¡ ê³„ì‚°
        Money totalPrice = lineItems.stream()
            .map(OrderLineItem::getPrice)
            .reduce(Money.ZERO, Money::add);

        // 2. í• ì¸ ê³„ì‚°
        Money discount = discountService.calculateDiscount(member, totalPrice);

        // 3. ì£¼ë¬¸ ìƒì„±
        Order order = Order.createOrder(
            member.getMemberId(),
            "ì£¼ë¬¸",
            totalPrice,
            discount
        );

        return new OrderAggregate(order, lineItems, null);
    }

    // ì• ê·¸ë¦¬ê²Œì´íŠ¸ ë©”ì„œë“œ
    public void pay(Money amount) {
        Money finalPrice = order.calculateFinalPrice();

        if (!amount.equals(finalPrice)) {
            throw new PaymentMismatchException("ê²°ì œ ê¸ˆì•¡ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        }

        this.payment = Payment.create(order.getOrderId(), amount);
        this.order.confirm();
    }

    public Money getTotalPrice() {
        return order.calculateFinalPrice();
    }
}

// ì£¼ë¬¸ í•­ëª© ì—”í‹°í‹°
public class OrderLineItem {
    private final String itemName;
    private final Money price;
    private final int quantity;

    public Money getTotalPrice() {
        return new Money(price.getValue() * quantity);
    }
}
```

**4. ë¦¬í¬ì§€í† ë¦¬ ê°œì„ **

```java
// ë„ë©”ì¸ ì¤‘ì‹¬ ë¦¬í¬ì§€í† ë¦¬
public interface OrderRepository {
    void save(OrderAggregate order);
    Optional<OrderAggregate> findById(OrderId orderId);
    List<OrderAggregate> findByMemberId(MemberId memberId);
    List<OrderAggregate> findByStatus(OrderStatus status);
}

// êµ¬í˜„ì²´ëŠ” ì¸í”„ë¼ ê³„ì¸µì—
public class JpaOrderRepository implements OrderRepository {
    // JPA ì—”í‹°í‹°ì™€ ë„ë©”ì¸ ê°ì²´ ë³€í™˜
}
```

**5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤**

```java
// ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ëŠ” ë„ë©”ì¸ ê°ì²´ë¥¼ ì¡°ìœ¨ë§Œ
@Service
public class OrderApplicationService {
    private final MemberRepository memberRepository;
    private final OrderRepository orderRepository;
    private final DiscountDomainService discountService;
    private final EventPublisher eventPublisher;

    @Transactional
    public OrderId createOrder(CreateOrderCommand command) {
        // 1. íšŒì› ì¡°íšŒ
        Member member = memberRepository.findById(command.getMemberId())
            .orElseThrow(() -> new MemberNotFoundException());

        // 2. ì£¼ë¬¸ í•­ëª© ìƒì„±
        List<OrderLineItem> lineItems = command.getItems().stream()
            .map(item -> new OrderLineItem(item.getName(), item.getPrice(), item.getQuantity()))
            .collect(Collectors.toList());

        // 3. ë„ë©”ì¸ ë¡œì§ ì‹¤í–‰ (ì• ê·¸ë¦¬ê²Œì´íŠ¸ì— ìœ„ì„)
        OrderAggregate order = OrderAggregate.createOrder(member, lineItems, discountService);

        // 4. ì €ì¥
        orderRepository.save(order);

        // 5. ì´ë²¤íŠ¸ ë°œí–‰
        eventPublisher.publish(new OrderCreatedEvent(order.getOrderId()));

        return order.getOrderId();
    }
}
```

**6. ëª…ë ¹(Command) ê°ì²´**

```java
// DTO ëŒ€ì‹  ëª…ë ¹ ê°ì²´ ì‚¬ìš©
public class CreateOrderCommand {
    private final MemberId memberId;
    private final List<OrderItemDto> items;

    // ...
}

public class OrderItemDto {
    private final String name;
    private final Money price;
    private final int quantity;

    // ...
}
```

#### DDD ì ìš© íš¨ê³¼

1. **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë„ë©”ì¸ ê³„ì¸µì— ì§‘ì¤‘**
   - Order ì—”í‹°í‹°ê°€ ìŠ¤ìŠ¤ë¡œ í–‰ìœ„ ìˆ˜í–‰
   - ì„œë¹„ìŠ¤ëŠ” ì¡°ìœ¨ë§Œ ë‹´ë‹¹

2. **ë¶ˆë³€ì„±ê³¼ ì¼ê´€ì„± ë³´ì¥**
   - ê°’ ê°ì²´(Money)ë¡œ ì•ˆì „í•œ ê¸ˆì•¡ ê³„ì‚°
   - ì• ê·¸ë¦¬ê²Œì´íŠ¸ë¡œ íŠ¸ëœì­ì…˜ ê²½ê³„ ëª…í™•í™”

3. **ë„ë©”ì¸ ì–¸ì–´ ì‚¬ìš©**
   - `confirm()`, `cancel()` ë“± ë„ë©”ì¸ ìš©ì–´ ì‚¬ìš©
   - ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì´ ì½”ë“œì— ëª…í™•íˆ í‘œí˜„

4. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**
   - ë„ë©”ì¸ ë¡œì§ì„ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
   - ì„œë¹„ìŠ¤ ê³„ì¸µ ì˜ì¡´ì„± ì œê±°

---

## ì „ì²´ ìš”ì•½

ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ê°œë°œì€ **ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì˜ ë¶„ë¦¬**ë¥¼ í†µí•´ ìœ ì—°í•œ êµ¬ì¡°ë¥¼ ë§Œë“­ë‹ˆë‹¤.

### êµ¬í˜„í•œ ì»´í¬ë„ŒíŠ¸
1. **DiscountPolicy**: í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤
2. **FixDiscountPolicy**: ê³ ì • ê¸ˆì•¡ 1000ì› í• ì¸
3. **Order**: ì£¼ë¬¸ ì •ë³´ ë° ìµœì¢… ê°€ê²© ê³„ì‚°
4. **OrderService**: ì£¼ë¬¸ ìƒì„± ì¸í„°í˜ì´ìŠ¤
5. **OrderServiceImpl**: íšŒì› ì¡°íšŒ + í• ì¸ ì ìš© + ì£¼ë¬¸ ìƒì„±

### í•µì‹¬ í¬ì¸íŠ¸
- í• ì¸ ê³„ì‚°ì„ DiscountPolicyì— ìœ„ì„ (SRP)
- ì¸í„°í˜ì´ìŠ¤ë¡œ ë‹¤í˜•ì„± í™œìš©
- Order ì—”í‹°í‹°ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨

### ë‚¨ì€ ë¬¸ì œ
- DIP ìœ„ë°˜: êµ¬í˜„ì²´ë¥¼ ì§ì ‘ ìƒì„±
- OCP ìœ„ë°˜: í• ì¸ ì •ì±… ë³€ê²½ ì‹œ ì½”ë“œ ìˆ˜ì • í•„ìš”
â†’ ë‹¤ìŒ ì„¹ì…˜ì—ì„œ í…ŒìŠ¤íŠ¸ë¡œ í™•ì¸ í›„ Spring DIë¡œ í•´ê²° ì˜ˆì •

---

## í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤
- [ ] ì£¼ë¬¸ ì—”í‹°í‹°ì™€ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤
- [ ] ìœ„ì„ì„ í†µí•œ ì±…ì„ ë¶„ë¦¬ë¥¼ ì´í•´í–ˆë‹¤
- [ ] í˜„ì¬ ì½”ë“œì˜ DIP, OCP ìœ„ë°˜ ë¬¸ì œë¥¼ ì¸ì‹í–ˆë‹¤
- [ ] ë„ë©”ì¸ ë¡œì§ì„ ì—”í‹°í‹°ì— í¬í•¨ì‹œí‚¤ëŠ” ë°©ë²•ì„ ì´í•´í–ˆë‹¤

---

## ë‹¤ìŒ í•™ìŠµ
ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ì‘ì„±í•œ ì£¼ë¬¸ ë„ë©”ì¸ì„ **í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ê²€ì¦**í•©ë‹ˆë‹¤.
- main ë©”ì„œë“œë¡œ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
- JUnit ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- í• ì¸ ê¸ˆì•¡ ê²€ì¦

**[2-8. ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ì‹¤í–‰ê³¼ í…ŒìŠ¤íŠ¸](2-8-ì£¼ë¬¸ê³¼í• ì¸ë„ë©”ì¸ì‹¤í–‰ê³¼í…ŒìŠ¤íŠ¸.md)** ì—ì„œ ê³„ì†ë©ë‹ˆë‹¤.

---

## ğŸ“š ì°¸ê³ ìë£Œ
- [Effective Java 3/E - Joshua Bloch](http://www.yes24.com/Product/Goods/65551284) - ì•„ì´í…œ 16: public í´ë˜ìŠ¤ì—ì„œëŠ” í•„ë“œê°€ ì•„ë‹Œ ì ‘ê·¼ì ë©”ì„œë“œ ì‚¬ìš©
- [ì˜¤ë¸Œì íŠ¸ - ì¡°ì˜í˜¸](http://www.yes24.com/Product/Goods/74219491) - ì±…ì„ ì£¼ë„ ì„¤ê³„
- [ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ - ì—ë¦­ ì—ë°˜ìŠ¤](http://www.yes24.com/Product/Goods/5312881) - ë„ë©”ì¸ ëª¨ë¸ê³¼ ì„¤ê³„
- [ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ êµ¬í˜„ - ë°˜ ë²„ë…¼](http://www.yes24.com/Product/Goods/25100510) - ì• ê·¸ë¦¬ê²Œì´íŠ¸ì™€ ë„ë©”ì¸ ì„œë¹„ìŠ¤
- [Head First Design Patterns](http://www.yes24.com/Product/Goods/1778966) - Strategy Pattern
