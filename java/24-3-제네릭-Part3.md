# 24ì¥ ì œë„¤ë¦­ Part 3 - ì‹¤ì „ í”„ë¡œì íŠ¸ & FAQ ğŸš€

## ğŸ’¼ ì‹¤ì „ í”„ë¡œì íŠ¸: ì œë„¤ë¦­ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„

### í”„ë¡œì íŠ¸ ê°œìš”
ì „ììƒê±°ë˜ ì‹œìŠ¤í…œì—ì„œ ì£¼ë¬¸, ê²°ì œ, ë°°ì†¡ ë“± ë‹¤ì–‘í•œ ë„ë©”ì¸ì— ëŒ€í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ê²€ì¦í•˜ê³  ë³€í™˜í•˜ëŠ” ë²”ìš© ê·œì¹™ ì—”ì§„ì„ ì œë„¤ë¦­ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
1. **ì œë„¤ë¦­ ê²€ì¦ê¸°(Validator)**: ë‹¤ì–‘í•œ ì—”í‹°í‹°ì˜ ìœ íš¨ì„± ê²€ì‚¬
2. **ì œë„¤ë¦­ ë³€í™˜ê¸°(Transformer)**: ë°ì´í„° ë³€í™˜ íŒŒì´í”„ë¼ì¸
3. **ì œë„¤ë¦­ í•„í„°(Filter)**: ì¡°ê±´ë¶€ ë°ì´í„° í•„í„°ë§
4. **ê·œì¹™ ì²´ì´ë‹**: ì—¬ëŸ¬ ê·œì¹™ì„ ì¡°í•©í•˜ëŠ” ë¹Œë” íŒ¨í„´

### ì „ì²´ ì½”ë“œ

```java
import java.time.LocalDateTime;
import java.util.*;
import java.util.function.*;
import java.util.stream.Collectors;

// ========== 1. ì œë„¤ë¦­ ê·œì¹™ ì¸í„°í˜ì´ìŠ¤ ==========

/**
 * ì œë„¤ë¦­ ê²€ì¦ ê·œì¹™ ì¸í„°í˜ì´ìŠ¤
 * @param <T> ê²€ì¦ ëŒ€ìƒ íƒ€ì…
 */
@FunctionalInterface
interface ValidationRule<T> {
    ValidationResult validate(T target);

    // ì—¬ëŸ¬ ê·œì¹™ì„ AND ì¡°ê±´ìœ¼ë¡œ ê²°í•©
    default ValidationRule<T> and(ValidationRule<T> other) {
        return target -> {
            ValidationResult first = this.validate(target);
            return first.isValid() ? other.validate(target) : first;
        };
    }
}

/**
 * ê²€ì¦ ê²°ê³¼
 */
class ValidationResult {
    private final boolean valid;
    private final String errorMessage;

    private ValidationResult(boolean valid, String errorMessage) {
        this.valid = valid;
        this.errorMessage = errorMessage;
    }

    public static ValidationResult success() {
        return new ValidationResult(true, null);
    }

    public static ValidationResult fail(String errorMessage) {
        return new ValidationResult(false, errorMessage);
    }

    public boolean isValid() { return valid; }
    public String getErrorMessage() { return errorMessage; }

    @Override
    public String toString() {
        return valid ? "âœ… ê²€ì¦ í†µê³¼" : "âŒ ê²€ì¦ ì‹¤íŒ¨: " + errorMessage;
    }
}

/**
 * ì œë„¤ë¦­ ë³€í™˜ ê·œì¹™ ì¸í„°í˜ì´ìŠ¤
 * @param <S> ì†ŒìŠ¤ íƒ€ì…
 * @param <T> íƒ€ê²Ÿ íƒ€ì…
 */
@FunctionalInterface
interface TransformationRule<S, T> {
    T transform(S source);

    // ë³€í™˜ ì²´ì´ë‹
    default <R> TransformationRule<S, R> andThen(TransformationRule<T, R> next) {
        return source -> next.transform(this.transform(source));
    }
}

/**
 * ì œë„¤ë¦­ í•„í„° ê·œì¹™ ì¸í„°í˜ì´ìŠ¤
 * @param <T> í•„í„°ë§ ëŒ€ìƒ íƒ€ì…
 */
@FunctionalInterface
interface FilterRule<T> {
    boolean test(T item);

    default FilterRule<T> and(FilterRule<T> other) {
        return item -> this.test(item) && other.test(item);
    }

    default FilterRule<T> or(FilterRule<T> other) {
        return item -> this.test(item) || other.test(item);
    }
}

// ========== 2. ë„ë©”ì¸ ëª¨ë¸ ==========

class Order {
    private String orderId;
    private String customerId;
    private List<OrderItem> items;
    private int totalAmount;
    private LocalDateTime orderDate;
    private OrderStatus status;

    public Order(String orderId, String customerId, List<OrderItem> items,
                 int totalAmount, LocalDateTime orderDate, OrderStatus status) {
        this.orderId = orderId;
        this.customerId = customerId;
        this.items = items;
        this.totalAmount = totalAmount;
        this.orderDate = orderDate;
        this.status = status;
    }

    // Getters
    public String getOrderId() { return orderId; }
    public String getCustomerId() { return customerId; }
    public List<OrderItem> getItems() { return items; }
    public int getTotalAmount() { return totalAmount; }
    public LocalDateTime getOrderDate() { return orderDate; }
    public OrderStatus getStatus() { return status; }

    public void setStatus(OrderStatus status) { this.status = status; }

    @Override
    public String toString() {
        return "Order[" + orderId + "] " + customerId +
               " - " + String.format("%,dì›", totalAmount) +
               " (" + status + ")";
    }
}

class OrderItem {
    private String productId;
    private String productName;
    private int quantity;
    private int price;

    public OrderItem(String productId, String productName, int quantity, int price) {
        this.productId = productId;
        this.productName = productName;
        this.quantity = quantity;
        this.price = price;
    }

    public String getProductId() { return productId; }
    public String getProductName() { return productName; }
    public int getQuantity() { return quantity; }
    public int getPrice() { return price; }

    @Override
    public String toString() {
        return productName + " x" + quantity + " (" + String.format("%,dì›", price) + ")";
    }
}

enum OrderStatus {
    PENDING, CONFIRMED, SHIPPED, DELIVERED, CANCELLED
}

class OrderSummary {
    private String orderId;
    private int totalAmount;
    private int itemCount;

    public OrderSummary(String orderId, int totalAmount, int itemCount) {
        this.orderId = orderId;
        this.totalAmount = totalAmount;
        this.itemCount = itemCount;
    }

    @Override
    public String toString() {
        return "Summary[" + orderId + "] " + itemCount + "ê°œ ìƒí’ˆ, " +
               String.format("%,dì›", totalAmount);
    }
}

// ========== 3. ì œë„¤ë¦­ ê·œì¹™ ì—”ì§„ ==========

/**
 * ì œë„¤ë¦­ ê·œì¹™ ì—”ì§„ - Validator, Transformer, Filter í†µí•©
 */
class RuleEngine<T> {
    private List<ValidationRule<T>> validationRules = new ArrayList<>();
    private List<FilterRule<T>> filterRules = new ArrayList<>();

    // Validation ê·œì¹™ ì¶”ê°€
    public RuleEngine<T> addValidation(ValidationRule<T> rule) {
        validationRules.add(rule);
        return this;
    }

    // Filter ê·œì¹™ ì¶”ê°€
    public RuleEngine<T> addFilter(FilterRule<T> rule) {
        filterRules.add(rule);
        return this;
    }

    // ë‹¨ì¼ ê°ì²´ ê²€ì¦
    public List<ValidationResult> validate(T target) {
        List<ValidationResult> results = new ArrayList<>();
        for (ValidationRule<T> rule : validationRules) {
            results.add(rule.validate(target));
        }
        return results;
    }

    // ì—¬ëŸ¬ ê°ì²´ í•„í„°ë§
    public List<T> filter(List<T> items) {
        return items.stream()
                   .filter(item -> filterRules.stream().allMatch(rule -> rule.test(item)))
                   .collect(Collectors.toList());
    }

    // ê²€ì¦ + í•„í„°ë§
    public List<T> validateAndFilter(List<T> items) {
        return items.stream()
                   .filter(item -> {
                       List<ValidationResult> results = validate(item);
                       return results.stream().allMatch(ValidationResult::isValid);
                   })
                   .filter(item -> filterRules.stream().allMatch(rule -> rule.test(item)))
                   .collect(Collectors.toList());
    }
}

/**
 * ì œë„¤ë¦­ ë³€í™˜ íŒŒì´í”„ë¼ì¸
 */
class TransformPipeline<S, T> {
    private final TransformationRule<S, T> rule;

    public TransformPipeline(TransformationRule<S, T> rule) {
        this.rule = rule;
    }

    public static <S, T> TransformPipeline<S, T> from(TransformationRule<S, T> rule) {
        return new TransformPipeline<>(rule);
    }

    public <R> TransformPipeline<S, R> then(TransformationRule<T, R> next) {
        return new TransformPipeline<>(rule.andThen(next));
    }

    public T execute(S source) {
        return rule.transform(source);
    }

    public List<T> executeAll(List<S> sources) {
        return sources.stream()
                     .map(rule::transform)
                     .collect(Collectors.toList());
    }
}

// ========== 4. ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì •ì˜ ==========

class OrderRules {

    // ê²€ì¦ ê·œì¹™ 1: ì£¼ë¬¸ ê¸ˆì•¡ ìµœì†Œê°’
    public static ValidationRule<Order> minimumAmount(int minAmount) {
        return order -> {
            if (order.getTotalAmount() >= minAmount) {
                return ValidationResult.success();
            }
            return ValidationResult.fail(
                "ìµœì†Œ ì£¼ë¬¸ ê¸ˆì•¡ ë¯¸ë‹¬: " + String.format("%,dì›", minAmount) + " í•„ìš”"
            );
        };
    }

    // ê²€ì¦ ê·œì¹™ 2: ì£¼ë¬¸ í•­ëª© ê°œìˆ˜ ì œí•œ
    public static ValidationRule<Order> maximumItems(int maxItems) {
        return order -> {
            if (order.getItems().size() <= maxItems) {
                return ValidationResult.success();
            }
            return ValidationResult.fail(
                "ì£¼ë¬¸ í•­ëª© ì´ˆê³¼: ìµœëŒ€ " + maxItems + "ê°œê¹Œì§€ ê°€ëŠ¥"
            );
        };
    }

    // ê²€ì¦ ê·œì¹™ 3: ê³ ê° ID í˜•ì‹
    public static ValidationRule<Order> validCustomerId() {
        return order -> {
            String customerId = order.getCustomerId();
            if (customerId != null && customerId.matches("CUST-\\d{4}")) {
                return ValidationResult.success();
            }
            return ValidationResult.fail(
                "ì˜ëª»ëœ ê³ ê° ID í˜•ì‹: CUST-XXXX í˜•ì‹ì´ì–´ì•¼ í•¨"
            );
        };
    }

    // í•„í„° ê·œì¹™ 1: ìƒíƒœë³„ í•„í„°
    public static FilterRule<Order> byStatus(OrderStatus status) {
        return order -> order.getStatus() == status;
    }

    // í•„í„° ê·œì¹™ 2: ê¸ˆì•¡ ë²”ìœ„ í•„í„°
    public static FilterRule<Order> amountBetween(int min, int max) {
        return order -> {
            int amount = order.getTotalAmount();
            return amount >= min && amount <= max;
        };
    }

    // ë³€í™˜ ê·œì¹™: Order â†’ OrderSummary
    public static TransformationRule<Order, OrderSummary> toSummary() {
        return order -> new OrderSummary(
            order.getOrderId(),
            order.getTotalAmount(),
            order.getItems().size()
        );
    }

    // ë³€í™˜ ê·œì¹™: í• ì¸ ì ìš©
    public static TransformationRule<Order, Order> applyDiscount(double discountRate) {
        return order -> {
            int discountedAmount = (int) (order.getTotalAmount() * (1 - discountRate));
            return new Order(
                order.getOrderId(),
                order.getCustomerId(),
                order.getItems(),
                discountedAmount,
                order.getOrderDate(),
                order.getStatus()
            );
        };
    }
}

// ========== 5. ë©”ì¸ ì‹¤í–‰ ==========

public class GenericRuleEngineProject {
    public static void main(String[] args) {
        System.out.println("=== ì œë„¤ë¦­ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„ ===\n");

        // í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
        List<Order> orders = createSampleOrders();

        // ===== 1. Validation ê·œì¹™ =====
        System.out.println("--- 1. ì£¼ë¬¸ ê²€ì¦ ê·œì¹™ ---\n");

        RuleEngine<Order> validator = new RuleEngine<>();
        validator.addValidation(OrderRules.minimumAmount(10000))
                .addValidation(OrderRules.maximumItems(5))
                .addValidation(OrderRules.validCustomerId());

        for (Order order : orders) {
            System.out.println("ê²€ì¦ ëŒ€ìƒ: " + order);
            List<ValidationResult> results = validator.validate(order);
            results.forEach(result -> System.out.println("   " + result));
            System.out.println();
        }

        // ===== 2. Filter ê·œì¹™ =====
        System.out.println("--- 2. ì£¼ë¬¸ í•„í„°ë§ ê·œì¹™ ---\n");

        RuleEngine<Order> filter = new RuleEngine<>();
        filter.addFilter(OrderRules.byStatus(OrderStatus.CONFIRMED))
             .addFilter(OrderRules.amountBetween(20000, 100000));

        List<Order> filteredOrders = filter.filter(orders);
        System.out.println("í•„í„° ì¡°ê±´: CONFIRMED ìƒíƒœ + 20,000~100,000ì›");
        System.out.println("í•„í„° ê²°ê³¼ (" + filteredOrders.size() + "ê±´):");
        filteredOrders.forEach(order -> System.out.println("   " + order));
        System.out.println();

        // ===== 3. Transformation ê·œì¹™ =====
        System.out.println("--- 3. ì£¼ë¬¸ ë³€í™˜ ê·œì¹™ ---\n");

        // Order â†’ OrderSummary ë³€í™˜
        TransformPipeline<Order, OrderSummary> summaryPipeline =
            TransformPipeline.from(OrderRules.toSummary());

        List<OrderSummary> summaries = summaryPipeline.executeAll(orders);
        System.out.println("Order â†’ OrderSummary ë³€í™˜:");
        summaries.forEach(summary -> System.out.println("   " + summary));
        System.out.println();

        // í• ì¸ ì ìš© í›„ ìš”ì•½ ë³€í™˜ (ì²´ì´ë‹)
        TransformPipeline<Order, OrderSummary> discountPipeline =
            TransformPipeline.from(OrderRules.applyDiscount(0.1))  // 10% í• ì¸
                           .then(OrderRules.toSummary());          // ìš”ì•½ ë³€í™˜

        System.out.println("10% í• ì¸ ì ìš© í›„ ìš”ì•½:");
        List<OrderSummary> discountedSummaries = discountPipeline.executeAll(orders);
        discountedSummaries.forEach(summary -> System.out.println("   " + summary));
        System.out.println();

        // ===== 4. ë³µí•© ê·œì¹™ (Validation + Filter) =====
        System.out.println("--- 4. ë³µí•© ê·œì¹™ (ê²€ì¦ + í•„í„°) ---\n");

        RuleEngine<Order> complexEngine = new RuleEngine<>();
        complexEngine.addValidation(OrderRules.minimumAmount(10000))
                    .addValidation(OrderRules.validCustomerId())
                    .addFilter(OrderRules.byStatus(OrderStatus.CONFIRMED));

        List<Order> validAndFiltered = complexEngine.validateAndFilter(orders);
        System.out.println("ê²€ì¦ í†µê³¼ + CONFIRMED ìƒíƒœ ì£¼ë¬¸ (" + validAndFiltered.size() + "ê±´):");
        validAndFiltered.forEach(order -> System.out.println("   " + order));

        // ===== 5. ì‹¤ë¬´ ì‹œë‚˜ë¦¬ì˜¤: ì£¼ë¬¸ ìŠ¹ì¸ íŒŒì´í”„ë¼ì¸ =====
        System.out.println("\n--- 5. ì‹¤ë¬´ ì‹œë‚˜ë¦¬ì˜¤: ì£¼ë¬¸ ìŠ¹ì¸ íŒŒì´í”„ë¼ì¸ ---\n");

        System.out.println("ì´ ì£¼ë¬¸: " + orders.size() + "ê±´");

        // Step 1: ê²€ì¦
        ValidationRule<Order> combinedValidation =
            OrderRules.minimumAmount(10000)
                     .and(OrderRules.maximumItems(10))
                     .and(OrderRules.validCustomerId());

        List<Order> validOrders = orders.stream()
            .filter(order -> combinedValidation.validate(order).isValid())
            .collect(Collectors.toList());
        System.out.println("Step 1 - ê²€ì¦ í†µê³¼: " + validOrders.size() + "ê±´");

        // Step 2: PENDING ì£¼ë¬¸ë§Œ í•„í„°
        List<Order> pendingOrders = validOrders.stream()
            .filter(order -> order.getStatus() == OrderStatus.PENDING)
            .collect(Collectors.toList());
        System.out.println("Step 2 - PENDING ì£¼ë¬¸: " + pendingOrders.size() + "ê±´");

        // Step 3: ìƒíƒœ ë³€ê²½ (PENDING â†’ CONFIRMED)
        pendingOrders.forEach(order -> order.setStatus(OrderStatus.CONFIRMED));
        System.out.println("Step 3 - ì£¼ë¬¸ ìŠ¹ì¸ ì™„ë£Œ: " + pendingOrders.size() + "ê±´");

        System.out.println("\nìŠ¹ì¸ëœ ì£¼ë¬¸:");
        pendingOrders.forEach(order -> System.out.println("   " + order));

        System.out.println("\n\nâœ… ì œë„¤ë¦­ ê·œì¹™ ì—”ì§„ì˜ ì¥ì :");
        System.out.println("1. ì¬ì‚¬ìš©ì„±: ë™ì¼í•œ ì—”ì§„ìœ¼ë¡œ Order, User, Product ë“± ë‹¤ì–‘í•œ ë„ë©”ì¸ ì²˜ë¦¬");
        System.out.println("2. íƒ€ì… ì•ˆì „ì„±: ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì²´í¬");
        System.out.println("3. ì¡°í•© ê°€ëŠ¥: ê·œì¹™ì„ and, or, andThenìœ¼ë¡œ ìœ ì—°í•˜ê²Œ ì¡°í•©");
        System.out.println("4. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°: ëŒë‹¤ í‘œí˜„ì‹ê³¼ ì™„ë²½í•œ ì¡°í•©");
        System.out.println("5. í™•ì¥ì„±: ìƒˆë¡œìš´ ê·œì¹™ì„ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥");
    }

    // í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
    private static List<Order> createSampleOrders() {
        return Arrays.asList(
            new Order("ORD-001", "CUST-1001",
                Arrays.asList(
                    new OrderItem("P001", "ë…¸íŠ¸ë¶", 1, 150000),
                    new OrderItem("P002", "ë§ˆìš°ìŠ¤", 2, 3000)
                ),
                50000, LocalDateTime.now(), OrderStatus.PENDING),

            new Order("ORD-002", "CUST-1002",
                Arrays.asList(
                    new OrderItem("P003", "í‚¤ë³´ë“œ", 1, 80000)
                ),
                80000, LocalDateTime.now(), OrderStatus.CONFIRMED),

            new Order("ORD-003", "INVALID",  // ì˜ëª»ëœ ê³ ê° ID
                Arrays.asList(
                    new OrderItem("P004", "ëª¨ë‹ˆí„°", 1, 30000)
                ),
                30000, LocalDateTime.now(), OrderStatus.CONFIRMED),

            new Order("ORD-004", "CUST-1003",
                Arrays.asList(
                    new OrderItem("P005", "USB", 1, 5000)  // ìµœì†Œ ê¸ˆì•¡ ë¯¸ë‹¬
                ),
                5000, LocalDateTime.now(), OrderStatus.PENDING),

            new Order("ORD-005", "CUST-1004",
                Arrays.asList(
                    new OrderItem("P006", "ì±…ìƒ", 1, 200000)
                ),
                200000, LocalDateTime.now(), OrderStatus.SHIPPED)
        );
    }
}
```

### ì‹¤í–‰ ê²°ê³¼

```
=== ì œë„¤ë¦­ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„ ===

--- 1. ì£¼ë¬¸ ê²€ì¦ ê·œì¹™ ---

ê²€ì¦ ëŒ€ìƒ: Order[ORD-001] CUST-1001 - 50,000ì› (PENDING)
   âœ… ê²€ì¦ í†µê³¼
   âœ… ê²€ì¦ í†µê³¼
   âœ… ê²€ì¦ í†µê³¼

ê²€ì¦ ëŒ€ìƒ: Order[ORD-002] CUST-1002 - 80,000ì› (CONFIRMED)
   âœ… ê²€ì¦ í†µê³¼
   âœ… ê²€ì¦ í†µê³¼
   âœ… ê²€ì¦ í†µê³¼

ê²€ì¦ ëŒ€ìƒ: Order[ORD-003] INVALID - 30,000ì› (CONFIRMED)
   âœ… ê²€ì¦ í†µê³¼
   âœ… ê²€ì¦ í†µê³¼
   âŒ ê²€ì¦ ì‹¤íŒ¨: ì˜ëª»ëœ ê³ ê° ID í˜•ì‹: CUST-XXXX í˜•ì‹ì´ì–´ì•¼ í•¨

ê²€ì¦ ëŒ€ìƒ: Order[ORD-004] CUST-1003 - 5,000ì› (PENDING)
   âŒ ê²€ì¦ ì‹¤íŒ¨: ìµœì†Œ ì£¼ë¬¸ ê¸ˆì•¡ ë¯¸ë‹¬: 10,000ì› í•„ìš”
   âœ… ê²€ì¦ í†µê³¼
   âœ… ê²€ì¦ í†µê³¼

ê²€ì¦ ëŒ€ìƒ: Order[ORD-005] CUST-1004 - 200,000ì› (SHIPPED)
   âœ… ê²€ì¦ í†µê³¼
   âœ… ê²€ì¦ í†µê³¼
   âœ… ê²€ì¦ í†µê³¼

--- 2. ì£¼ë¬¸ í•„í„°ë§ ê·œì¹™ ---

í•„í„° ì¡°ê±´: CONFIRMED ìƒíƒœ + 20,000~100,000ì›
í•„í„° ê²°ê³¼ (2ê±´):
   Order[ORD-002] CUST-1002 - 80,000ì› (CONFIRMED)
   Order[ORD-003] INVALID - 30,000ì› (CONFIRMED)

--- 3. ì£¼ë¬¸ ë³€í™˜ ê·œì¹™ ---

Order â†’ OrderSummary ë³€í™˜:
   Summary[ORD-001] 2ê°œ ìƒí’ˆ, 50,000ì›
   Summary[ORD-002] 1ê°œ ìƒí’ˆ, 80,000ì›
   Summary[ORD-003] 1ê°œ ìƒí’ˆ, 30,000ì›
   Summary[ORD-004] 1ê°œ ìƒí’ˆ, 5,000ì›
   Summary[ORD-005] 1ê°œ ìƒí’ˆ, 200,000ì›

10% í• ì¸ ì ìš© í›„ ìš”ì•½:
   Summary[ORD-001] 2ê°œ ìƒí’ˆ, 45,000ì›
   Summary[ORD-002] 1ê°œ ìƒí’ˆ, 72,000ì›
   Summary[ORD-003] 1ê°œ ìƒí’ˆ, 27,000ì›
   Summary[ORD-004] 1ê°œ ìƒí’ˆ, 4,500ì›
   Summary[ORD-005] 1ê°œ ìƒí’ˆ, 180,000ì›

--- 4. ë³µí•© ê·œì¹™ (ê²€ì¦ + í•„í„°) ---

ê²€ì¦ í†µê³¼ + CONFIRMED ìƒíƒœ ì£¼ë¬¸ (1ê±´):
   Order[ORD-002] CUST-1002 - 80,000ì› (CONFIRMED)

--- 5. ì‹¤ë¬´ ì‹œë‚˜ë¦¬ì˜¤: ì£¼ë¬¸ ìŠ¹ì¸ íŒŒì´í”„ë¼ì¸ ---

ì´ ì£¼ë¬¸: 5ê±´
Step 1 - ê²€ì¦ í†µê³¼: 3ê±´
Step 2 - PENDING ì£¼ë¬¸: 1ê±´
Step 3 - ì£¼ë¬¸ ìŠ¹ì¸ ì™„ë£Œ: 1ê±´

ìŠ¹ì¸ëœ ì£¼ë¬¸:
   Order[ORD-001] CUST-1001 - 50,000ì› (CONFIRMED)


âœ… ì œë„¤ë¦­ ê·œì¹™ ì—”ì§„ì˜ ì¥ì :
1. ì¬ì‚¬ìš©ì„±: ë™ì¼í•œ ì—”ì§„ìœ¼ë¡œ Order, User, Product ë“± ë‹¤ì–‘í•œ ë„ë©”ì¸ ì²˜ë¦¬
2. íƒ€ì… ì•ˆì „ì„±: ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì²´í¬
3. ì¡°í•© ê°€ëŠ¥: ê·œì¹™ì„ and, or, andThenìœ¼ë¡œ ìœ ì—°í•˜ê²Œ ì¡°í•©
4. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°: ëŒë‹¤ í‘œí˜„ì‹ê³¼ ì™„ë²½í•œ ì¡°í•©
5. í™•ì¥ì„±: ìƒˆë¡œìš´ ê·œì¹™ì„ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥
```

### í”„ë¡œì íŠ¸ í•µì‹¬ í¬ì¸íŠ¸

#### 1. ì œë„¤ë¦­ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
```java
@FunctionalInterface
interface ValidationRule<T> {
    ValidationResult validate(T target);
}
```
- ì–´ë–¤ íƒ€ì…ì´ë“  ê²€ì¦ ê°€ëŠ¥í•œ ë²”ìš© ì¸í„°í˜ì´ìŠ¤
- `@FunctionalInterface`ë¡œ ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš© ê°€ëŠ¥

#### 2. ì œë„¤ë¦­ ë©”ì„œë“œ ì²´ì´ë‹
```java
default ValidationRule<T> and(ValidationRule<T> other) {
    return target -> {
        ValidationResult first = this.validate(target);
        return first.isValid() ? other.validate(target) : first;
    };
}
```
- ì—¬ëŸ¬ ê·œì¹™ì„ ì¡°í•©í•˜ëŠ” Fluent API
- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨í„´

#### 3. ë‹¤ì¤‘ íƒ€ì… íŒŒë¼ë¯¸í„°
```java
interface TransformationRule<S, T> {
    T transform(S source);
}
```
- Source íƒ€ì… â†’ Target íƒ€ì… ë³€í™˜
- `Order â†’ OrderSummary` ë“± ë‹¤ì–‘í•œ ë³€í™˜ í‘œí˜„

#### 4. ì œë„¤ë¦­ + ë¹Œë” íŒ¨í„´
```java
TransformPipeline<Order, OrderSummary> pipeline =
    TransformPipeline.from(OrderRules.applyDiscount(0.1))
                   .then(OrderRules.toSummary());
```
- ë³€í™˜ ê·œì¹™ì„ ì²´ì´ë‹í•˜ëŠ” íŒŒì´í”„ë¼ì¸
- ê°€ë…ì„±ê³¼ ì¬ì‚¬ìš©ì„± ê·¹ëŒ€í™”

### í™•ì¥ ì•„ì´ë””ì–´
1. **ì œë„¤ë¦­ ì´ë²¤íŠ¸ ë²„ìŠ¤**: `EventBus<T>`ë¡œ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ ì²˜ë¦¬
2. **ì œë„¤ë¦­ ë¦¬í¬ì§€í† ë¦¬**: Spring Data JPA ìŠ¤íƒ€ì¼ì˜ `Repository<T, ID>`
3. **ì œë„¤ë¦­ ìƒíƒœ ë¨¸ì‹ **: `StateMachine<S, E>` (State, Event)
4. **ì œë„¤ë¦­ ì»¤ë§¨ë“œ íŒ¨í„´**: `Command<T>`, `CommandHandler<T>`

---

## â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

### Q1. ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì–´ë–¤ ë¬¸ì œê°€ ìˆë‚˜ìš”?

**A:** ì œë„¤ë¦­ ì—†ì´ `Object`ë¥¼ ì‚¬ìš©í•˜ë©´ ì„¸ ê°€ì§€ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤:

1. **íƒ€ì… ì•ˆì „ì„± ìƒì‹¤**
```java
List list = new ArrayList();
list.add("ë¬¸ìì—´");
list.add(123);  // ì»´íŒŒì¼ OK, ëŸ°íƒ€ì„ ì—ëŸ¬ ìœ„í—˜
String str = (String) list.get(1);  // ClassCastException!
```

2. **ë¶ˆí•„ìš”í•œ íƒ€ì… ìºìŠ¤íŒ…**
```java
// ì œë„¤ë¦­ ì—†ìŒ
Object obj = list.get(0);
String str = (String) obj;  // ë§¤ë²ˆ ìºìŠ¤íŒ… í•„ìš”

// ì œë„¤ë¦­ ì‚¬ìš©
List<String> list = new ArrayList<>();
String str = list.get(0);  // ìºìŠ¤íŒ… ë¶ˆí•„ìš”
```

3. **ì»´íŒŒì¼ íƒ€ì„ ì²´í¬ ë¶ˆê°€**
```java
// ì œë„¤ë¦­ ì—†ìŒ: ëŸ°íƒ€ì„ì—ì„œì•¼ ì—ëŸ¬ ë°œê²¬
List list = new ArrayList();
list.add(new Integer(10));
String str = (String) list.get(0);  // ğŸ’¥ ëŸ°íƒ€ì„ ì—ëŸ¬

// ì œë„¤ë¦­ ì‚¬ìš©: ì»´íŒŒì¼ íƒ€ì„ì— ì—ëŸ¬ ë°œê²¬
List<String> list = new ArrayList<>();
list.add(10);  // âŒ ì»´íŒŒì¼ ì—ëŸ¬! ì¦‰ì‹œ ë°œê²¬
```

**í•µì‹¬**: ì œë„¤ë¦­ì€ "ë¹ ë¥¸ ì‹¤íŒ¨(Fail-fast)" ì›ì¹™ìœ¼ë¡œ ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ì»´íŒŒì¼ íƒ€ì„ìœ¼ë¡œ ì•ë‹¹ê¹ë‹ˆë‹¤.

---

### Q2. `<? extends T>`ì™€ `<? super T>`ì˜ ì°¨ì´ê°€ í—·ê°ˆë ¤ìš”. ì–¸ì œ ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•˜ë‚˜ìš”?

**A:** **PECS ì›ì¹™**ì„ ê¸°ì–µí•˜ì„¸ìš”: **Producer-Extends, Consumer-Super**

#### `<? extends T>` - ì½ê¸° ì „ìš© (Producer)
```java
// ë°ì´í„°ë¥¼ "ìƒì‚°"í•˜ëŠ” ê²½ìš° - ì½ê¸°ë§Œ ê°€ëŠ¥
public static double sumNumbers(List<? extends Number> numbers) {
    double sum = 0;
    for (Number num : numbers) {  // âœ… ì½ê¸° ê°€ëŠ¥
        sum += num.doubleValue();
    }
    // numbers.add(10);  // âŒ ì“°ê¸° ë¶ˆê°€ëŠ¥
    return sum;
}

// Integer, Double ë“± ëª¨ë“  Number í•˜ìœ„ íƒ€ì… í—ˆìš©
sumNumbers(Arrays.asList(1, 2, 3));        // List<Integer>
sumNumbers(Arrays.asList(1.5, 2.5, 3.5));  // List<Double>
```

**ì™œ ì“°ê¸° ë¶ˆê°€ëŠ¥?**
- `List<? extends Number>`ëŠ” `List<Integer>`, `List<Double>` ë“± ì–´ë–¤ íƒ€ì…ì¸ì§€ ëª¨ë¦…ë‹ˆë‹¤
- `List<Integer>`ì— `Double`ì„ ë„£ìœ¼ë©´ íƒ€ì… ì•ˆì „ì„± ìœ„ë°˜!

#### `<? super T>` - ì“°ê¸° ì „ìš© (Consumer)
```java
// ë°ì´í„°ë¥¼ "ì†Œë¹„"í•˜ëŠ” ê²½ìš° - ì“°ê¸°ë§Œ ê°€ëŠ¥
public static void addNumbers(List<? super Integer> numbers) {
    numbers.add(10);  // âœ… ì“°ê¸° ê°€ëŠ¥
    numbers.add(20);
    numbers.add(30);

    // Integer num = numbers.get(0);  // âŒ ì½ê¸° ì œí•œ
    Object obj = numbers.get(0);      // âš ï¸ Objectë¡œë§Œ ê°€ëŠ¥
}

// Integerì˜ ìƒìœ„ íƒ€ì… í—ˆìš©
List<Number> numbers = new ArrayList<>();
addNumbers(numbers);  // List<Number>
List<Object> objects = new ArrayList<>();
addNumbers(objects);  // List<Object>
```

**ì™œ ì½ê¸° ì œí•œ?**
- `List<? super Integer>`ëŠ” `List<Number>`, `List<Object>` ë“± ì–´ë–¤ íƒ€ì…ì¸ì§€ ëª¨ë¦…ë‹ˆë‹¤
- êº¼ë‚¼ ë•Œ `Number`ì¸ì§€ `Object`ì¸ì§€ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ `Object`ë¡œë§Œ ì½ê¸° ê°€ëŠ¥

#### ì‹¤ë¬´ ì‚¬ìš© ì˜ˆì‹œ
```java
// Collections.copy() ì‹¤ì œ êµ¬í˜„
public static <T> void copy(
    List<? super T> dest,     // Consumer (ì“°ê¸°)
    List<? extends T> src     // Producer (ì½ê¸°)
) {
    for (T item : src) {
        dest.add(item);
    }
}

List<Integer> source = Arrays.asList(1, 2, 3);
List<Number> destination = new ArrayList<>();
Collections.copy(destination, source);  // âœ… ê°€ëŠ¥
```

---

### Q3. íƒ€ì… ì†Œê±°(Type Erasure)ë€ ë¬´ì—‡ì´ê³ , ì™œ í•„ìš”í•œê°€ìš”?

**A:** íƒ€ì… ì†Œê±°ëŠ” **ì»´íŒŒì¼ í›„ ì œë„¤ë¦­ íƒ€ì… ì •ë³´ë¥¼ ì œê±°**í•˜ëŠ” Javaì˜ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.

#### íƒ€ì… ì†Œê±° ê³¼ì •
```java
// ì»´íŒŒì¼ ì „ (ì†ŒìŠ¤ ì½”ë“œ)
List<String> strings = new ArrayList<String>();
strings.add("Hello");
String str = strings.get(0);

// ì»´íŒŒì¼ í›„ (ë°”ì´íŠ¸ì½”ë“œ - íƒ€ì… ì†Œê±°)
List strings = new ArrayList();  // íƒ€ì… íŒŒë¼ë¯¸í„° ì œê±°
strings.add("Hello");
String str = (String) strings.get(0);  // ì»´íŒŒì¼ëŸ¬ê°€ ìë™ ìºìŠ¤íŒ… ì‚½ì…
```

#### íƒ€ì… ì†Œê±° ê·œì¹™
1. **íƒ€ì… íŒŒë¼ë¯¸í„° â†’ ë°”ìš´ë“œ ë˜ëŠ” Object**
```java
// ì†ŒìŠ¤ ì½”ë“œ
class Box<T> { private T item; }
class NumberBox<T extends Number> { private T value; }

// ì»´íŒŒì¼ í›„
class Box { private Object item; }  // T â†’ Object
class NumberBox { private Number value; }  // T extends Number â†’ Number
```

2. **ì œë„¤ë¦­ ë©”ì„œë“œë„ ë™ì¼**
```java
// ì†ŒìŠ¤ ì½”ë“œ
public <T> T getFirst(List<T> list) {
    return list.get(0);
}

// ì»´íŒŒì¼ í›„
public Object getFirst(List list) {  // T â†’ Object
    return list.get(0);
}
```

#### ì™œ íƒ€ì… ì†Œê±°ê°€ í•„ìš”í•œê°€?
**í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€ (Backward Compatibility)**

Java 5 ì´ì „ ì½”ë“œì™€ í˜¸í™˜ë˜ë„ë¡ í•˜ê¸° ìœ„í•¨:
```java
// Java 1.4 (ì œë„¤ë¦­ ì—†ìŒ)
List oldList = new ArrayList();
oldList.add("old");

// Java 5+ (ì œë„¤ë¦­ ìˆìŒ)
List<String> newList = new ArrayList<>();
newList.add("new");

// íƒ€ì… ì†Œê±° ë•ë¶„ì— ë‘ ì½”ë“œê°€ í•¨ê»˜ ë™ì‘ ê°€ëŠ¥!
oldList = newList;  // âœ… ê°€ëŠ¥ (ê²½ê³  ë°œìƒí•˜ì§€ë§Œ ì‹¤í–‰ ê°€ëŠ¥)
```

#### íƒ€ì… ì†Œê±°ë¡œ ì¸í•œ ì œì•½
```java
// 1. ì œë„¤ë¦­ ë°°ì—´ ìƒì„± ë¶ˆê°€
T[] array = new T[10];  // âŒ ì»´íŒŒì¼ ì—ëŸ¬

// 2. instanceof ì²´í¬ ë¶ˆê°€
if (obj instanceof List<String>) { }  // âŒ ì»´íŒŒì¼ ì—ëŸ¬
if (obj instanceof List) { }  // âœ… Raw typeë§Œ ê°€ëŠ¥

// 3. static í•„ë“œì— íƒ€ì… íŒŒë¼ë¯¸í„° ì‚¬ìš© ë¶ˆê°€
class Box<T> {
    private static T value;  // âŒ ì»´íŒŒì¼ ì—ëŸ¬
}

// 4. ëŸ°íƒ€ì„ì— íƒ€ì… ì •ë³´ ì—†ìŒ
List<String> list1 = new ArrayList<>();
List<Integer> list2 = new ArrayList<>();
System.out.println(list1.getClass() == list2.getClass());  // true!
```

---

### Q4. ì œë„¤ë¦­ ë©”ì„œë“œëŠ” ì–¸ì œ ì‚¬ìš©í•˜ê³ , ì œë„¤ë¦­ í´ë˜ìŠ¤ì™€ ì–´ë–»ê²Œ ë‹¤ë¥¸ê°€ìš”?

**A:** ì œë„¤ë¦­ ë©”ì„œë“œëŠ” **ë©”ì„œë“œ ë ˆë²¨ì—ì„œë§Œ íƒ€ì… íŒŒë¼ë¯¸í„°ê°€ í•„ìš”í•œ ê²½ìš°** ì‚¬ìš©í•©ë‹ˆë‹¤.

#### ì œë„¤ë¦­ í´ë˜ìŠ¤
```java
// í´ë˜ìŠ¤ ì „ì²´ê°€ íƒ€ì…ì— ì˜ì¡´
class Box<T> {
    private T item;

    public void set(T item) { this.item = item; }
    public T get() { return item; }
}

// ì‚¬ìš© ì‹œ íƒ€ì… ì§€ì •
Box<String> stringBox = new Box<>();
Box<Integer> intBox = new Box<>();
```
- **ì „ì²´ í´ë˜ìŠ¤**ê°€ í•˜ë‚˜ì˜ íƒ€ì…ìœ¼ë¡œ íŠ¹í™”ë¨
- ì¸ìŠ¤í„´ìŠ¤ë§ˆë‹¤ ë‹¤ë¥¸ íƒ€ì… ì§€ì • ê°€ëŠ¥

#### ì œë„¤ë¦­ ë©”ì„œë“œ
```java
// ë©”ì„œë“œë§Œ íƒ€ì… íŒŒë¼ë¯¸í„° ì‚¬ìš©
class Util {
    // ì œë„¤ë¦­ ë©”ì„œë“œ: <T>ê°€ ë©”ì„œë“œ ì•ì— ìœ„ì¹˜
    public static <T> T getFirst(List<T> list) {
        return list.isEmpty() ? null : list.get(0);
    }

    public static <T> void swap(List<T> list, int i, int j) {
        T temp = list.get(i);
        list.set(i, list.get(j));
        list.set(j, temp);
    }
}

// ì‚¬ìš© ì‹œ íƒ€ì… ì¶”ë¡ 
String first = Util.getFirst(Arrays.asList("A", "B", "C"));  // T = String
Integer num = Util.getFirst(Arrays.asList(1, 2, 3));  // T = Integer
```
- **íŠ¹ì • ë©”ì„œë“œ**ë§Œ íƒ€ì… íŒŒë¼ë¯¸í„° ì‚¬ìš©
- í˜¸ì¶œí•  ë•Œë§ˆë‹¤ íƒ€ì… ê²°ì • (íƒ€ì… ì¶”ë¡ )

#### ë¹„ì œë„¤ë¦­ í´ë˜ìŠ¤ ë‚´ë¶€ì˜ ì œë„¤ë¦­ ë©”ì„œë“œ
```java
class StringProcessor {  // í´ë˜ìŠ¤ëŠ” ì œë„¤ë¦­ ì•„ë‹˜

    // ë©”ì„œë“œë§Œ ì œë„¤ë¦­
    public <T> List<T> convert(List<String> strings, Function<String, T> converter) {
        return strings.stream()
                     .map(converter)
                     .collect(Collectors.toList());
    }
}

// ì‚¬ìš©
StringProcessor processor = new StringProcessor();
List<Integer> lengths = processor.convert(
    Arrays.asList("a", "bb", "ccc"),
    String::length  // String â†’ Integer ë³€í™˜
);  // [1, 2, 3]
```

#### ì œë„¤ë¦­ í´ë˜ìŠ¤ + ì œë„¤ë¦­ ë©”ì„œë“œ ì¡°í•©
```java
class Pair<K, V> {  // í´ë˜ìŠ¤ ë ˆë²¨ ì œë„¤ë¦­
    private K key;
    private V value;

    public Pair(K key, V value) {
        this.key = key;
        this.value = value;
    }

    // ë©”ì„œë“œ ë ˆë²¨ ì œë„¤ë¦­ (í´ë˜ìŠ¤ íƒ€ì… íŒŒë¼ë¯¸í„°ì™€ ë…ë¦½ì )
    public <T> T transform(Function<Pair<K, V>, T> transformer) {
        return transformer.apply(this);
    }
}

// ì‚¬ìš©
Pair<String, Integer> pair = new Pair<>("Age", 30);  // K=String, V=Integer
String result = pair.transform(p -> p.key + ": " + p.value);  // T=String
```

#### ì–¸ì œ ì œë„¤ë¦­ ë©”ì„œë“œë¥¼ ì‚¬ìš©í• ê¹Œ?
1. **ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œ**: `Collections.swap()`, `Collections.sort()`
2. **íƒ€ì… ë³€í™˜**: ì…ë ¥ê³¼ ì¶œë ¥ íƒ€ì…ì´ ë‹¤ë¥¼ ë•Œ
3. **ì¼íšŒì„± ì‘ì—…**: í´ë˜ìŠ¤ ì „ì²´ë¥¼ ì œë„¤ë¦­ìœ¼ë¡œ ë§Œë“¤ í•„ìš” ì—†ëŠ” ê²½ìš°

---

### Q5. ì œë„¤ë¦­ì—ì„œ ì›ì‹œ íƒ€ì…(int, double)ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì´ìœ ëŠ”?

**A:** ì œë„¤ë¦­ì€ **ì°¸ì¡° íƒ€ì…(Reference Type)ë§Œ** ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, ì›ì‹œ íƒ€ì…ì€ **ì˜¤í† ë°•ì‹±/ì–¸ë°•ì‹±**ìœ¼ë¡œ í•´ê²°í•©ë‹ˆë‹¤.

#### ì›ì‹œ íƒ€ì… ì§ì ‘ ì‚¬ìš© ë¶ˆê°€
```java
List<int> numbers = new ArrayList<>();  // âŒ ì»´íŒŒì¼ ì—ëŸ¬!
List<double> values = new ArrayList<>();  // âŒ ì»´íŒŒì¼ ì—ëŸ¬!
```

#### ì´ìœ : íƒ€ì… ì†Œê±°ì™€ Object ëŒ€ì²´
```java
// íƒ€ì… ì†Œê±° ê³¼ì •
List<T> â†’ List  // TëŠ” Objectë¡œ ëŒ€ì²´ë¨

// ì›ì‹œ íƒ€ì…ì€ Objectì˜ í•˜ìœ„ íƒ€ì…ì´ ì•„ë‹˜
intëŠ” Objectë¥¼ ìƒì†í•˜ì§€ ì•ŠìŒ!
```

#### í•´ê²°ì±…: ë˜í¼ í´ë˜ìŠ¤ ì‚¬ìš©
```java
// âœ… ë˜í¼ í´ë˜ìŠ¤ ì‚¬ìš©
List<Integer> numbers = new ArrayList<>();
List<Double> values = new ArrayList<>();
List<Boolean> flags = new ArrayList<>();

numbers.add(10);  // ì˜¤í† ë°•ì‹±: int â†’ Integer
int num = numbers.get(0);  // ì–¸ë°•ì‹±: Integer â†’ int
```

#### ì˜¤í† ë°•ì‹±/ì–¸ë°•ì‹± ë™ì‘
```java
// ì˜¤í† ë°•ì‹± (Auto-Boxing)
Integer wrapped = 10;  // ì»´íŒŒì¼ëŸ¬ê°€ Integer.valueOf(10)ìœ¼ë¡œ ë³€í™˜

// ì–¸ë°•ì‹± (Auto-Unboxing)
int primitive = wrapped;  // ì»´íŒŒì¼ëŸ¬ê°€ wrapped.intValue()ë¡œ ë³€í™˜

// ì œë„¤ë¦­ + ì˜¤í† ë°•ì‹±
List<Integer> list = new ArrayList<>();
list.add(5);  // int â†’ Integer (ì˜¤í† ë°•ì‹±)
int value = list.get(0);  // Integer â†’ int (ì–¸ë°•ì‹±)
```

#### ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­
```java
// âŒ ì„±ëŠ¥ ë¹„íš¨ìœ¨: ë§¤ë²ˆ ë°•ì‹±/ì–¸ë°•ì‹±
List<Integer> numbers = new ArrayList<>();
for (int i = 0; i < 1000000; i++) {
    numbers.add(i);  // 100ë§Œ ë²ˆì˜ Integer ê°ì²´ ìƒì„±!
}

// âœ… ì›ì‹œ íƒ€ì… ë°°ì—´ ì‚¬ìš© (ì œë„¤ë¦­ ì—†ìŒ)
int[] numbers = new int[1000000];
for (int i = 0; i < 1000000; i++) {
    numbers[i] = i;  // ë°•ì‹± ì—†ìŒ, ë¹ ë¦„
}
```

#### ì „ë¬¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©
```java
// Eclipse Collections, Trove ë“± ì›ì‹œ íƒ€ì… ì»¬ë ‰ì…˜
IntArrayList numbers = new IntArrayList();  // int ì „ìš©
numbers.add(10);  // ë°•ì‹± ì—†ìŒ!

// Java Stream API - ì›ì‹œ íƒ€ì… íŠ¹í™”
IntStream.range(0, 1000000)
        .sum();  // ë°•ì‹± ì—†ì´ ë¹ ë¥¸ ì—°ì‚°
```

---

### Q6. ì œë„¤ë¦­ì—ì„œ `new T()` ê°™ì€ ê°ì²´ ìƒì„±ì´ ë¶ˆê°€ëŠ¥í•œ ì´ìœ ì™€ í•´ê²° ë°©ë²•ì€?

**A:** íƒ€ì… ì†Œê±°ë¡œ ì¸í•´ **ëŸ°íƒ€ì„ì— Tì˜ ì‹¤ì œ íƒ€ì… ì •ë³´ê°€ ì—†ê¸° ë•Œë¬¸**ì…ë‹ˆë‹¤.

#### ë¶ˆê°€ëŠ¥í•œ ì‘ì—…ë“¤
```java
class Container<T> {
    private T item;

    public Container() {
        // this.item = new T();  // âŒ ì»´íŒŒì¼ ì—ëŸ¬: Cannot instantiate the type T
    }

    public T createNew() {
        // return new T();  // âŒ ë¶ˆê°€ëŠ¥
    }

    public T[] createArray(int size) {
        // return new T[size];  // âŒ ë¶ˆê°€ëŠ¥
    }
}
```

#### ì™œ ë¶ˆê°€ëŠ¥í•œê°€?
```java
// íƒ€ì… ì†Œê±° í›„
class Container {
    private Object item;  // T â†’ Object

    public Object createNew() {
        return new Object();  // new T()ëŠ” new Object()ê°€ ë˜ì–´ë²„ë¦¼!
    }
}

// ì‚¬ìš©ìê°€ ì›í•œ ê²ƒ
Container<String> container = new Container<>();
String str = container.createNew();  // Stringì„ ì›í–ˆì§€ë§Œ Objectê°€ ë°˜í™˜ë¨!
```

#### í•´ê²° ë°©ë²• 1: Class ê°ì²´ ì „ë‹¬
```java
class Container<T> {
    private Class<T> type;

    public Container(Class<T> type) {
        this.type = type;
    }

    // âœ… Class ê°ì²´ë¡œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
    public T createNew() throws Exception {
        return type.getDeclaredConstructor().newInstance();
    }
}

// ì‚¬ìš©
Container<String> container = new Container<>(String.class);
String str = container.createNew();  // âœ… "String" íƒ€ì… ê°ì²´ ìƒì„±
```

#### í•´ê²° ë°©ë²• 2: Supplier í•¨ìˆ˜ ì „ë‹¬
```java
class Container<T> {
    private Supplier<T> factory;

    public Container(Supplier<T> factory) {
        this.factory = factory;
    }

    // âœ… Supplierë¡œ ê°ì²´ ìƒì„±
    public T createNew() {
        return factory.get();
    }
}

// ì‚¬ìš©
Container<String> container = new Container<>(String::new);
String str = container.createNew();  // âœ… "String" íƒ€ì… ê°ì²´ ìƒì„±

Container<ArrayList<Integer>> listContainer =
    new Container<>(ArrayList::new);
ArrayList<Integer> list = listContainer.createNew();
```

#### í•´ê²° ë°©ë²• 3: ë°°ì—´ - ì œë„¤ë¦­ ë°°ì—´ ìš°íšŒ
```java
class Container<T> {
    private T[] items;

    @SuppressWarnings("unchecked")
    public Container(int size) {
        // âš ï¸ ê²½ê³  ë°œìƒí•˜ì§€ë§Œ ë™ì‘ ê°€ëŠ¥
        items = (T[]) new Object[size];
    }

    public T get(int index) {
        return items[index];
    }

    public void set(int index, T item) {
        items[index] = item;
    }
}

// ì‚¬ìš©
Container<String> container = new Container<>(10);
container.set(0, "Hello");
String str = container.get(0);  // âœ… ë™ì‘
```

#### ì‹¤ë¬´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ˆì‹œ
```java
// Gson - Class ê°ì²´ ì‚¬ìš©
Gson gson = new Gson();
MyClass obj = gson.fromJson(json, MyClass.class);

// Jackson - TypeReference ì‚¬ìš©
ObjectMapper mapper = new ObjectMapper();
List<MyClass> list = mapper.readValue(json,
    new TypeReference<List<MyClass>>() {});  // ìµëª… í´ë˜ìŠ¤ë¡œ íƒ€ì… ì •ë³´ ìœ ì§€
```

---

### Q7. ì œë„¤ë¦­ ì™€ì¼ë“œì¹´ë“œ `<?>`ëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?

**A:** `<?>`ëŠ” **íƒ€ì…ì„ ëª¨ë¥´ê±°ë‚˜, íƒ€ì…ì— ê´€ê³„ì—†ì´ ì‘ì—…í•  ë•Œ** ì‚¬ìš©í•©ë‹ˆë‹¤.

#### ë¬´ì œí•œ ì™€ì¼ë“œì¹´ë“œ `<?>`
```java
// ì–´ë–¤ íƒ€ì…ì´ë“  í—ˆìš©, ì½ê¸°ë§Œ ê°€ëŠ¥ (Objectë¡œ)
public static void printSize(List<?> list) {
    System.out.println("í¬ê¸°: " + list.size());

    // Object obj = list.get(0);  // âœ… Objectë¡œ ì½ê¸° ê°€ëŠ¥
    // list.add("Hello");  // âŒ ì“°ê¸° ë¶ˆê°€ëŠ¥ (íƒ€ì… ì•ˆì „ì„±)
}

// ì‚¬ìš©
printSize(Arrays.asList(1, 2, 3));          // List<Integer>
printSize(Arrays.asList("A", "B"));         // List<String>
printSize(Arrays.asList(true, false));      // List<Boolean>
```

#### `<?>` vs `<Object>` ì°¨ì´
```java
// List<Object>: Object ë¦¬ìŠ¤íŠ¸ë§Œ í—ˆìš©
public static void addObject(List<Object> list) {
    list.add(new Object());
}

List<String> strings = new ArrayList<>();
addObject(strings);  // âŒ ì»´íŒŒì¼ ì—ëŸ¬! List<String>ì€ List<Object>ê°€ ì•„ë‹˜

// List<?>: ì–´ë–¤ íƒ€ì…ì´ë“  í—ˆìš©
public static void printAll(List<?> list) {
    for (Object obj : list) {
        System.out.println(obj);
    }
}

printAll(strings);  // âœ… ê°€ëŠ¥! List<String>ë„ List<?>ì˜ ì¼ì¢…
```

#### `<?>` vs `<T>` ì–¸ì œ ì‚¬ìš©?
```java
// <?> - íƒ€ì… íŒŒë¼ë¯¸í„°ê°€ ë¶ˆí•„ìš”í•œ ê²½ìš°
public static void printList(List<?> list) {
    list.forEach(System.out::println);  // íƒ€ì… ì •ë³´ ë¶ˆí•„ìš”
}

// <T> - íƒ€ì… íŒŒë¼ë¯¸í„°ê°€ í•„ìš”í•œ ê²½ìš°
public static <T> T getFirst(List<T> list) {
    return list.isEmpty() ? null : list.get(0);  // ë°˜í™˜ íƒ€ì…ì— T ì‚¬ìš©
}
```

#### ì‹¤ë¬´ ì‚¬ìš© ì˜ˆì‹œ
```java
// 1. ì»¬ë ‰ì…˜ ë¹„ìš°ê¸°
public static void clearAll(List<?> list) {
    list.clear();  // íƒ€ì… ê´€ê³„ì—†ì´ ë¹„ìš°ê¸°
}

// 2. null ì²´í¬
public static boolean isNullOrEmpty(List<?> list) {
    return list == null || list.isEmpty();
}

// 3. ë¡œê¹…
public static void logCollection(String name, Collection<?> collection) {
    System.out.println(name + ": " + collection.size() + " items");
}
```

---

## ğŸ¤ ë©´ì ‘ ì§ˆë¬¸

### ì£¼ë‹ˆì–´ ë ˆë²¨ (Junior Level)

#### Q1. ì œë„¤ë¦­ì´ ë¬´ì—‡ì´ê³ , ì™œ ì‚¬ìš©í•˜ë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**
ì œë„¤ë¦­ì€ í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œë¥¼ ì •ì˜í•  ë•Œ íƒ€ì…ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì£¼ìš” ì´ìœ ëŠ”:

1. **íƒ€ì… ì•ˆì „ì„±**: ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì²´í¬ë¡œ ëŸ°íƒ€ì„ ì—ëŸ¬ ë°©ì§€
2. **íƒ€ì… ìºìŠ¤íŒ… ì œê±°**: ìë™ íƒ€ì… ë³€í™˜ìœ¼ë¡œ ì½”ë“œ ê°„ê²°í™”
3. **ì½”ë“œ ì¬ì‚¬ìš©ì„±**: í•˜ë‚˜ì˜ ì½”ë“œë¡œ ë‹¤ì–‘í•œ íƒ€ì… ì²˜ë¦¬

```java
// ì œë„¤ë¦­ ì‚¬ìš© ì „
List list = new ArrayList();
list.add("Hello");
String str = (String) list.get(0);  // ìºìŠ¤íŒ… í•„ìš”

// ì œë„¤ë¦­ ì‚¬ìš© í›„
List<String> list = new ArrayList<>();
list.add("Hello");
String str = list.get(0);  // ìºìŠ¤íŒ… ë¶ˆí•„ìš”
```

---

#### Q2. ì œë„¤ë¦­ í´ë˜ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì„ ì–¸í•˜ë‚˜ìš”? ì˜ˆì œë¥¼ ë“¤ì–´ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ëª¨ë²” ë‹µë³€:**
ì œë„¤ë¦­ í´ë˜ìŠ¤ëŠ” í´ë˜ìŠ¤ëª… ë’¤ì— `<T>`ë¥¼ ë¶™ì—¬ ì„ ì–¸í•©ë‹ˆë‹¤:

```java
public class Box<T> {
    private T item;

    public void set(T item) {
        this.item = item;
    }

    public T get() {
        return item;
    }
}

// ì‚¬ìš©
Box<String> stringBox = new Box<>();
stringBox.set("Hello");
String value = stringBox.get();

Box<Integer> intBox = new Box<>();
intBox.set(100);
Integer number = intBox.get();
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- `T`ëŠ” íƒ€ì… íŒŒë¼ë¯¸í„° (Type Parameter)
- ê´€ë¡€ì ìœ¼ë¡œ `T` (Type), `E` (Element), `K` (Key), `V` (Value) ì‚¬ìš©
- ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œ êµ¬ì²´ì ì¸ íƒ€ì… ì§€ì •

---

#### Q3. `List<Object>`ì™€ `List<?>`ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

**ëª¨ë²” ë‹µë³€:**

**`List<Object>`**: Object íƒ€ì…ì˜ ìš”ì†Œë§Œ ë‹´ì€ ë¦¬ìŠ¤íŠ¸
```java
List<Object> objects = new ArrayList<>();
objects.add("String");
objects.add(123);

List<String> strings = new ArrayList<>();
objects = strings;  // âŒ ì»´íŒŒì¼ ì—ëŸ¬! List<String>ì€ List<Object>ê°€ ì•„ë‹˜
```

**`List<?>`**: ì–´ë–¤ íƒ€ì…ì´ë“  í—ˆìš©í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ (ì½ê¸° ì „ìš©)
```java
List<?> wildcards = new ArrayList<String>();  // âœ… ê°€ëŠ¥
wildcards = new ArrayList<Integer>();  // âœ… ê°€ëŠ¥

Object obj = wildcards.get(0);  // âœ… ì½ê¸° ê°€ëŠ¥
wildcards.add("Hello");  // âŒ ì“°ê¸° ë¶ˆê°€ëŠ¥
```

**í•µì‹¬ ì°¨ì´:**
- `List<Object>`: Object íƒ€ì… ë¦¬ìŠ¤íŠ¸ë§Œ í—ˆìš©
- `List<?>`: ëª¨ë“  ì œë„¤ë¦­ ë¦¬ìŠ¤íŠ¸ í—ˆìš©, ë‹¨ ì“°ê¸° ë¶ˆê°€

---

#### Q4. ì œë„¤ë¦­ ë©”ì„œë“œë¥¼ ì–´ë–»ê²Œ ì„ ì–¸í•˜ë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**
ì œë„¤ë¦­ ë©”ì„œë“œëŠ” ë°˜í™˜ íƒ€ì… ì•ì— `<T>`ë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤:

```java
public class Util {
    // ì œë„¤ë¦­ ë©”ì„œë“œ
    public static <T> T getFirst(List<T> list) {
        return list.isEmpty() ? null : list.get(0);
    }

    // ë‹¤ì¤‘ íƒ€ì… íŒŒë¼ë¯¸í„°
    public static <K, V> Map<K, V> createMap(K key, V value) {
        Map<K, V> map = new HashMap<>();
        map.put(key, value);
        return map;
    }
}

// ì‚¬ìš© (íƒ€ì… ì¶”ë¡ )
String first = Util.getFirst(Arrays.asList("A", "B", "C"));
Integer num = Util.getFirst(Arrays.asList(1, 2, 3));

Map<String, Integer> map = Util.createMap("Age", 30);
```

---

#### Q5. íƒ€ì… ì†Œê±°(Type Erasure)ë€ ë¬´ì—‡ì¸ê°€ìš”?

**ëª¨ë²” ë‹µë³€:**
íƒ€ì… ì†Œê±°ëŠ” ì»´íŒŒì¼ í›„ ì œë„¤ë¦­ íƒ€ì… ì •ë³´ë¥¼ ì œê±°í•˜ëŠ” Javaì˜ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.

```java
// ì»´íŒŒì¼ ì „
List<String> strings = new ArrayList<String>();
strings.add("Hello");
String str = strings.get(0);

// ì»´íŒŒì¼ í›„ (ë°”ì´íŠ¸ì½”ë“œ)
List strings = new ArrayList();  // íƒ€ì… íŒŒë¼ë¯¸í„° ì œê±°
strings.add("Hello");
String str = (String) strings.get(0);  // ì»´íŒŒì¼ëŸ¬ê°€ ìºìŠ¤íŒ… ì‚½ì…
```

**ì´ìœ **: Java 5 ì´ì „ ì½”ë“œì™€ì˜ í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€

**ê²°ê³¼**: ëŸ°íƒ€ì„ì—ëŠ” `List<String>`ê³¼ `List<Integer>`ê°€ ë™ì¼í•œ `List` íƒ€ì…

---

#### Q6. `<? extends T>`ì™€ `<? super T>`ì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ëª¨ë²” ë‹µë³€:**

**`<? extends T>` - ìƒí•œ ì œí•œ (Upper Bound)**
```java
// Tì™€ Tì˜ í•˜ìœ„ íƒ€ì…ë§Œ í—ˆìš©, ì½ê¸° ì „ìš©
public static double sum(List<? extends Number> numbers) {
    double total = 0;
    for (Number num : numbers) {  // âœ… ì½ê¸° ê°€ëŠ¥
        total += num.doubleValue();
    }
    // numbers.add(10);  // âŒ ì“°ê¸° ë¶ˆê°€
    return total;
}

sum(Arrays.asList(1, 2, 3));      // List<Integer>
sum(Arrays.asList(1.5, 2.5));     // List<Double>
```

**`<? super T>` - í•˜í•œ ì œí•œ (Lower Bound)**
```java
// Tì™€ Tì˜ ìƒìœ„ íƒ€ì…ë§Œ í—ˆìš©, ì“°ê¸° ì „ìš©
public static void addNumbers(List<? super Integer> list) {
    list.add(10);  // âœ… ì“°ê¸° ê°€ëŠ¥
    list.add(20);

    // Integer num = list.get(0);  // âŒ ì½ê¸° ì œí•œ
    Object obj = list.get(0);      // âš ï¸ Objectë¡œë§Œ ê°€ëŠ¥
}

List<Number> numbers = new ArrayList<>();
addNumbers(numbers);  // List<Number>
List<Object> objects = new ArrayList<>();
addNumbers(objects);  // List<Object>
```

**PECS ì›ì¹™**: Producer-Extends, Consumer-Super

---

#### Q7. ì œë„¤ë¦­ì—ì„œ ì›ì‹œ íƒ€ì…(int, double)ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì´ìœ ëŠ”?

**ëª¨ë²” ë‹µë³€:**
ì œë„¤ë¦­ì€ ì°¸ì¡° íƒ€ì…ë§Œ í—ˆìš©í•˜ë©°, ì›ì‹œ íƒ€ì…ì€ Objectì˜ í•˜ìœ„ íƒ€ì…ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```java
List<int> numbers = new ArrayList<>();  // âŒ ì»´íŒŒì¼ ì—ëŸ¬
List<Integer> numbers = new ArrayList<>();  // âœ… ë˜í¼ í´ë˜ìŠ¤ ì‚¬ìš©

numbers.add(10);  // ì˜¤í† ë°•ì‹±: int â†’ Integer
int value = numbers.get(0);  // ì–¸ë°•ì‹±: Integer â†’ int
```

**ì´ìœ **: íƒ€ì… ì†Œê±° ì‹œ `T`ê°€ `Object`ë¡œ ëŒ€ì²´ë˜ëŠ”ë°, `int`ëŠ” `Object`ë¥¼ ìƒì†í•˜ì§€ ì•ŠìŒ

---

### ì¤‘ê¸‰ ë ˆë²¨ (Intermediate Level)

#### Q8. ì œë„¤ë¦­ì˜ ê³µë³€ì„±(Covariance)ê³¼ ë°˜ê³µë³€ì„±(Contravariance)ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ëª¨ë²” ë‹µë³€:**

**ë¶ˆê³µë³€ì„± (Invariance)** - ì œë„¤ë¦­ì˜ ê¸°ë³¸ íŠ¹ì„±
```java
List<Object> objects = new ArrayList<String>();  // âŒ ì»´íŒŒì¼ ì—ëŸ¬!
// List<String>ì€ List<Object>ì˜ í•˜ìœ„ íƒ€ì…ì´ ì•„ë‹˜
```

**ê³µë³€ì„± (Covariance)** - `<? extends T>`
```java
// "Producer"ë¡œ ì‚¬ìš© - ë°ì´í„°ë¥¼ ìƒì‚°(ì½ê¸°)
List<? extends Number> numbers = new ArrayList<Integer>();  // âœ… ê°€ëŠ¥
Number num = numbers.get(0);  // âœ… ì½ê¸° ê°€ëŠ¥
numbers.add(10);  // âŒ ì“°ê¸° ë¶ˆê°€
```
- `Integer`ëŠ” `Number`ì˜ í•˜ìœ„ íƒ€ì…
- `List<Integer>`ë¥¼ `List<? extends Number>`ë¡œ ì·¨ê¸‰ ê°€ëŠ¥
- ì½ê¸°ëŠ” ì•ˆì „í•˜ì§€ë§Œ, ì“°ê¸°ëŠ” ìœ„í—˜ (íƒ€ì… ì•ˆì „ì„± ìœ„ë°˜)

**ë°˜ê³µë³€ì„± (Contravariance)** - `<? super T>`
```java
// "Consumer"ë¡œ ì‚¬ìš© - ë°ì´í„°ë¥¼ ì†Œë¹„(ì“°ê¸°)
List<? super Integer> numbers = new ArrayList<Number>();  // âœ… ê°€ëŠ¥
numbers.add(10);  // âœ… ì“°ê¸° ê°€ëŠ¥
Integer num = numbers.get(0);  // âŒ ì½ê¸° ì œí•œ (Objectë¡œë§Œ ê°€ëŠ¥)
```
- `Number`ëŠ” `Integer`ì˜ ìƒìœ„ íƒ€ì…
- `List<Number>`ë¥¼ `List<? super Integer>`ë¡œ ì·¨ê¸‰ ê°€ëŠ¥
- ì“°ê¸°ëŠ” ì•ˆì „í•˜ì§€ë§Œ, ì½ê¸°ëŠ” ì œí•œ (ì–´ë–¤ ìƒìœ„ íƒ€ì…ì¸ì§€ ëª¨ë¦„)

**ì‹¤ë¬´ ì˜ˆì‹œ: Collections.copy()**
```java
public static <T> void copy(
    List<? super T> dest,     // ë°˜ê³µë³€ - Consumer (ì“°ê¸°)
    List<? extends T> src     // ê³µë³€ - Producer (ì½ê¸°)
) {
    for (T item : src) {
        dest.add(item);
    }
}
```

---

#### Q9. ì œë„¤ë¦­ ë°°ì—´ì„ ìƒì„±í•  ìˆ˜ ì—†ëŠ” ì´ìœ ì™€ ìš°íšŒ ë°©ë²•ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ëª¨ë²” ë‹µë³€:**

**ë¶ˆê°€ëŠ¥í•œ ì´ìœ :**
```java
// âŒ ì»´íŒŒì¼ ì—ëŸ¬
List<String>[] stringLists = new List<String>[10];
T[] array = new T[10];

// ì´ìœ : íƒ€ì… ì†Œê±°ë¡œ ì¸í•´ ëŸ°íƒ€ì„ì— íƒ€ì… ì •ë³´ ì—†ìŒ
List<String>[] stringLists = new List[10];  // íƒ€ì… ì†Œê±° í›„
// ëŸ°íƒ€ì„ì— List<String>ì¸ì§€ List<Integer>ì¸ì§€ ì•Œ ìˆ˜ ì—†ìŒ!
```

**ë¬¸ì œ ì‹œë‚˜ë¦¬ì˜¤ (í—ˆìš©ëœë‹¤ë©´):**
```java
// ë§Œì•½ ì œë„¤ë¦­ ë°°ì—´ì´ í—ˆìš©ëœë‹¤ë©´...
Object[] objArray = stringLists;  // ë°°ì—´ì€ ê³µë³€
objArray[0] = new ArrayList<Integer>();  // ArrayStoreException ì—†ì´ í†µê³¼!
String str = stringLists[0].get(0);  // ğŸ’¥ ëŸ°íƒ€ì„ ì—ëŸ¬!
```

**ìš°íšŒ ë°©ë²• 1: ArrayList ì‚¬ìš©**
```java
// âœ… ì œë„¤ë¦­ ë°°ì—´ ëŒ€ì‹  ArrayList
List<T> list = new ArrayList<>();
list.add(item);
T value = list.get(0);
```

**ìš°íšŒ ë°©ë²• 2: @SuppressWarnings + ì£¼ì˜ ê¹Šì€ ì‚¬ìš©**
```java
@SuppressWarnings("unchecked")
public class GenericArray<T> {
    private T[] array;

    public GenericArray(int size) {
        array = (T[]) new Object[size];  // âš ï¸ ê²½ê³  ì–µì œ
    }

    public T get(int index) { return array[index]; }
    public void set(int index, T value) { array[index] = value; }
}

// ì£¼ì˜: ë°°ì—´ ìì²´ë¥¼ ì™¸ë¶€ì— ë…¸ì¶œí•˜ë©´ ClassCastException ê°€ëŠ¥
```

**ìš°íšŒ ë°©ë²• 3: Class ê°ì²´ + Array.newInstance()**
```java
public class GenericArray<T> {
    private T[] array;

    @SuppressWarnings("unchecked")
    public GenericArray(Class<T> type, int size) {
        array = (T[]) Array.newInstance(type, size);  // âœ… ì•ˆì „
    }
}

// ì‚¬ìš©
GenericArray<String> array = new GenericArray<>(String.class, 10);
```

---

#### Q10. ì œë„¤ë¦­ì˜ ë¸Œë¦¬ì§€ ë©”ì„œë“œ(Bridge Method)ê°€ ë¬´ì—‡ì´ê³  ì™œ í•„ìš”í•œê°€ìš”?

**ëª¨ë²” ë‹µë³€:**
ë¸Œë¦¬ì§€ ë©”ì„œë“œëŠ” íƒ€ì… ì†Œê±° í›„ì—ë„ **ë‹¤í˜•ì„±ì„ ìœ ì§€**í•˜ê¸° ìœ„í•´ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.

**ì˜ˆì‹œ:**
```java
// ì œë„¤ë¦­ ì¸í„°í˜ì´ìŠ¤
interface Comparable<T> {
    int compareTo(T other);
}

// êµ¬í˜„ í´ë˜ìŠ¤
class MyString implements Comparable<MyString> {
    private String value;

    @Override
    public int compareTo(MyString other) {  // (1) ì‹¤ì œ ë©”ì„œë“œ
        return this.value.compareTo(other.value);
    }

    // ì»´íŒŒì¼ëŸ¬ê°€ ìë™ ìƒì„±í•˜ëŠ” ë¸Œë¦¬ì§€ ë©”ì„œë“œ
    public int compareTo(Object other) {  // (2) ë¸Œë¦¬ì§€ ë©”ì„œë“œ
        return compareTo((MyString) other);  // (1)ì„ í˜¸ì¶œ
    }
}
```

**íƒ€ì… ì†Œê±° í›„:**
```java
// ì¸í„°í˜ì´ìŠ¤
interface Comparable {
    int compareTo(Object other);  // T â†’ Object
}

// êµ¬í˜„ í´ë˜ìŠ¤ê°€ compareTo(MyString)ë§Œ ê°€ì§€ë©´ ì¸í„°í˜ì´ìŠ¤ ìœ„ë°°!
// â†’ ë¸Œë¦¬ì§€ ë©”ì„œë“œ compareTo(Object)ê°€ í•„ìš”
```

**ë¸Œë¦¬ì§€ ë©”ì„œë“œê°€ í•„ìš”í•œ ì´ìœ :**
1. **ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ ì¼ì¹˜**: íƒ€ì… ì†Œê±° í›„ ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œì™€ ì‹œê·¸ë‹ˆì²˜ê°€ ë‹¬ë¼ì§€ëŠ” ë¬¸ì œ í•´ê²°
2. **ë‹¤í˜•ì„± ìœ ì§€**: ëŸ°íƒ€ì„ì— ì˜¬ë°”ë¥¸ ë©”ì„œë“œ í˜¸ì¶œ ë³´ì¥

**ì‹¤ì œ ì‚¬ë¡€:**
```java
Comparable<MyString> c = new MyString();
c.compareTo(new MyString());  // ì»´íŒŒì¼ íƒ€ì„: compareTo(MyString)
                              // ëŸ°íƒ€ì„: compareTo(Object) â†’ ë¸Œë¦¬ì§€ â†’ compareTo(MyString)
```

**í™•ì¸ ë°©ë²•:**
```java
// ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ ë¸Œë¦¬ì§€ ë©”ì„œë“œ í™•ì¸
for (Method method : MyString.class.getDeclaredMethods()) {
    if (method.isBridge()) {
        System.out.println("ë¸Œë¦¬ì§€ ë©”ì„œë“œ: " + method);
    }
}
```

---

#### Q11. ì œë„¤ë¦­ì˜ ì¬ê·€ì  íƒ€ì… ë°”ìš´ë“œ(Recursive Type Bound)ë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ëª¨ë²” ë‹µë³€:**
ì¬ê·€ì  íƒ€ì… ë°”ìš´ë“œëŠ” **íƒ€ì… íŒŒë¼ë¯¸í„°ê°€ ìê¸° ìì‹ ì„ í¬í•¨í•˜ëŠ” ì œì•½**ì„ ë§í•©ë‹ˆë‹¤.

**ê°€ì¥ ìœ ëª…í•œ ì˜ˆ: Comparable**
```java
// ì¬ê·€ì  íƒ€ì… ë°”ìš´ë“œ
public interface Comparable<T extends Comparable<T>> {
    int compareTo(T other);
}

// í•´ì„: "TëŠ” Comparable<T>ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤"
// â†’ "ìê¸° ìì‹ ê³¼ ë¹„êµ ê°€ëŠ¥í•œ íƒ€ì…"
```

**ì˜¬ë°”ë¥¸ êµ¬í˜„:**
```java
class Person implements Comparable<Person> {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    @Override
    public int compareTo(Person other) {  // Personë¼ë¦¬ë§Œ ë¹„êµ
        return Integer.compare(this.age, other.age);
    }
}

// ì œë„¤ë¦­ ë©”ì„œë“œì—ì„œ ì‚¬ìš©
public static <T extends Comparable<T>> T max(T a, T b) {
    return a.compareTo(b) > 0 ? a : b;
}

Person p1 = new Person("Alice", 30);
Person p2 = new Person("Bob", 25);
Person older = max(p1, p2);  // âœ… íƒ€ì… ì•ˆì „í•˜ê²Œ ë¹„êµ
```

**ì˜ëª»ëœ êµ¬í˜„ ë°©ì§€:**
```java
// âŒ ì¬ê·€ì  ë°”ìš´ë“œ ìœ„ë°˜
class BadPerson implements Comparable<String> {  // Personì´ ì•„ë‹Œ Stringê³¼ ë¹„êµ?
    @Override
    public int compareTo(String other) {  // ì´ìƒí•œ ë¹„êµ!
        return 0;
    }
}

// ì¬ê·€ì  ë°”ìš´ë“œê°€ ì´ë¥¼ ë°©ì§€
// <T extends Comparable<T>>ì—ì„œ T = BadPerson, Comparable<String> ë¶ˆì¼ì¹˜
```

**ì‹¤ë¬´ ì‚¬ìš© ì˜ˆì‹œ:**
```java
// Enumì˜ ì •ì˜
public abstract class Enum<E extends Enum<E>> implements Comparable<E> {
    // EëŠ” ìê¸° ìì‹ (Enum)ì˜ í•˜ìœ„ íƒ€ì…ì´ì–´ì•¼ í•¨
}

// Builder íŒ¨í„´
abstract class Builder<T extends Builder<T>> {
    protected abstract T self();  // ìê¸° ìì‹  ë°˜í™˜

    public T withName(String name) {
        // ...
        return self();  // ë©”ì„œë“œ ì²´ì´ë‹
    }
}
```

---

#### Q12. ì œë„¤ë¦­ê³¼ ê°€ë³€ì¸ì(Varargs)ë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì ì€?

**ëª¨ë²” ë‹µë³€:**
ì œë„¤ë¦­ ê°€ë³€ì¸ìëŠ” **í™ ì˜¤ì—¼(Heap Pollution)** ìœ„í—˜ì´ ìˆì–´ `@SafeVarargs` ì–´ë…¸í…Œì´ì…˜ì´ í•„ìš”í•©ë‹ˆë‹¤.

**ë¬¸ì œ ì½”ë“œ:**
```java
// âš ï¸ ì»´íŒŒì¼ ê²½ê³ : "Possible heap pollution"
public static <T> void addToList(List<T>... lists) {  // ì œë„¤ë¦­ ê°€ë³€ì¸ì
    Object[] array = lists;  // ê°€ë³€ì¸ìëŠ” ë°°ì—´ë¡œ ë³€í™˜ë¨
    List<String> strings = Arrays.asList("A", "B");
    array[0] = strings;  // íƒ€ì… ì•ˆì „ì„± ìœ„ë°˜ ê°€ëŠ¥!
}

// ì‚¬ìš©
List<Integer> ints1 = new ArrayList<>();
List<Integer> ints2 = new ArrayList<>();
addToList(ints1, ints2);
```

**í™ ì˜¤ì—¼(Heap Pollution):**
```java
// ê°€ë³€ì¸ì â†’ ë°°ì—´ ë³€í™˜
List<String>... stringLists â†’ List<String>[] (ë‚´ë¶€ì ìœ¼ë¡œ ë°°ì—´)

// íƒ€ì… ì†Œê±° í›„
List[] stringLists  // ì œë„¤ë¦­ ì •ë³´ ìƒì‹¤!

// ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
Object[] array = stringLists;
array[0] = new ArrayList<Integer>();  // âŒ List<String>ì— List<Integer> ëŒ€ì…!
```

**í•´ê²° ë°©ë²•: @SafeVarargs**
```java
@SafeVarargs  // "ì´ ë©”ì„œë“œëŠ” í™ ì˜¤ì—¼ì„ ì¼ìœ¼í‚¤ì§€ ì•ŠìŒ"ì„ ë³´ì¦
public static <T> void addToList(List<T>... lists) {
    for (List<T> list : lists) {
        list.add(null);  // ì•ˆì „í•œ ì‚¬ìš©
    }
}

// ë˜ëŠ” final ë©”ì„œë“œì—ë§Œ ì‚¬ìš©
@SafeVarargs
public static final <T> void safePrint(T... elements) {
    for (T element : elements) {
        System.out.println(element);
    }
}
```

**ì•ˆì „í•œ ì‚¬ìš© ì¡°ê±´:**
1. ê°€ë³€ì¸ì ë°°ì—´ì— ì €ì¥í•˜ì§€ ì•ŠìŒ
2. ê°€ë³€ì¸ì ë°°ì—´ì„ ì™¸ë¶€ì— ë…¸ì¶œí•˜ì§€ ì•ŠìŒ
3. ê°€ë³€ì¸ì ë°°ì—´ì„ ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ì½”ë“œì— ì „ë‹¬í•˜ì§€ ì•ŠìŒ

**ì‹¤ë¬´ ì˜ˆì‹œ:**
```java
// âœ… ì•ˆì „í•œ ì‚¬ìš©
@SafeVarargs
public static <T> List<T> asList(T... elements) {
    List<T> list = new ArrayList<>();
    for (T element : elements) {
        list.add(element);  // ë°°ì—´ ìš”ì†Œë¥¼ ì½ê¸°ë§Œ í•¨
    }
    return list;
}

// âŒ ìœ„í—˜í•œ ì‚¬ìš©
public static <T> T[] toArray(T... elements) {
    return elements;  // ê°€ë³€ì¸ì ë°°ì—´ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜ â†’ ìœ„í—˜!
}
```

---

## ğŸ¯ Part 3 í•µì‹¬ ìš”ì•½

### ì‹¤ì „ í”„ë¡œì íŠ¸ í•µì‹¬
1. **ì œë„¤ë¦­ ê·œì¹™ ì—”ì§„**: `ValidationRule<T>`, `TransformationRule<S, T>`, `FilterRule<T>`
2. **í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤**: `@FunctionalInterface`ë¡œ ëŒë‹¤ í‘œí˜„ì‹ í™œìš©
3. **ë©”ì„œë“œ ì²´ì´ë‹**: `and()`, `andThen()`, `or()`ë¡œ ê·œì¹™ ì¡°í•©
4. **PECS ì›ì¹™**: Producer-Extends, Consumer-Super

### ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ í‚¤ì›Œë“œ
- **íƒ€ì… ì•ˆì „ì„±** (Type Safety)
- **íƒ€ì… ì†Œê±°** (Type Erasure)
- **ê³µë³€ì„±/ë°˜ê³µë³€ì„±** (Covariance/Contravariance)
- **ì™€ì¼ë“œì¹´ë“œ** (`?`, `? extends`, `? super`)
- **ë¸Œë¦¬ì§€ ë©”ì„œë“œ** (Bridge Method)
- **ì¬ê·€ì  íƒ€ì… ë°”ìš´ë“œ** (Recursive Type Bound)
- **í™ ì˜¤ì—¼** (Heap Pollution)

### ì‹¤ë¬´ ì ìš© ì²´í¬ë¦¬ìŠ¤íŠ¸
- âœ… Raw Type ì‚¬ìš© ê¸ˆì§€
- âœ… ì œë„¤ë¦­ ë°°ì—´ ëŒ€ì‹  `ArrayList` ì‚¬ìš©
- âœ… PECS ì›ì¹™ìœ¼ë¡œ ì™€ì¼ë“œì¹´ë“œ ì„ íƒ
- âœ… `@SafeVarargs`ë¡œ ê°€ë³€ì¸ì ì•ˆì „ì„± ë³´ì¥
- âœ… `Class<T>` ë˜ëŠ” `Supplier<T>`ë¡œ ê°ì²´ ìƒì„±

---

**24ì¥ ì œë„¤ë¦­ ì™„ë£Œ!** ğŸ‰

ë‹¤ìŒ 25ì¥ì—ì„œëŠ” ì œë„¤ë¦­ì„ í™œìš©í•˜ëŠ” **ì»¬ë ‰ì…˜ í”„ë ˆì„ì›Œí¬**ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤!
