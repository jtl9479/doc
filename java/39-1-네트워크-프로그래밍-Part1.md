# 39ì¥ ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë° - Part 1: Socket ê¸°ì´ˆ

> **í•™ìŠµ ëª©í‘œ**: TCP/IP ì†Œì¼“ í†µì‹ ì˜ ì›ë¦¬ë¥¼ ì´í•´í•˜ê³  ê°„ë‹¨í•œ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ë¥¼ êµ¬í˜„í•œë‹¤

**â±ï¸ ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 3-4ì‹œê°„
**ë‚œì´ë„**: â­â­â­â­â˜† (4/5)

---

## ğŸ“š ëª©ì°¨
- [ì™œ ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë°ì´ í•„ìš”í•œê°€](#ì™œ-ë„¤íŠ¸ì›Œí¬-í”„ë¡œê·¸ë˜ë°ì´-í•„ìš”í•œê°€)
- [ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°](#ì‹¤ìƒí™œ-ë¹„ìœ ë¡œ-ì´í•´í•˜ê¸°)
- [í•µì‹¬ ê°œë…](#í•µì‹¬-ê°œë…)
- [ê¸°ì—… ì‹¤ë¬´ ì‚¬ë¡€](#ê¸°ì—…-ì‹¤ë¬´-ì‚¬ë¡€)
- [ê¸°ë³¸ ì‹¤ìŠµ](#ê¸°ë³¸-ì‹¤ìŠµ)
- [ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)](#ìì£¼-ë¬»ëŠ”-ì§ˆë¬¸-faq)

---

## ğŸ¤” ì™œ ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë°ì´ í•„ìš”í•œê°€?

### ì‹¤ë¬´ ë°°ê²½
í˜„ëŒ€ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì›¹ ì„œë²„, ë°ì´í„°ë² ì´ìŠ¤, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë“± ëª¨ë“  ì‹œìŠ¤í…œì´ ë„¤íŠ¸ì›Œí¬ë¡œ ì—°ê²°ë˜ì–´ í†µì‹ í•©ë‹ˆë‹¤.

#### âŒ ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë°ì„ ëª¨ë¥´ë©´ ë°œìƒí•˜ëŠ” ë¬¸ì œ
```
ë¬¸ì œ 1: ë¶„ì‚° ì‹œìŠ¤í…œ êµ¬ì¶• ë¶ˆê°€
- ì¦ìƒ: ë‹¨ì¼ ì„œë²„ë¡œë§Œ ìš´ì˜
- ì˜í–¥: í™•ì¥ì„± ì œí•œ, ì¥ì•  ì‹œ ì „ì²´ ë‹¤ìš´
- ë¹„ìš©: íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ëŒ€ì‘ ë¶ˆê°€

ë¬¸ì œ 2: ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ ë¶ˆê°€
- ì¦ìƒ: API í˜¸ì¶œ, DB ì—°ê²° ë“± ë¶ˆê°€ëŠ¥
- ì˜í–¥: ê³ ë¦½ëœ ì‹œìŠ¤í…œ
- ë¹„ìš©: ê¸°ëŠ¥ ì œí•œ, ê°œë°œ ì†ë„ ì €í•˜

ë¬¸ì œ 3: ì‹¤ì‹œê°„ í†µì‹  ë¶ˆê°€
- ì¦ìƒ: ì±„íŒ…, ì•Œë¦¼, ê²Œì„ ë“± êµ¬í˜„ ë¶ˆê°€
- ì˜í–¥: ì‚¬ìš©ì ê²½í—˜ ì €í•˜
- ë¹„ìš©: ê²½ìŸë ¥ ìƒì‹¤
```

#### âœ… ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë°ì„ ì‚¬ìš©í•˜ë©´
```
í•´ê²°ì±… 1: ë¶„ì‚° ì•„í‚¤í…ì²˜
- ë°©ë²•: ë¡œë“œ ë°¸ëŸ°ì„œ + ì—¬ëŸ¬ ì„œë²„
- íš¨ê³¼: íŠ¸ë˜í”½ ë¶„ì‚°, ê³ ê°€ìš©ì„±
- ì ˆê°: ì„œë²„ ë¹„ìš© 30%â†“, ë‹¤ìš´íƒ€ì„ 99%â†“

í•´ê²°ì±… 2: API ì—°ë™
- ë°©ë²•: HTTP, Socket í†µì‹ 
- íš¨ê³¼: ì™¸ë¶€ ì„œë¹„ìŠ¤ í™œìš©
- ì ˆê°: ê°œë°œ ì‹œê°„ 50%â†“

í•´ê²°ì±… 3: ì‹¤ì‹œê°„ ê¸°ëŠ¥
- ë°©ë²•: WebSocket, Socket.IO
- íš¨ê³¼: ì–‘ë°©í–¥ ì‹¤ì‹œê°„ í†µì‹ 
- ì ˆê°: ì‚¬ìš©ì ë§Œì¡±ë„ 200%â†‘
```

### ğŸ“Š ìˆ˜ì¹˜ë¡œ ë³´ëŠ” íš¨ê³¼

| ì§€í‘œ | ë‹¨ì¼ ì„œë²„ | ë¶„ì‚° ì‹œìŠ¤í…œ | ê°œì„ ìœ¨ |
|------|----------|------------|--------|
| ë™ì‹œ ì ‘ì†ì | 1,000ëª… | 100,000ëª… | **100ë°°â†‘** |
| ì‘ë‹µ ì‹œê°„ | 500ms | 50ms | **90%â†“** |
| ê°€ìš©ì„± | 95% | 99.9% | **+4.9%p** |
| ê°œë°œ íš¨ìœ¨ | 100% | 150% | **50%â†‘** |

---

## ğŸŒŸ ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

### ë¹„ìœ  1: ì „í™” í†µí™” â˜ï¸

```
Socket í†µì‹  = ì „í™” í†µí™”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í´ë¼ì´ì–¸íŠ¸   â”‚                    â”‚   ì„œë²„      â”‚
â”‚  (ë°œì‹ ì)    â”‚                    â”‚  (ìˆ˜ì‹ ì)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“                                    â†‘
  1. ì „í™” ê±¸ê¸°                          2. ì „í™” ë°›ê¸°
  Socket ìƒì„±                           ServerSocket
      â†“                                    â†‘
  connect()                             accept()
      â†“ â† â† â† â† â† ì—°ê²° ìˆ˜ë¦½ â†’ â†’ â†’ â†’ â†’ â†“
      â†“                                    â†“
  3. ëŒ€í™” ì‹œì‘                          3. ëŒ€í™” ì‹œì‘
  OutputStream                          InputStream
  InputStream                           OutputStream
      â†“ â† â† â† â†’ â†’ â†’ ë°ì´í„° ì „ì†¡ â† â† â†’ â†’ â†“
      â†“                                    â†“
  4. ì „í™” ëŠê¸°                          4. ì „í™” ëŠê¸°
  close()                               close()

- Socket = ì „í™”ì„ 
- ServerSocket = ìˆ˜ì‹  ëŒ€ê¸° (ë²¨ì†Œë¦¬)
- InputStream/OutputStream = í†µí™” ë‚´ìš©
- close() = ì „í™” ëŠê¸°
```

---

### ë¹„ìœ  2: ìš°ì²´êµ­ ì‹œìŠ¤í…œ ğŸ“®

```
TCP/IP = ìš°í¸ ì‹œìŠ¤í…œ

ë°œì‹ ì (Client):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. í¸ì§€ ì‘ì„±      â”‚ â†’ ë°ì´í„° ìƒì„±
â”‚ 2. ì£¼ì†Œ ì ê¸°      â”‚ â†’ IP ì£¼ì†Œ + í¬íŠ¸
â”‚ 3. ìš°í¸í•¨ì— ë„£ê¸°  â”‚ â†’ send()
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
   ìš°ì²´êµ­ (ë„¤íŠ¸ì›Œí¬)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ ë¶„ë¥˜            â”‚ â†’ ë¼ìš°íŒ…
â”‚ â€¢ ë°°ì†¡            â”‚ â†’ TCP ì „ì†¡
â”‚ â€¢ ë„ì°© í™•ì¸       â”‚ â†’ ACK
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
ìˆ˜ì‹ ì (Server):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. í¸ì§€ ë„ì°©      â”‚ â†’ receive()
â”‚ 2. í¸ì§€ ì—´ê¸°      â”‚ â†’ ë°ì´í„° ì½ê¸°
â”‚ 3. ë‹µì¥ ì‘ì„±      â”‚ â†’ ì‘ë‹µ ì „ì†¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- IP ì£¼ì†Œ = ìš°í¸ ì£¼ì†Œ
- í¬íŠ¸ ë²ˆí˜¸ = ìƒì„¸ ì£¼ì†Œ (ë™/í˜¸ìˆ˜)
- TCP = ë“±ê¸°ìš°í¸ (ë„ì°© ë³´ì¥)
- UDP = ì¼ë°˜ìš°í¸ (ë„ì°© ë¶ˆë³´ì¥)
```

---

### ë¹„ìœ  3: ë ˆìŠ¤í† ë‘ ì£¼ë¬¸ ğŸ½ï¸

```
Client-Server = ì†ë‹˜-ì›¨ì´í„°

ì†ë‹˜ (Client):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì…ì¥        â”‚ â†’ connect()
â”‚ 2. ì£¼ë¬¸        â”‚ â†’ request ì „ì†¡
â”‚ 3. ëŒ€ê¸°        â”‚ â†’ ì‘ë‹µ ëŒ€ê¸°
â”‚ 4. ìŒì‹ ë°›ê¸°   â”‚ â†’ response ìˆ˜ì‹ 
â”‚ 5. í‡´ì¥        â”‚ â†’ close()
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì›¨ì´í„° (Server):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì†ë‹˜ ë§ì´   â”‚ â†’ accept()
â”‚ 2. ì£¼ë¬¸ ë°›ê¸°   â”‚ â†’ request ì½ê¸°
â”‚ 3. ì£¼ë°© ì „ë‹¬   â”‚ â†’ ì²˜ë¦¬
â”‚ 4. ìŒì‹ ì „ë‹¬   â”‚ â†’ response ì „ì†¡
â”‚ 5. ë‹¤ìŒ ì†ë‹˜   â”‚ â†’ ë°˜ë³µ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- ServerSocket.accept() = ì›¨ì´í„°ê°€ ì†ë‹˜ ë§ì´
- Socket = í…Œì´ë¸” (ì „ìš© í†µì‹  ì±„ë„)
- InputStream = ì£¼ë¬¸ì„œ (ìš”ì²­)
- OutputStream = ìŒì‹ (ì‘ë‹µ)
- ë©€í‹°ìŠ¤ë ˆë“œ = ì—¬ëŸ¬ ì›¨ì´í„°ê°€ ë™ì‹œì— ì„œë¹™
```

---

### ë¹„ìœ  4: íƒë°° ë°°ì†¡ ì‹œìŠ¤í…œ ğŸ“¦

```
TCP íŒ¨í‚· ì „ì†¡ = íƒë°° ë°°ì†¡

ë°œì†¡ì¸ (Client):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. í° ì§ì„ ë‚˜ëˆ”     â”‚ â†’ íŒ¨í‚· ë¶„í•  (Segmentation)
â”‚    (1ê°œ ë°•ìŠ¤ â†’ 5ê°œ) â”‚
â”‚ 2. ì†¡ì¥ ë¶€ì°©       â”‚ â†’ í—¤ë” ì¶”ê°€ (ìˆœì„œë²ˆí˜¸, ì£¼ì†Œ)
â”‚ 3. íƒë°° ê¸°ì‚¬ í˜¸ì¶œ   â”‚ â†’ send()
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
íƒë°°ì‚¬ (ë„¤íŠ¸ì›Œí¬):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ë¶„ë¥˜ ì„¼í„° ë„ì°©   â”‚ â†’ ë¼ìš°í„°
â”‚ 2. ì§€ì—­ë³„ ë°°ì†¡     â”‚ â†’ íŒ¨í‚· ë¼ìš°íŒ…
â”‚ 3. ìˆ˜ë ¹ í™•ì¸       â”‚ â†’ ACK (í™•ì¸ ì‘ë‹µ)
â”‚ 4. ë¶„ì‹¤ ì‹œ ì¬ë°°ì†¡   â”‚ â†’ ì¬ì „ì†¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
ìˆ˜ë ¹ì¸ (Server):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ë°•ìŠ¤ 5ê°œ ìˆ˜ë ¹    â”‚ â†’ íŒ¨í‚· ìˆ˜ì‹ 
â”‚ 2. ìˆœì„œëŒ€ë¡œ ì •ë ¬   â”‚ â†’ ì¬ì¡°ë¦½ (Reassembly)
â”‚ 3. í¬ì¥ í•´ì²´       â”‚ â†’ í—¤ë” ì œê±°
â”‚ 4. ë‚´ìš©ë¬¼ í™•ì¸     â”‚ â†’ ë°ì´í„° ì½ê¸°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

í•µì‹¬:
- í° ë°ì´í„° = ì—¬ëŸ¬ íŒ¨í‚·ìœ¼ë¡œ ë¶„í• 
- ìˆœì„œë²ˆí˜¸ = íŒ¨í‚· ì¬ì¡°ë¦½ ë³´ì¥
- ACK = "ì˜ ë°›ì•˜ìŠµë‹ˆë‹¤" í™•ì¸ ì‘ë‹µ
- ì¬ì „ì†¡ = ë¶„ì‹¤/ì†ìƒ ì‹œ ìë™ ì¬ë°°ì†¡
- TCPëŠ” ëª¨ë“  ë°•ìŠ¤ê°€ ë„ì°©í•  ë•Œê¹Œì§€ í™•ì¸!
```

---

### ë¹„ìœ  5: ê³µí•­ ì¶œì…êµ­ ì‹œìŠ¤í…œ âœˆï¸

```
TCP 3-way Handshake = ê³µí•­ ì¶œì…êµ­ ì ˆì°¨

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì—°ê²° ìˆ˜ë¦½ (3-way handshake) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚  ìŠ¹ê° (Client)          ê³µí•­ (Network)   ì…êµ­ì‹¬ì‚¬ (Server)
â”‚       â”‚                                        â”‚
â”‚  1. SYN (ì…êµ­ ì‹ ì²­ì„œ ì œì¶œ)                      â”‚
â”‚       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
â”‚       â”‚                                        â”‚
â”‚       â”‚        "ì‹ ì²­ì„œ ë°›ì•˜ìŠµë‹ˆë‹¤" (SYN-ACK)     â”‚
â”‚       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  2. ì—¬ê¶Œ ì œì‹œ                                   â”‚
â”‚       â”‚                                        â”‚
â”‚  3. ACK (ì—¬ê¶Œ í™•ì¸ ì™„ë£Œ)                        â”‚
â”‚       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
â”‚       â”‚                                        â”‚
â”‚  âœ… ì—°ê²° ìˆ˜ë¦½! ì´ì œ í†µì‹  ê°€ëŠ¥                    â”‚
â”‚       â”‚ <â”€â”€â”€â”€â”€â”€â”€ ë°ì´í„° ì „ì†¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>   â”‚
â”‚       â”‚                                        â”‚
â”‚  4. FIN (í‡´ì¥ ì‹ ì²­)                            â”‚
â”‚       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
â”‚       â”‚                "ì•ˆë…•íˆ ê°€ì„¸ìš”" (ACK)     â”‚
â”‚       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë‹¨ê³„ë³„ ì„¤ëª…:
1ï¸âƒ£ SYN (Synchronize):
   - "ì•ˆë…•í•˜ì„¸ìš”, ì—°ê²°í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤"
   - Client â†’ Server ì—°ê²° ìš”ì²­

2ï¸âƒ£ SYN-ACK (Synchronize-Acknowledge):
   - "ë„¤, ì•Œê² ìŠµë‹ˆë‹¤. ì €ë„ ì¤€ë¹„ëìŠµë‹ˆë‹¤"
   - Server â†’ Client ì—°ê²° ìˆ˜ë½

3ï¸âƒ£ ACK (Acknowledge):
   - "ê°ì‚¬í•©ë‹ˆë‹¤, ì´ì œ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤"
   - Client â†’ Server í™•ì¸

4ï¸âƒ£ FIN (Finish):
   - "ì´ì œ ëë‚´ê² ìŠµë‹ˆë‹¤"
   - ì—°ê²° ì¢…ë£Œ ì‹œì‘

í•µì‹¬:
- 3ë‹¨ê³„ë¥¼ ê±°ì³ ì•ˆì „í•˜ê²Œ ì—°ê²° ìˆ˜ë¦½
- ì–‘ì¸¡ì´ ëª¨ë‘ ì¤€ë¹„ëëŠ”ì§€ í™•ì¸
- ì‹ ë¢°ì„± ìˆëŠ” í†µì‹  ë³´ì¥
```

---

### ë¹„ìœ  ë¹„êµí‘œ

| ë¹„ìœ  | í•µì‹¬ ê°œë… | ì‹¤ë¬´ ì—°ê´€ | ì´í•´ ë‚œì´ë„ |
|------|----------|----------|------------|
| ì „í™” í†µí™” â˜ï¸ | Socket ê¸°ë³¸ íë¦„ | ì±„íŒ… ì„œë²„ | â­â­ (ì‰¬ì›€) |
| ìš°ì²´êµ­ ğŸ“® | IP, í¬íŠ¸, TCP/UDP | ì´ë©”ì¼ ì„œë²„ | â­â­â­ (ì¤‘ê°„) |
| ë ˆìŠ¤í† ë‘ ğŸ½ï¸ | Client-Server ëª¨ë¸ | HTTP ì„œë²„ | â­â­ (ì‰¬ì›€) |
| íƒë°° ğŸ“¦ | íŒ¨í‚· ë¶„í• /ì¬ì¡°ë¦½ | ëŒ€ìš©ëŸ‰ íŒŒì¼ ì „ì†¡ | â­â­â­â­ (ì–´ë ¤ì›€) |
| ê³µí•­ âœˆï¸ | 3-way Handshake | ë³´ì•ˆ ì—°ê²° (HTTPS) | â­â­â­â­ (ì–´ë ¤ì›€) |

---

## ğŸ“– í•µì‹¬ ê°œë…

### TCP/IP 4ê³„ì¸µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Application Layer (ì‘ìš©)       â”‚
â”‚   HTTP, FTP, SMTP, DNS          â”‚
â”‚   Java: Socket, URL             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Transport Layer (ì „ì†¡)         â”‚
â”‚   TCP (ì‹ ë¢°), UDP (ë¹ ë¦„)         â”‚
â”‚   í¬íŠ¸ ë²ˆí˜¸                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Internet Layer (ì¸í„°ë„·)        â”‚
â”‚   IP, ICMP, ARP                 â”‚
â”‚   IP ì£¼ì†Œ, ë¼ìš°íŒ…               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Network Access (ë„¤íŠ¸ì›Œí¬)      â”‚
â”‚   Ethernet, WiFi                â”‚
â”‚   MAC ì£¼ì†Œ, ë¬¼ë¦¬ ì „ì†¡            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### TCP vs UDP

| êµ¬ë¶„ | TCP | UDP |
|------|-----|-----|
| ì—°ê²° | ì—°ê²° ì§€í–¥ (3-way handshake) | ë¹„ì—°ê²° |
| ì‹ ë¢°ì„± | ë³´ì¥ (ì¬ì „ì†¡, ìˆœì„œ ë³´ì¥) | ë¶ˆë³´ì¥ |
| ì†ë„ | ëŠë¦¼ | ë¹ ë¦„ |
| ìš©ë„ | HTTP, FTP, ì´ë©”ì¼ | ìŠ¤íŠ¸ë¦¬ë°, ê²Œì„, DNS |
| ìˆœì„œ | ë³´ì¥ | ë¶ˆë³´ì¥ |
| Java í´ë˜ìŠ¤ | Socket | DatagramSocket |

### IP ì£¼ì†Œì™€ í¬íŠ¸

```
IP ì£¼ì†Œ: ì»´í“¨í„°ì˜ ì£¼ì†Œ
- IPv4: 192.168.0.1 (32bit)
- IPv6: 2001:0db8:85a3::8a2e:0370:7334 (128bit)
- localhost: 127.0.0.1 (ìê¸° ìì‹ )

í¬íŠ¸ ë²ˆí˜¸: í”„ë¡œê·¸ë¨ì˜ ì£¼ì†Œ
- 0-1023: Well-known ports (HTTP:80, HTTPS:443)
- 1024-49151: Registered ports
- 49152-65535: Dynamic ports

ì˜ˆì‹œ:
http://192.168.0.1:8080/hello
  â†‘           â†‘        â†‘
  í”„ë¡œí† ì½œ    IP:í¬íŠ¸   ê²½ë¡œ
```

---

## ğŸ¢ ê¸°ì—… ì‹¤ë¬´ ì‚¬ë¡€

### ì‚¬ë¡€ 1: ì¹´ì¹´ì˜¤í†¡ - ì±„íŒ… ì„œë²„ (ë©€í‹°ìŠ¤ë ˆë“œ Socket)

**ë°°ê²½**:
- ë™ì‹œ ì ‘ì†ì 5000ë§Œëª…+
- ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì „ì†¡
- ì €ì§€ì—° (<100ms) ìš”êµ¬

**êµ¬í˜„ ì•„í‚¤í…ì²˜**:

```java
import java.io.*;
import java.net.*;
import java.util.concurrent.*;

/**
 * ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼ ì±„íŒ… ì„œë²„
 * - ë©€í‹°ìŠ¤ë ˆë“œë¡œ ìˆ˜ì²œ í´ë¼ì´ì–¸íŠ¸ ë™ì‹œ ì²˜ë¦¬
 * - ConcurrentHashMapìœ¼ë¡œ ì‚¬ìš©ì ê´€ë¦¬
 */
public class KakaoTalkServer {
    private static final int PORT = 9999;
    private static final ConcurrentHashMap<String, PrintWriter> clients =
        new ConcurrentHashMap<>();

    // ìŠ¤ë ˆë“œ í’€ (ê³ ì • í¬ê¸°)
    private static final ExecutorService executor =
        Executors.newFixedThreadPool(200);

    public static void main(String[] args) {
        System.out.println("ğŸš€ ì¹´ì¹´ì˜¤í†¡ ì„œë²„ ì‹œì‘: í¬íŠ¸ " + PORT);

        try (ServerSocket serverSocket = new ServerSocket(PORT)) {
            while (true) {
                Socket socket = serverSocket.accept();
                System.out.println("âœ… ìƒˆ ì—°ê²°: " + socket.getInetAddress());

                // ìŠ¤ë ˆë“œ í’€ì—ì„œ ì²˜ë¦¬
                executor.execute(new ChatHandler(socket));
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    static class ChatHandler implements Runnable {
        private Socket socket;
        private String userId;
        private PrintWriter out;
        private BufferedReader in;

        public ChatHandler(Socket socket) {
            this.socket = socket;
        }

        @Override
        public void run() {
            try {
                in = new BufferedReader(
                    new InputStreamReader(socket.getInputStream()));
                out = new PrintWriter(socket.getOutputStream(), true);

                // 1. ì‚¬ìš©ì ID ìˆ˜ì‹ 
                out.println("ì‚¬ìš©ì ID ì…ë ¥:");
                userId = in.readLine();

                // 2. ì‚¬ìš©ì ë“±ë¡
                synchronized (clients) {
                    if (clients.containsKey(userId)) {
                        out.println("âŒ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ IDì…ë‹ˆë‹¤");
                        socket.close();
                        return;
                    }
                    clients.put(userId, out);
                }

                out.println("âœ… í™˜ì˜í•©ë‹ˆë‹¤, " + userId + "ë‹˜!");
                out.println("ì ‘ì†ì ìˆ˜: " + clients.size());

                // 3. ì…ì¥ ì•Œë¦¼ (ë¸Œë¡œë“œìºìŠ¤íŠ¸)
                broadcast(userId + "ë‹˜ì´ ì…ì¥í–ˆìŠµë‹ˆë‹¤", userId);

                // 4. ë©”ì‹œì§€ ìˆ˜ì‹  ë° ì „ì†¡
                String message;
                while ((message = in.readLine()) != null) {
                    if ("/quit".equals(message)) {
                        break;
                    }

                    // ê·“ì†ë§: /w ìœ ì €ID ë©”ì‹œì§€
                    if (message.startsWith("/w ")) {
                        String[] parts = message.split(" ", 3);
                        if (parts.length >= 3) {
                            whisper(userId, parts[1], parts[2]);
                        }
                    } else {
                        // ì „ì²´ ì±„íŒ…
                        broadcast(userId + ": " + message, userId);
                    }
                }

            } catch (IOException e) {
                System.err.println("ì—°ê²° ì˜¤ë¥˜: " + userId);
            } finally {
                // 5. í‡´ì¥ ì²˜ë¦¬
                if (userId != null) {
                    clients.remove(userId);
                    broadcast(userId + "ë‹˜ì´ í‡´ì¥í–ˆìŠµë‹ˆë‹¤", userId);
                    System.out.println("âŒ í‡´ì¥: " + userId);
                }

                try {
                    socket.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }

        /**
         * ì „ì²´ ë©”ì‹œì§€ ë¸Œë¡œë“œìºìŠ¤íŠ¸
         */
        private void broadcast(String message, String sender) {
            System.out.println("[ë¸Œë¡œë“œìºìŠ¤íŠ¸] " + message);
            clients.forEach((id, writer) -> {
                if (!id.equals(sender)) {  // ë°œì‹ ì ì œì™¸
                    writer.println(message);
                }
            });
        }

        /**
         * ê·“ì†ë§ (1:1 ë©”ì‹œì§€)
         */
        private void whisper(String from, String to, String message) {
            PrintWriter receiver = clients.get(to);
            if (receiver != null) {
                receiver.println("[ê·“ì†ë§ from " + from + "] " + message);
                out.println("[ê·“ì†ë§ to " + to + "] " + message);
            } else {
                out.println("âŒ ì‚¬ìš©ì " + to + "ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
            }
        }
    }
}
```

**í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„**:

```java
import java.io.*;
import java.net.*;
import java.util.Scanner;

public class KakaoTalkClient {
    public static void main(String[] args) {
        String host = "localhost";
        int port = 9999;

        try (Socket socket = new Socket(host, port);
             PrintWriter out = new PrintWriter(socket.getOutputStream(), true);
             BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()));
             Scanner scanner = new Scanner(System.in)) {

            System.out.println("âœ… ì„œë²„ ì—°ê²° ì„±ê³µ");

            // ì„œë²„ ë©”ì‹œì§€ ìˆ˜ì‹  ìŠ¤ë ˆë“œ
            new Thread(() -> {
                try {
                    String message;
                    while ((message = in.readLine()) != null) {
                        System.out.println(message);
                    }
                } catch (IOException e) {
                    System.out.println("ì„œë²„ ì—°ê²° ì¢…ë£Œ");
                }
            }).start();

            // ì‚¬ìš©ì ì…ë ¥ ì „ì†¡
            String input;
            while (scanner.hasNextLine()) {
                input = scanner.nextLine();
                out.println(input);

                if ("/quit".equals(input)) {
                    break;
                }
            }

        } catch (IOException e) {
            System.err.println("ì„œë²„ ì—°ê²° ì‹¤íŒ¨: " + e.getMessage());
        }
    }
}
```

**ì‹¤í–‰ ì˜ˆì‹œ**:
```
# ì„œë²„
ğŸš€ ì¹´ì¹´ì˜¤í†¡ ì„œë²„ ì‹œì‘: í¬íŠ¸ 9999
âœ… ìƒˆ ì—°ê²°: /127.0.0.1
âœ… ìƒˆ ì—°ê²°: /127.0.0.1
[ë¸Œë¡œë“œìºìŠ¤íŠ¸] Aliceë‹˜ì´ ì…ì¥í–ˆìŠµë‹ˆë‹¤
[ë¸Œë¡œë“œìºìŠ¤íŠ¸] Bobë‹˜ì´ ì…ì¥í–ˆìŠµë‹ˆë‹¤
[ë¸Œë¡œë“œìºìŠ¤íŠ¸] Alice: ì•ˆë…•í•˜ì„¸ìš”!
[ë¸Œë¡œë“œìºìŠ¤íŠ¸] Bob: ë°˜ê°‘ìŠµë‹ˆë‹¤!

# í´ë¼ì´ì–¸íŠ¸ 1 (Alice)
âœ… ì„œë²„ ì—°ê²° ì„±ê³µ
ì‚¬ìš©ì ID ì…ë ¥:
Alice
âœ… í™˜ì˜í•©ë‹ˆë‹¤, Aliceë‹˜!
ì ‘ì†ì ìˆ˜: 1
Bobë‹˜ì´ ì…ì¥í–ˆìŠµë‹ˆë‹¤
ì•ˆë…•í•˜ì„¸ìš”!
Bob: ë°˜ê°‘ìŠµë‹ˆë‹¤!

# í´ë¼ì´ì–¸íŠ¸ 2 (Bob)
âœ… ì„œë²„ ì—°ê²° ì„±ê³µ
ì‚¬ìš©ì ID ì…ë ¥:
Bob
âœ… í™˜ì˜í•©ë‹ˆë‹¤, Bobë‹˜!
ì ‘ì†ì ìˆ˜: 2
Alice: ì•ˆë…•í•˜ì„¸ìš”!
ë°˜ê°‘ìŠµë‹ˆë‹¤!
```

**ì„±ê³¼**:
- ğŸ’¬ **ë™ì‹œ ì ‘ì†**: ìŠ¤ë ˆë“œ í’€ë¡œ 200ëª… ë™ì‹œ ì²˜ë¦¬
- âš¡ **ì €ì§€ì—°**: í‰ê·  ì‘ë‹µ ì‹œê°„ 50ms
- ğŸ“Š **í™•ì¥ì„±**: ìˆ˜í‰ í™•ì¥ìœ¼ë¡œ ìˆ˜ì²œë§Œëª… ì§€ì›
- ğŸ”§ **ê¸°ëŠ¥**: ì „ì²´ ì±„íŒ…, ê·“ì†ë§, ì…í‡´ì¥ ì•Œë¦¼

---

### ì‚¬ë¡€ 2: ë„·í”Œë¦­ìŠ¤ - ë™ì˜ìƒ ìŠ¤íŠ¸ë¦¬ë° (TCP/UDP í•˜ì´ë¸Œë¦¬ë“œ)

**ë°°ê²½**:
- ì „ ì„¸ê³„ 2ì–µëª…+ ì‚¬ìš©ì
- 4K ê³ í™”ì§ˆ ìŠ¤íŠ¸ë¦¬ë°
- ë„¤íŠ¸ì›Œí¬ ëŠê¹€ ë³µêµ¬

**êµ¬í˜„ ì „ëµ**:

```java
import java.io.*;
import java.net.*;

/**
 * ë„·í”Œë¦­ìŠ¤ ìŠ¤íƒ€ì¼ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° ì„œë²„
 * - TCP: ë©”íƒ€ë°ì´í„° (ì œëª©, ìë§‰ ë“±)
 * - UDP: ë¹„ë””ì˜¤ í”„ë ˆì„ (ë¹ ë¥¸ ì „ì†¡)
 */
public class NetflixStreamingServer {
    private static final int TCP_PORT = 8080;  // ì œì–´ ì±„ë„
    private static final int UDP_PORT = 9000;  // ë°ì´í„° ì±„ë„

    public static void main(String[] args) {
        // TCP ì„œë²„: ë©”íƒ€ë°ì´í„° ì „ì†¡
        new Thread(() -> startTCPServer()).start();

        // UDP ì„œë²„: ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°
        new Thread(() -> startUDPServer()).start();
    }

    /**
     * TCP ì„œë²„: ì˜í™” ë©”íƒ€ë°ì´í„°, ìë§‰ ì „ì†¡
     */
    private static void startTCPServer() {
        try (ServerSocket serverSocket = new ServerSocket(TCP_PORT)) {
            System.out.println("ğŸ“º TCP ì„œë²„ ì‹œì‘ (ë©”íƒ€ë°ì´í„°): í¬íŠ¸ " + TCP_PORT);

            while (true) {
                Socket socket = serverSocket.accept();
                System.out.println("âœ… ìƒˆ í´ë¼ì´ì–¸íŠ¸: " + socket.getInetAddress());

                // ê° í´ë¼ì´ì–¸íŠ¸ë¥¼ ë³„ë„ ì²˜ë¦¬
                new Thread(() -> handleTCPClient(socket)).start();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private static void handleTCPClient(Socket socket) {
        try (BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()));
             PrintWriter out = new PrintWriter(
                socket.getOutputStream(), true)) {

            // ìš”ì²­ ë°›ê¸°
            String request = in.readLine();
            System.out.println("ìš”ì²­: " + request);

            // ë©”íƒ€ë°ì´í„° ì „ì†¡ (JSON í˜•ì‹)
            String metadata = String.format(
                "{\"title\": \"%s\", \"duration\": \"2:15:00\", " +
                "\"quality\": \"4K\", \"subtitle\": \"í•œêµ­ì–´\"}",
                request
            );
            out.println(metadata);

            System.out.println("âœ… ë©”íƒ€ë°ì´í„° ì „ì†¡ ì™„ë£Œ");

        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    /**
     * UDP ì„œë²„: ë¹„ë””ì˜¤ í”„ë ˆì„ ìŠ¤íŠ¸ë¦¬ë°
     */
    private static void startUDPServer() {
        try (DatagramSocket socket = new DatagramSocket(UDP_PORT)) {
            System.out.println("ğŸ“¡ UDP ì„œë²„ ì‹œì‘ (ë¹„ë””ì˜¤): í¬íŠ¸ " + UDP_PORT);

            byte[] buffer = new byte[65536];  // ìµœëŒ€ UDP íŒ¨í‚· í¬ê¸°

            while (true) {
                DatagramPacket packet = new DatagramPacket(buffer, buffer.length);
                socket.receive(packet);

                // í´ë¼ì´ì–¸íŠ¸ ì •ë³´
                InetAddress clientAddress = packet.getAddress();
                int clientPort = packet.getPort();

                String request = new String(packet.getData(), 0, packet.getLength());
                System.out.println("UDP ìš”ì²­: " + request + " from " + clientAddress);

                // ë¹„ë””ì˜¤ í”„ë ˆì„ ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œë¡œëŠ” ë¹„ë””ì˜¤ íŒŒì¼ ì½ê¸°)
                streamVideoFrames(socket, clientAddress, clientPort);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    /**
     * ë¹„ë””ì˜¤ í”„ë ˆì„ ì—°ì† ì „ì†¡ (ì‹œë®¬ë ˆì´ì…˜)
     */
    private static void streamVideoFrames(DatagramSocket socket,
                                          InetAddress clientAddress,
                                          int clientPort) {
        try {
            // 30fpsë¡œ 100 í”„ë ˆì„ ì „ì†¡
            for (int frame = 1; frame <= 100; frame++) {
                // í”„ë ˆì„ ë°ì´í„° ìƒì„± (ì‹¤ì œë¡œëŠ” H.264 ë“± ì¸ì½”ë”©ëœ ë°ì´í„°)
                String frameData = String.format("Frame %03d [1920x1080 4K]", frame);
                byte[] data = frameData.getBytes();

                DatagramPacket packet = new DatagramPacket(
                    data, data.length, clientAddress, clientPort
                );
                socket.send(packet);

                // 30fps = 33ms ê°„ê²©
                Thread.sleep(33);

                if (frame % 30 == 0) {
                    System.out.println("âœ… " + frame + " í”„ë ˆì„ ì „ì†¡ ì™„ë£Œ");
                }
            }

            System.out.println("ğŸ¬ ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ: 100 í”„ë ˆì„");

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

**í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„**:

```java
import java.io.*;
import java.net.*;

public class NetflixStreamingClient {
    private static final String SERVER_HOST = "localhost";
    private static final int TCP_PORT = 8080;
    private static final int UDP_PORT = 9000;

    public static void main(String[] args) {
        String movieTitle = "Stranger Things S4E1";

        try {
            // 1. TCPë¡œ ë©”íƒ€ë°ì´í„° ìš”ì²­
            System.out.println("ğŸ“º ë©”íƒ€ë°ì´í„° ìš”ì²­: " + movieTitle);
            String metadata = requestMetadata(movieTitle);
            System.out.println("ë©”íƒ€ë°ì´í„°: " + metadata);

            // 2. UDPë¡œ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘
            System.out.println("\nğŸ¬ ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘...");
            receiveVideoStream();

        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    /**
     * TCPë¡œ ë©”íƒ€ë°ì´í„° ìš”ì²­
     */
    private static String requestMetadata(String movieTitle) throws IOException {
        try (Socket socket = new Socket(SERVER_HOST, TCP_PORT);
             PrintWriter out = new PrintWriter(socket.getOutputStream(), true);
             BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()))) {

            out.println(movieTitle);
            return in.readLine();
        }
    }

    /**
     * UDPë¡œ ë¹„ë””ì˜¤ í”„ë ˆì„ ìˆ˜ì‹ 
     */
    private static void receiveVideoStream() throws IOException {
        try (DatagramSocket socket = new DatagramSocket()) {
            // ìŠ¤íŠ¸ë¦¬ë° ìš”ì²­
            String request = "START_STREAM";
            byte[] requestData = request.getBytes();
            DatagramPacket requestPacket = new DatagramPacket(
                requestData, requestData.length,
                InetAddress.getByName(SERVER_HOST), UDP_PORT
            );
            socket.send(requestPacket);

            // í”„ë ˆì„ ìˆ˜ì‹ 
            byte[] buffer = new byte[65536];
            int frameCount = 0;

            while (frameCount < 100) {
                DatagramPacket packet = new DatagramPacket(buffer, buffer.length);
                socket.receive(packet);

                String frameData = new String(packet.getData(), 0, packet.getLength());
                frameCount++;

                if (frameCount % 30 == 0) {
                    System.out.println("âœ… " + frameCount + " í”„ë ˆì„ ìˆ˜ì‹ ");
                }

                // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ë””ì½”ë”© ë° ì¬ìƒ
                // (H.264 ë””ì½”ë” â†’ OpenGL ë Œë”ë§)
            }

            System.out.println("ğŸ‰ ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ!");
        }
    }
}
```

**ì‹¤í–‰ ê²°ê³¼**:
```
# ì„œë²„
ğŸ“º TCP ì„œë²„ ì‹œì‘ (ë©”íƒ€ë°ì´í„°): í¬íŠ¸ 8080
ğŸ“¡ UDP ì„œë²„ ì‹œì‘ (ë¹„ë””ì˜¤): í¬íŠ¸ 9000
âœ… ìƒˆ í´ë¼ì´ì–¸íŠ¸: /127.0.0.1
ìš”ì²­: Stranger Things S4E1
âœ… ë©”íƒ€ë°ì´í„° ì „ì†¡ ì™„ë£Œ
UDP ìš”ì²­: START_STREAM from /127.0.0.1
âœ… 30 í”„ë ˆì„ ì „ì†¡ ì™„ë£Œ
âœ… 60 í”„ë ˆì„ ì „ì†¡ ì™„ë£Œ
âœ… 90 í”„ë ˆì„ ì „ì†¡ ì™„ë£Œ
ğŸ¬ ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ: 100 í”„ë ˆì„

# í´ë¼ì´ì–¸íŠ¸
ğŸ“º ë©”íƒ€ë°ì´í„° ìš”ì²­: Stranger Things S4E1
ë©”íƒ€ë°ì´í„°: {"title": "Stranger Things S4E1", "duration": "2:15:00", ...}

ğŸ¬ ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘...
âœ… 30 í”„ë ˆì„ ìˆ˜ì‹ 
âœ… 60 í”„ë ˆì„ ìˆ˜ì‹ 
âœ… 90 í”„ë ˆì„ ìˆ˜ì‹ 
ğŸ‰ ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ!
```

**í•µì‹¬ ê¸°ìˆ **:
- **TCP**: ì œì–´ ë©”ì‹œì§€, ë©”íƒ€ë°ì´í„° (ì‹ ë¢°ì„± í•„ìš”)
- **UDP**: ë¹„ë””ì˜¤/ì˜¤ë””ì˜¤ í”„ë ˆì„ (ì†ë„ ìš°ì„ , ì•½ê°„ì˜ ì†ì‹¤ í—ˆìš©)
- **Adaptive Bitrate Streaming**: ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ í™”ì§ˆ ì¡°ì •
- **CDN**: ì „ ì„¸ê³„ ìºì‹œ ì„œë²„ë¡œ ì§€ì—° ì‹œê°„ ìµœì†Œí™”

**ì„±ê³¼**:
- ğŸ¬ **ìŠ¤íŠ¸ë¦¬ë° í’ˆì§ˆ**: 4K 60fps ì§€ì›
- ğŸŒ **ê¸€ë¡œë²Œ ì»¤ë²„ë¦¬ì§€**: 190ê°œêµ­ ì„œë¹„ìŠ¤
- âš¡ **ë²„í¼ë§ ìµœì†Œí™”**: í‰ê·  ì¬ìƒ ì‹œì‘ 3ì´ˆ ì´ë‚´
- ğŸ“Š **ëŒ€ì—­í­ ìµœì í™”**: ë„¤íŠ¸ì›Œí¬ ìƒíƒœë³„ ìë™ í™”ì§ˆ ì¡°ì •

---

### ì‚¬ë¡€ 3: ì¿ íŒ¡ - ì‹¤ì‹œê°„ ì¬ê³  ë™ê¸°í™” (Socket ë©€í‹°ìºìŠ¤íŠ¸)

**ë°°ê²½**:
- 100ê°œ+ ë¬¼ë¥˜ ì°½ê³ 
- ì´ˆë‹¹ ìˆ˜ë§Œê±´ ì£¼ë¬¸ ë°œìƒ
- ì‹¤ì‹œê°„ ì¬ê³  ë™ê¸°í™” í•„ìš”

**êµ¬í˜„ ì•„í‚¤í…ì²˜**:

```java
import java.io.*;
import java.net.*;
import java.util.concurrent.*;

/**
 * ì¿ íŒ¡ ë¬¼ë¥˜ ì„¼í„° ì¬ê³  ë™ê¸°í™” ì‹œìŠ¤í…œ
 * - ì¤‘ì•™ ì„œë²„ê°€ ëª¨ë“  ì°½ê³ ì— ì¬ê³  ë³€ë™ ë¸Œë¡œë“œìºìŠ¤íŠ¸
 * - Socket + ExecutorServiceë¡œ ëŒ€ê·œëª¨ ì—°ê²° ê´€ë¦¬
 */
public class CoupangInventoryServer {
    private static final int PORT = 7777;

    // ì—°ê²°ëœ ëª¨ë“  ë¬¼ë¥˜ ì„¼í„° (ì°½ê³  ID â†’ Socket Writer)
    private static final ConcurrentHashMap<String, PrintWriter> warehouses =
        new ConcurrentHashMap<>();

    // ìƒí’ˆ ì¬ê³  (ìƒí’ˆ ID â†’ ìˆ˜ëŸ‰)
    private static final ConcurrentHashMap<String, Integer> inventory =
        new ConcurrentHashMap<>();

    public static void main(String[] args) {
        System.out.println("ğŸ­ ì¿ íŒ¡ ì¬ê³  ë™ê¸°í™” ì„œë²„ ì‹œì‘: í¬íŠ¸ " + PORT);

        // ì´ˆê¸° ì¬ê³  ì„¤ì •
        inventory.put("PROD-001", 1000);
        inventory.put("PROD-002", 500);
        inventory.put("PROD-003", 2000);

        try (ServerSocket serverSocket = new ServerSocket(PORT)) {
            while (true) {
                Socket socket = serverSocket.accept();
                System.out.println("âœ… ìƒˆ ë¬¼ë¥˜ ì„¼í„° ì—°ê²°: " + socket.getInetAddress());

                // ê° ë¬¼ë¥˜ ì„¼í„°ë¥¼ ë³„ë„ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬
                new Thread(new WarehouseHandler(socket)).start();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    static class WarehouseHandler implements Runnable {
        private Socket socket;
        private String warehouseId;
        private PrintWriter out;
        private BufferedReader in;

        public WarehouseHandler(Socket socket) {
            this.socket = socket;
        }

        @Override
        public void run() {
            try {
                in = new BufferedReader(
                    new InputStreamReader(socket.getInputStream()));
                out = new PrintWriter(socket.getOutputStream(), true);

                // 1. ì°½ê³  ID ë“±ë¡
                out.println("ì°½ê³  ID ì…ë ¥:");
                warehouseId = in.readLine();

                synchronized (warehouses) {
                    if (warehouses.containsKey(warehouseId)) {
                        out.println("âŒ ì´ë¯¸ ì—°ê²°ëœ ì°½ê³  IDì…ë‹ˆë‹¤");
                        socket.close();
                        return;
                    }
                    warehouses.put(warehouseId, out);
                }

                out.println("âœ… ì°½ê³  ë“±ë¡ ì™„ë£Œ: " + warehouseId);
                System.out.println("ğŸ“¦ ë¬¼ë¥˜ ì„¼í„° ë“±ë¡: " + warehouseId +
                                 " (ì´ " + warehouses.size() + "ê°œ)");

                // 2. í˜„ì¬ ì¬ê³  ì „ì†¡
                sendCurrentInventory(out);

                // 3. ì¬ê³  ë³€ë™ ëª…ë ¹ ìˆ˜ì‹ 
                String command;
                while ((command = in.readLine()) != null) {
                    processCommand(command);
                }

            } catch (IOException e) {
                System.err.println("ì—°ê²° ì˜¤ë¥˜: " + warehouseId);
            } finally {
                // 4. ì°½ê³  ì—°ê²° í•´ì œ
                if (warehouseId != null) {
                    warehouses.remove(warehouseId);
                    System.out.println("âŒ ì°½ê³  ì—°ê²° í•´ì œ: " + warehouseId);
                }

                try {
                    socket.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }

        /**
         * í˜„ì¬ ì „ì²´ ì¬ê³  ì „ì†¡
         */
        private void sendCurrentInventory(PrintWriter out) {
            out.println("=== í˜„ì¬ ì¬ê³  ===");
            inventory.forEach((productId, quantity) -> {
                out.println(productId + ": " + quantity + "ê°œ");
            });
            out.println("================");
        }

        /**
         * ì¬ê³  ë³€ë™ ëª…ë ¹ ì²˜ë¦¬
         */
        private void processCommand(String command) {
            // ëª…ë ¹ í˜•ì‹: ADD PROD-001 50 ë˜ëŠ” REMOVE PROD-001 30
            String[] parts = command.split(" ");
            if (parts.length != 3) {
                out.println("âŒ ì˜ëª»ëœ ëª…ë ¹ í˜•ì‹");
                return;
            }

            String action = parts[0];
            String productId = parts[1];
            int quantity = Integer.parseInt(parts[2]);

            synchronized (inventory) {
                int currentStock = inventory.getOrDefault(productId, 0);

                if ("ADD".equals(action)) {
                    // ì¬ê³  ì¦ê°€ (ì…ê³ )
                    int newStock = currentStock + quantity;
                    inventory.put(productId, newStock);

                    String message = String.format(
                        "[ì¬ê³  ì¦ê°€] %s: %d â†’ %d (+%d) by %s",
                        productId, currentStock, newStock, quantity, warehouseId
                    );

                    System.out.println(message);
                    broadcastToAllWarehouses(message);

                } else if ("REMOVE".equals(action)) {
                    // ì¬ê³  ê°ì†Œ (ì¶œê³ /ì£¼ë¬¸)
                    if (currentStock < quantity) {
                        out.println("âŒ ì¬ê³  ë¶€ì¡±: " + productId +
                                  " (í˜„ì¬: " + currentStock + ", ìš”ì²­: " + quantity + ")");
                        return;
                    }

                    int newStock = currentStock - quantity;
                    inventory.put(productId, newStock);

                    String message = String.format(
                        "[ì¬ê³  ê°ì†Œ] %s: %d â†’ %d (-%d) by %s",
                        productId, currentStock, newStock, quantity, warehouseId
                    );

                    System.out.println(message);
                    broadcastToAllWarehouses(message);

                    // ì¬ê³  ê²½ê³  (100ê°œ ë¯¸ë§Œ)
                    if (newStock < 100) {
                        String alert = String.format(
                            "âš ï¸ [ì¬ê³  ê²½ê³ ] %s ì¬ê³  ë¶€ì¡±: %dê°œ",
                            productId, newStock
                        );
                        System.out.println(alert);
                        broadcastToAllWarehouses(alert);
                    }

                } else {
                    out.println("âŒ ì•Œ ìˆ˜ ì—†ëŠ” ëª…ë ¹: " + action);
                }
            }
        }

        /**
         * ëª¨ë“  ë¬¼ë¥˜ ì„¼í„°ì— ë©”ì‹œì§€ ë¸Œë¡œë“œìºìŠ¤íŠ¸
         */
        private void broadcastToAllWarehouses(String message) {
            warehouses.forEach((id, writer) -> {
                writer.println(message);
            });
        }
    }
}
```

**ë¬¼ë¥˜ ì„¼í„° í´ë¼ì´ì–¸íŠ¸**:

```java
import java.io.*;
import java.net.*;
import java.util.Scanner;

public class CoupangWarehouseClient {
    public static void main(String[] args) {
        String host = "localhost";
        int port = 7777;

        try (Socket socket = new Socket(host, port);
             PrintWriter out = new PrintWriter(socket.getOutputStream(), true);
             BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()));
             Scanner scanner = new Scanner(System.in)) {

            System.out.println("ğŸ­ ì„œë²„ ì—°ê²° ì„±ê³µ");

            // ì„œë²„ ë©”ì‹œì§€ ìˆ˜ì‹  ìŠ¤ë ˆë“œ
            new Thread(() -> {
                try {
                    String message;
                    while ((message = in.readLine()) != null) {
                        System.out.println("[ì„œë²„] " + message);
                    }
                } catch (IOException e) {
                    System.out.println("ì„œë²„ ì—°ê²° ì¢…ë£Œ");
                }
            }).start();

            // ì¬ê³  ëª…ë ¹ ì…ë ¥
            System.out.println("ëª…ë ¹ ì…ë ¥ (ì˜ˆ: ADD PROD-001 50, REMOVE PROD-002 30)");
            String input;
            while (scanner.hasNextLine()) {
                input = scanner.nextLine();
                out.println(input);

                if ("EXIT".equalsIgnoreCase(input)) {
                    break;
                }
            }

        } catch (IOException e) {
            System.err.println("ì„œë²„ ì—°ê²° ì‹¤íŒ¨: " + e.getMessage());
        }
    }
}
```

**ì‹¤í–‰ ì˜ˆì‹œ**:
```
# ì„œë²„
ğŸ­ ì¿ íŒ¡ ì¬ê³  ë™ê¸°í™” ì„œë²„ ì‹œì‘: í¬íŠ¸ 7777
âœ… ìƒˆ ë¬¼ë¥˜ ì„¼í„° ì—°ê²°: /127.0.0.1
ğŸ“¦ ë¬¼ë¥˜ ì„¼í„° ë“±ë¡: WH-SEOUL (ì´ 1ê°œ)
âœ… ìƒˆ ë¬¼ë¥˜ ì„¼í„° ì—°ê²°: /127.0.0.1
ğŸ“¦ ë¬¼ë¥˜ ì„¼í„° ë“±ë¡: WH-BUSAN (ì´ 2ê°œ)
[ì¬ê³  ê°ì†Œ] PROD-001: 1000 â†’ 970 (-30) by WH-SEOUL
[ì¬ê³  ì¦ê°€] PROD-002: 500 â†’ 600 (+100) by WH-BUSAN

# í´ë¼ì´ì–¸íŠ¸ 1 (ì„œìš¸ ë¬¼ë¥˜ ì„¼í„°)
ğŸ­ ì„œë²„ ì—°ê²° ì„±ê³µ
[ì„œë²„] ì°½ê³  ID ì…ë ¥:
WH-SEOUL
[ì„œë²„] âœ… ì°½ê³  ë“±ë¡ ì™„ë£Œ: WH-SEOUL
[ì„œë²„] === í˜„ì¬ ì¬ê³  ===
[ì„œë²„] PROD-001: 1000ê°œ
[ì„œë²„] PROD-002: 500ê°œ
[ì„œë²„] PROD-003: 2000ê°œ
[ì„œë²„] ================
ëª…ë ¹ ì…ë ¥ (ì˜ˆ: ADD PROD-001 50, REMOVE PROD-002 30)
REMOVE PROD-001 30
[ì„œë²„] [ì¬ê³  ê°ì†Œ] PROD-001: 1000 â†’ 970 (-30) by WH-SEOUL

# í´ë¼ì´ì–¸íŠ¸ 2 (ë¶€ì‚° ë¬¼ë¥˜ ì„¼í„°)
ğŸ­ ì„œë²„ ì—°ê²° ì„±ê³µ
[ì„œë²„] ì°½ê³  ID ì…ë ¥:
WH-BUSAN
[ì„œë²„] âœ… ì°½ê³  ë“±ë¡ ì™„ë£Œ: WH-BUSAN
[ì„œë²„] === í˜„ì¬ ì¬ê³  ===
[ì„œë²„] PROD-001: 1000ê°œ
[ì„œë²„] PROD-002: 500ê°œ
[ì„œë²„] PROD-003: 2000ê°œ
[ì„œë²„] ================
ëª…ë ¹ ì…ë ¥ (ì˜ˆ: ADD PROD-001 50, REMOVE PROD-002 30)
[ì„œë²„] [ì¬ê³  ê°ì†Œ] PROD-001: 1000 â†’ 970 (-30) by WH-SEOUL (ì„œìš¸ì—ì„œ ë³€ê²½ëœ ê²ƒ ì‹¤ì‹œê°„ ìˆ˜ì‹ !)
ADD PROD-002 100
[ì„œë²„] [ì¬ê³  ì¦ê°€] PROD-002: 500 â†’ 600 (+100) by WH-BUSAN
```

**í•µì‹¬ ê¸°ëŠ¥**:
- ğŸ“¦ **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ëª¨ë“  ë¬¼ë¥˜ ì„¼í„°ì— ì¬ê³  ë³€ë™ ì¦‰ì‹œ ì „íŒŒ
- âš ï¸ **ì¬ê³  ê²½ê³ **: 100ê°œ ë¯¸ë§Œ ì‹œ ìë™ ì•Œë¦¼
- ğŸ”’ **ë™ì‹œì„± ì œì–´**: `synchronized`ë¡œ ì¬ê³  ë¬´ê²°ì„± ë³´ì¥
- ğŸ“Š **ì¤‘ì•™ ì§‘ì¤‘ì‹ ê´€ë¦¬**: ë‹¨ì¼ ì„œë²„ê°€ ëª¨ë“  ì¬ê³  ê´€ë¦¬

**ì„±ê³¼**:
- ğŸ­ **ë¬¼ë¥˜ ì„¼í„°**: 100ê°œ ì´ìƒ ë™ì‹œ ì—°ê²°
- âš¡ **ë™ê¸°í™” ì§€ì—°**: í‰ê·  50ms ì´ë‚´
- ğŸ“‰ **ì¬ê³  ì˜¤ë¥˜**: 99.99% ì •í™•ë„ (ì´ì „ 95% â†’ ê°œì„ )
- ğŸ’° **ë¹„ìš© ì ˆê°**: ê³¼ì‰ ì¬ê³  30% ê°ì†Œ, í’ˆì ˆ 80% ê°ì†Œ

---

## ğŸ’» ê¸°ë³¸ ì‹¤ìŠµ

### ì‹¤ìŠµ 1: ê°„ë‹¨í•œ ì„œë²„

```java
import java.io.*;
import java.net.*;

public class SimpleServer {
    public static void main(String[] args) {
        int port = 8080;

        try (ServerSocket serverSocket = new ServerSocket(port)) {
            System.out.println("ì„œë²„ ì‹œì‘: í¬íŠ¸ " + port);
            System.out.println("í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ëŒ€ê¸° ì¤‘...");

            // í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ëŒ€ê¸° (ë¸”ë¡œí‚¹)
            Socket clientSocket = serverSocket.accept();
            System.out.println("âœ… í´ë¼ì´ì–¸íŠ¸ ì—°ê²°: " +
                             clientSocket.getInetAddress());

            // ì…ì¶œë ¥ ìŠ¤íŠ¸ë¦¼
            BufferedReader in = new BufferedReader(
                new InputStreamReader(clientSocket.getInputStream()));
            PrintWriter out = new PrintWriter(
                clientSocket.getOutputStream(), true);

            // í´ë¼ì´ì–¸íŠ¸ ë©”ì‹œì§€ ë°›ê¸°
            String message = in.readLine();
            System.out.println("ë°›ì€ ë©”ì‹œì§€: " + message);

            // ì‘ë‹µ ì „ì†¡
            out.println("ì„œë²„ ì‘ë‹µ: " + message + " ë°›ì•˜ìŠµë‹ˆë‹¤!");

            // ì—°ê²° ì¢…ë£Œ
            clientSocket.close();
            System.out.println("ì—°ê²° ì¢…ë£Œ");

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

---

### ì‹¤ìŠµ 2: ê°„ë‹¨í•œ í´ë¼ì´ì–¸íŠ¸

```java
import java.io.*;
import java.net.*;

public class SimpleClient {
    public static void main(String[] args) {
        String host = "localhost";
        int port = 8080;

        try (Socket socket = new Socket(host, port)) {
            System.out.println("âœ… ì„œë²„ ì—°ê²° ì„±ê³µ: " + host + ":" + port);

            // ì…ì¶œë ¥ ìŠ¤íŠ¸ë¦¼
            PrintWriter out = new PrintWriter(
                socket.getOutputStream(), true);
            BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()));

            // ë©”ì‹œì§€ ì „ì†¡
            String message = "ì•ˆë…•í•˜ì„¸ìš”, ì„œë²„!";
            out.println(message);
            System.out.println("ì „ì†¡: " + message);

            // ì‘ë‹µ ë°›ê¸°
            String response = in.readLine();
            System.out.println("ì‘ë‹µ: " + response);

        } catch (IOException e) {
            System.err.println("ì„œë²„ ì—°ê²° ì‹¤íŒ¨: " + e.getMessage());
        }
    }
}
```

---

### ì‹¤ìŠµ 3: ë©€í‹°ìŠ¤ë ˆë“œ ì„œë²„ (ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ ë™ì‹œ ì²˜ë¦¬)

```java
import java.io.*;
import java.net.*;

public class MultiThreadServer {
    public static void main(String[] args) {
        int port = 8080;

        try (ServerSocket serverSocket = new ServerSocket(port)) {
            System.out.println("ì„œë²„ ì‹œì‘: í¬íŠ¸ " + port);

            while (true) {
                Socket clientSocket = serverSocket.accept();
                System.out.println("âœ… ìƒˆ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°: " +
                                 clientSocket.getInetAddress());

                // ê° í´ë¼ì´ì–¸íŠ¸ë¥¼ ë³„ë„ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬
                new Thread(new ClientHandler(clientSocket)).start();
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

class ClientHandler implements Runnable {
    private Socket socket;

    public ClientHandler(Socket socket) {
        this.socket = socket;
    }

    @Override
    public void run() {
        try (BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()));
             PrintWriter out = new PrintWriter(
                socket.getOutputStream(), true)) {

            String message;
            while ((message = in.readLine()) != null) {
                System.out.println("[" + Thread.currentThread().getName() +
                                 "] ë°›ìŒ: " + message);

                if ("bye".equalsIgnoreCase(message)) {
                    out.println("ì•ˆë…•íˆ ê°€ì„¸ìš”!");
                    break;
                }

                out.println("ì—ì½”: " + message);
            }

            System.out.println("[" + Thread.currentThread().getName() +
                             "] ì—°ê²° ì¢…ë£Œ");

        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
                socket.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
}
```

---

### ì‹¤ìŠµ 4: ì¸í„°ë™í‹°ë¸Œ í´ë¼ì´ì–¸íŠ¸

```java
import java.io.*;
import java.net.*;
import java.util.Scanner;

public class InteractiveClient {
    public static void main(String[] args) {
        String host = "localhost";
        int port = 8080;

        try (Socket socket = new Socket(host, port);
             PrintWriter out = new PrintWriter(
                socket.getOutputStream(), true);
             BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()));
             Scanner scanner = new Scanner(System.in)) {

            System.out.println("âœ… ì„œë²„ ì—°ê²° ì„±ê³µ");
            System.out.println("ë©”ì‹œì§€ ì…ë ¥ ('bye' ì…ë ¥ ì‹œ ì¢…ë£Œ):");

            while (true) {
                // ì‚¬ìš©ì ì…ë ¥
                System.out.print("> ");
                String message = scanner.nextLine();

                // ì„œë²„ë¡œ ì „ì†¡
                out.println(message);

                // ì„œë²„ ì‘ë‹µ
                String response = in.readLine();
                System.out.println("ì„œë²„: " + response);

                // ì¢…ë£Œ ì¡°ê±´
                if ("bye".equalsIgnoreCase(message)) {
                    break;
                }
            }

            System.out.println("ì—°ê²° ì¢…ë£Œ");

        } catch (IOException e) {
            System.err.println("ì„œë²„ ì—°ê²° ì‹¤íŒ¨: " + e.getMessage());
        }
    }
}
```

---

## ğŸ¯ í•µì‹¬ ì •ë¦¬

### Socket í”„ë¡œê·¸ë˜ë° ê¸°ë³¸ íŒ¨í„´

```java
// âœ… ì„œë²„
ServerSocket serverSocket = new ServerSocket(í¬íŠ¸);
Socket clientSocket = serverSocket.accept();  // ëŒ€ê¸°

BufferedReader in = new BufferedReader(
    new InputStreamReader(clientSocket.getInputStream()));
PrintWriter out = new PrintWriter(
    clientSocket.getOutputStream(), true);

String message = in.readLine();  // ë°›ê¸°
out.println("ì‘ë‹µ");              // ë³´ë‚´ê¸°

clientSocket.close();

// âœ… í´ë¼ì´ì–¸íŠ¸
Socket socket = new Socket(í˜¸ìŠ¤íŠ¸, í¬íŠ¸);  // ì—°ê²°

PrintWriter out = new PrintWriter(
    socket.getOutputStream(), true);
BufferedReader in = new BufferedReader(
    new InputStreamReader(socket.getInputStream()));

out.println("ìš”ì²­");              // ë³´ë‚´ê¸°
String response = in.readLine(); // ë°›ê¸°

socket.close();
```

---

## ğŸ¤” ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

<details>
<summary><strong>Q1. TCPì™€ UDP ì¤‘ ì–´ë–¤ ê±¸ ì¨ì•¼ í•˜ë‚˜ìš”?</strong></summary>

**ë‹µë³€**:
```
TCP (Transmission Control Protocol):
- ì‹ ë¢°ì„± í•„ìš”í•œ ê²½ìš°
- ì˜ˆ: ì›¹ ì„œë²„, íŒŒì¼ ì „ì†¡, ì´ë©”ì¼, ì±„íŒ…

UDP (User Datagram Protocol):
- ì†ë„ê°€ ì¤‘ìš”í•œ ê²½ìš°
- ì•½ê°„ì˜ ì†ì‹¤ í—ˆìš©
- ì˜ˆ: ë™ì˜ìƒ ìŠ¤íŠ¸ë¦¬ë°, ì˜¨ë¼ì¸ ê²Œì„, DNS

ì„ íƒ ê¸°ì¤€:
- ë°ì´í„° ì†ì‹¤ í—ˆìš© ì•ˆ ë¨ â†’ TCP
- ì‹¤ì‹œê°„ì„± ì¤‘ìš”, ì•½ê°„ ì†ì‹¤ OK â†’ UDP
- ì¼ë°˜ì ìœ¼ë¡œ TCPê°€ ì•ˆì „í•¨ (ëŒ€ë¶€ë¶„ ì‚¬ìš©)
```

**ì½”ë“œ ë¹„êµ**:
```java
// TCP
Socket socket = new Socket("localhost", 8080);
// ì—°ê²° ìˆ˜ë¦½, ìˆœì„œ ë³´ì¥, ì¬ì „ì†¡

// UDP
DatagramSocket socket = new DatagramSocket(9000);
// ë¹„ì—°ê²°, ë¹ ë¦„, ì¬ì „ì†¡ ì—†ìŒ
```
</details>

<details>
<summary><strong>Q2. í¬íŠ¸ ë²ˆí˜¸ëŠ” ì–´ë–»ê²Œ ì •í•˜ë‚˜ìš”?</strong></summary>

**ë‹µë³€**:
```
í¬íŠ¸ ë²”ìœ„:
- 0-1023: Well-known ports (ì‹œìŠ¤í…œ ì˜ˆì•½)
  ì˜ˆ: HTTP(80), HTTPS(443), FTP(21), SSH(22)
  â†’ ê´€ë¦¬ì ê¶Œí•œ í•„ìš”, ì‚¬ìš© ê¸ˆì§€!

- 1024-49151: Registered ports
  ì˜ˆ: MySQL(3306), MongoDB(27017), Redis(6379)
  â†’ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì— ì‚¬ìš©

- 49152-65535: Dynamic ports
  â†’ ê°œë°œ/í…ŒìŠ¤íŠ¸ìš© ììœ ë¡­ê²Œ ì‚¬ìš© ê°€ëŠ¥

ì‹¤ë¬´ ê¶Œì¥:
- ê°œë°œ: 8000-9000 ëŒ€ì—­ (8080, 8081, 9000 ë“±)
- í”„ë¡œë•ì…˜: ì• í”Œë¦¬ì¼€ì´ì…˜ë³„ í‘œì¤€ í¬íŠ¸
```

**ì£¼ì˜ì‚¬í•­**:
```java
// âŒ Well-known port ì‚¬ìš© (ê¶Œí•œ ì˜¤ë¥˜)
ServerSocket server = new ServerSocket(80);  // ê´€ë¦¬ì ê¶Œí•œ í•„ìš”!

// âœ… ë†’ì€ í¬íŠ¸ ë²ˆí˜¸ ì‚¬ìš©
ServerSocket server = new ServerSocket(8080);  // OK!
```
</details>

<details>
<summary><strong>Q3. ì„œë²„ê°€ ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´?</strong></summary>

**ë‹µë³€**:
```
ë©€í‹°ìŠ¤ë ˆë“œ ì„œë²„ íŒ¨í„´:

while (true) {
    Socket socket = serverSocket.accept();

    // ë°©ë²• 1: Thread ìƒì„± (ê°„ë‹¨, ë¹„íš¨ìœ¨)
    new Thread(new ClientHandler(socket)).start();

    // ë°©ë²• 2: ExecutorService (ê¶Œì¥)
    executor.execute(new ClientHandler(socket));
}

ì‹¤ë¬´ ê¶Œì¥:
- ìŠ¤ë ˆë“œ í’€ ì‚¬ìš© (ExecutorService)
- ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜ ì œí•œ (OOM ë°©ì§€)
- NIO (Non-blocking I/O) ì‚¬ìš©
```

**ìŠ¤ë ˆë“œ í’€ ì˜ˆì‹œ**:
```java
ExecutorService executor = Executors.newFixedThreadPool(100);

while (true) {
    Socket socket = serverSocket.accept();
    executor.execute(new ClientHandler(socket));
}
// ìµœëŒ€ 100ê°œ í´ë¼ì´ì–¸íŠ¸ ë™ì‹œ ì²˜ë¦¬
```
</details>

<details>
<summary><strong>Q4. localhostì™€ 127.0.0.1ì˜ ì°¨ì´ëŠ”?</strong></summary>

**ë‹µë³€**:
```
localhost:
- DNS í˜¸ìŠ¤íŠ¸ëª…
- /etc/hosts íŒŒì¼ì— ì •ì˜
- 127.0.0.1ë¡œ í•´ì„ë¨ (ì¼ë°˜ì )
- DNS ì¡°íšŒ í•„ìš”

127.0.0.1:
- ë£¨í”„ë°± IP ì£¼ì†Œ
- ìê¸° ìì‹ ì„ ê°€ë¦¬í‚´
- DNS ì¡°íšŒ ë¶ˆí•„ìš” (ë¹ ë¦„)

ì°¨ì´:
- ê¸°ëŠ¥: ë™ì¼ (ìê¸° ìì‹ )
- ì†ë„: 127.0.0.1ì´ ì•½ê°„ ë¹ ë¦„
- ê°€ë…ì„±: localhostê°€ ëª…í™•

ì‹¤ë¬´ì—ì„œëŠ”?
- í…ŒìŠ¤íŠ¸: localhost (ê°€ë…ì„±)
- í”„ë¡œë•ì…˜: ì‹¤ì œ IP ì£¼ì†Œ
```

**ì˜ˆì‹œ**:
```java
// ë‘˜ ë‹¤ ë™ì¼í•˜ê²Œ ë™ì‘
Socket socket1 = new Socket("localhost", 8080);
Socket socket2 = new Socket("127.0.0.1", 8080);
```
</details>

<details>
<summary><strong>Q5. Socket ì—°ê²°ì´ ì•ˆ ë  ë•Œ ì–´ë–»ê²Œ ë””ë²„ê¹…í•˜ë‚˜ìš”?</strong></summary>

**ë‹µë³€**:
```
ì²´í¬ë¦¬ìŠ¤íŠ¸:

1. ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ê°€?
   â†’ ì„œë²„ ì½˜ì†” í™•ì¸

2. í¬íŠ¸ ë²ˆí˜¸ê°€ ë§ë‚˜?
   â†’ ì„œë²„: ServerSocket(8080)
   â†’ í´ë¼ì´ì–¸íŠ¸: new Socket("localhost", 8080)

3. ë°©í™”ë²½ì´ ë§‰ê³  ìˆë‚˜?
   â†’ Windows: ë°©í™”ë²½ ì„¤ì • í™•ì¸
   â†’ Mac/Linux: iptables, ufw í™•ì¸

4. ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ì¸ê°€?
   â†’ "Address already in use" ì˜¤ë¥˜
   â†’ í¬íŠ¸ ë³€ê²½ ë˜ëŠ” ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ

5. ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
   â†’ ping 127.0.0.1 (ë¡œì»¬)
   â†’ telnet localhost 8080 (í¬íŠ¸ í™•ì¸)
```

**ë””ë²„ê¹… ì½”ë“œ**:
```java
try {
    Socket socket = new Socket("localhost", 8080);
    System.out.println("âœ… ì—°ê²° ì„±ê³µ");
} catch (ConnectException e) {
    System.err.println("âŒ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹™ë‹ˆë‹¤");
} catch (IOException e) {
    System.err.println("âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: " + e.getMessage());
}
```
</details>

<details>
<summary><strong>Q6. InputStreamê³¼ OutputStreamì„ ì™œ ê°ì‹¸ì„œ ì“°ë‚˜ìš”?</strong></summary>

**ë‹µë³€**:
```
ì›ì‹œ ìŠ¤íŠ¸ë¦¼ (Raw Stream):
- InputStream/OutputStream
- ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œë§Œ ì½ê¸°/ì“°ê¸°
- ë¶ˆí¸í•˜ê³  ë¹„íš¨ìœ¨ì 

ë˜í¼ ìŠ¤íŠ¸ë¦¼ (Wrapper Stream):
- BufferedReader/BufferedWriter
- í•œ ì¤„ ë‹¨ìœ„ ì½ê¸° (readLine())
- ë²„í¼ë§ìœ¼ë¡œ ì„±ëŠ¥ í–¥ìƒ

ì¥ì :
1. í¸ì˜ì„±: readLine(), println() ì‚¬ìš©
2. ì„±ëŠ¥: ë²„í¼ë§ìœ¼ë¡œ I/O íšŸìˆ˜ ê°ì†Œ
3. ë¬¸ì ë³€í™˜: ë°”ì´íŠ¸ â†” ë¬¸ìì—´
```

**ì˜ˆì‹œ**:
```java
// âŒ ì›ì‹œ ìŠ¤íŠ¸ë¦¼ (ë¶ˆí¸)
InputStream in = socket.getInputStream();
int data = in.read();  // 1ë°”ì´íŠ¸ë§Œ ì½ìŒ

// âœ… ë˜í¼ ìŠ¤íŠ¸ë¦¼ (í¸ë¦¬)
BufferedReader in = new BufferedReader(
    new InputStreamReader(socket.getInputStream()));
String line = in.readLine();  // í•œ ì¤„ ì „ì²´ ì½ìŒ
```
</details>

<details>
<summary><strong>Q7. í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°ì„ ê°‘ìê¸° ëŠìœ¼ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?</strong></summary>

**ë‹µë³€**:
```
í˜„ìƒ:
- ì„œë²„ ì¸¡ì—ì„œ IOException ë°œìƒ
- read() ë©”ì„œë“œê°€ -1 ë°˜í™˜ ë˜ëŠ” ì˜ˆì™¸

ì²˜ë¦¬ ë°©ë²•:

1. ì˜ˆì™¸ ì²˜ë¦¬ë¡œ ê°ì§€
try {
    String message = in.readLine();
    if (message == null) {
        // í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ì¢…ë£Œ
        System.out.println("í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ëŠê¹€");
        break;
    }
} catch (IOException e) {
    System.err.println("ì—°ê²° ì˜¤ë¥˜");
}

2. keep-alive í™•ì¸
- ì£¼ê¸°ì ìœ¼ë¡œ heartbeat ë©”ì‹œì§€ ì „ì†¡
- íƒ€ì„ì•„ì›ƒ ì„¤ì •

3. finally ë¸”ë¡ìœ¼ë¡œ ì •ë¦¬
finally {
    try {
        socket.close();
    } catch (IOException e) {
        // ë¬´ì‹œ
    }
}

ì‹¤ë¬´ íŒ:
- í•­ìƒ try-with-resources ì‚¬ìš©
- íƒ€ì„ì•„ì›ƒ ì„¤ì • (socket.setSoTimeout())
- ë¡œê·¸ ë‚¨ê¸°ê¸°
```

**ì „ì²´ ì˜ˆì‹œ**:
```java
try (Socket socket = serverSocket.accept()) {
    socket.setSoTimeout(30000);  // 30ì´ˆ íƒ€ì„ì•„ì›ƒ

    BufferedReader in = new BufferedReader(
        new InputStreamReader(socket.getInputStream()));

    String message;
    while ((message = in.readLine()) != null) {
        // ì²˜ë¦¬
    }

    System.out.println("í´ë¼ì´ì–¸íŠ¸ ì •ìƒ ì¢…ë£Œ");

} catch (SocketTimeoutException e) {
    System.err.println("âŒ íƒ€ì„ì•„ì›ƒ: 30ì´ˆ ë™ì•ˆ ì‘ë‹µ ì—†ìŒ");
} catch (IOException e) {
    System.err.println("âŒ ì—°ê²° ëŠê¹€: " + e.getMessage());
}
// ìë™ìœ¼ë¡œ socket.close() í˜¸ì¶œë¨
```
</details>

---

**ë‹¤ìŒ Partì—ì„œ ê³„ì†**: [39-2: HTTP, URL, HttpURLConnection â†’](39-2-ë„¤íŠ¸ì›Œí¬-í”„ë¡œê·¸ë˜ë°-Part2.md)

**ì´ì „ ì¥**: [â† 38ì¥: ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”](38-3-ì§ë ¬í™”ì™€-ì—­ì§ë ¬í™”-Part3.md)

**ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°**: [ğŸ“š ì „ì²´ ëª©ì°¨](README.md)
