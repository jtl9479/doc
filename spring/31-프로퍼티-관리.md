# 31ì¥: í”„ë¡œí¼í‹° ê´€ë¦¬ - í™˜ê²½ë³„ ì„¤ì •ì˜ ì™„ë²½í•œ ë¶„ë¦¬

> **"í•˜ë“œì½”ë”©ì€ ì´ì œ ê·¸ë§Œ, ì„¤ì •ì€ ì™¸ë¶€ì—ì„œ ê´€ë¦¬í•˜ì„¸ìš”"**

---

## ğŸ“‹ í•™ìŠµ ëª©í‘œ

ì´ ì¥ì„ í•™ìŠµí•˜ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- application.propertiesì™€ application.ymlì„ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•©ë‹ˆë‹¤
- @Valueì™€ @ConfigurationPropertiesì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ê³  ì ì ˆíˆ ì‚¬ìš©í•©ë‹ˆë‹¤
- í”„ë¡œíŒŒì¼ë³„ë¡œ ì„¤ì •ì„ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ì™¸ë¶€ ì„¤ì • íŒŒì¼ê³¼ í™˜ê²½ ë³€ìˆ˜ë¥¼ í™œìš©í•©ë‹ˆë‹¤
- ë¯¼ê°í•œ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ìŠµë“í•©ë‹ˆë‹¤

**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 3-4ì‹œê°„
**ë‚œì´ë„**: â­â­â­ (ì¤‘ê¸‰)

---

## ğŸ¤” ì™œ í”„ë¡œí¼í‹° ê´€ë¦¬ê°€ í•„ìš”í•œê°€?

### ë¬¸ì œ ìƒí™©: í•˜ë“œì½”ë”©ì˜ ì•…ëª½

#### ë¬¸ì œ 1: í™˜ê²½ë³„ ë°°í¬ ì§€ì˜¥

```java
// âŒ í•˜ë“œì½”ë”©
@Service
public class PaymentService {
    private static final String API_URL = "https://api.payment.com";
    private static final String API_KEY = "sk_live_abc123def456";
    private static final int TIMEOUT = 5000;

    public void processPayment() {
        // ê°œë°œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´?
        // â†’ ì½”ë“œ ìˆ˜ì • í›„ ë‹¤ì‹œ ë¹Œë“œ
        // ìš´ì˜ í™˜ê²½ìœ¼ë¡œ ë°°í¬í•  ë•Œ?
        // â†’ ë˜ ì½”ë“œ ìˆ˜ì • í›„ ë¹Œë“œ
        // API í‚¤ê°€ Gitì— ë…¸ì¶œ!
    }
}
```

**ê°œë°œìì˜ ê³ í†µ:**
- "í™˜ê²½ ë°”ê¿€ ë•Œë§ˆë‹¤ ë¹Œë“œí•´ì•¼ í•´ìš”"
- "API í‚¤ê°€ Gitì— ì˜¬ë¼ê°”ì–´ìš”!"
- "ê°œë°œ/ìŠ¤í…Œì´ì§•/ìš´ì˜ ì„¤ì •ì´ ë’¤ì£½ë°•ì£½ì´ì—ìš”"

#### ë¬¸ì œ 2: ë³€ê²½ì˜ ì–´ë ¤ì›€

```java
// íƒ€ì„ì•„ì›ƒì„ ë³€ê²½í•˜ë ¤ë©´?
// 1. ì½”ë“œ ìˆ˜ì •
private static final int TIMEOUT = 10000;  // 5000 â†’ 10000

// 2. ì»´íŒŒì¼
// 3. ë¹Œë“œ
// 4. ë°°í¬
// 5. ì„œë²„ ì¬ì‹œì‘
// â†’ ë‹¨ìˆœ ì„¤ì • ë³€ê²½ì— 30ë¶„ ì†Œìš”
```

### í”„ë¡œí¼í‹° ê´€ë¦¬ì˜ í•´ê²°ì±…

```yaml
# application.yml - ì„¤ì • ì™¸ë¶€í™”
payment:
  api:
    url: https://api.payment.com
    timeout: 5000

# application-dev.yml - ê°œë°œ í™˜ê²½
payment:
  api:
    url: https://dev-api.payment.com
    timeout: 10000

# application-prod.yml - ìš´ì˜ í™˜ê²½
payment:
  api:
    url: https://api.payment.com
    timeout: 3000
```

```java
// âœ… ì„¤ì • ì£¼ì…
@Service
@RequiredArgsConstructor
public class PaymentService {
    private final PaymentProperties properties;

    public void processPayment() {
        String url = properties.getApi().getUrl();
        int timeout = properties.getApi().getTimeout();
        // ì½”ë“œ ìˆ˜ì • ì—†ì´ ì„¤ì •ë§Œ ë³€ê²½!
    }
}
```

---

## ğŸŒ ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ëŠ” í”„ë¡œí¼í‹° ê´€ë¦¬

### ë¹„ìœ  1: ë¦¬ëª¨ì»¨ vs ê³ ì • ë²„íŠ¼

**í•˜ë“œì½”ë”© (ê³ ì • ë²„íŠ¼):**
```
TV ì•ì— ê³ ì •ëœ ë²„íŠ¼ 3ê°œ
[ì¼œê¸°] [ë„ê¸°] [ì±„ë„ 5]

ì±„ë„ì„ 7ë¡œ ë°”ê¾¸ë ¤ë©´?
â†’ TV ëœ¯ì–´ì„œ ë²„íŠ¼ êµì²´
â†’ ë‹¤ì‹œ ì¡°ë¦½
```

**í”„ë¡œí¼í‹° (ë¦¬ëª¨ì»¨):**
```
ë¦¬ëª¨ì»¨ìœ¼ë¡œ ì›ê²© ì œì–´
ìˆ«ì ë²„íŠ¼ìœ¼ë¡œ ì›í•˜ëŠ” ì±„ë„ ì„ íƒ
â†’ TV ê±´ë“œë¦¬ì§€ ì•Šê³  ì„¤ì • ë³€ê²½
```

### ë¹„ìœ  2: ê±´ë¬¼ ë²½ vs ê°€êµ¬ ë°°ì¹˜

**í•˜ë“œì½”ë”© (ë²½):**
```
ë°© í¬ê¸°ë¥¼ ë°”ê¾¸ë ¤ë©´?
â†’ ë²½ í—ˆë¬¼ê³  ë‹¤ì‹œ ì§“ê¸°
â†’ í° ê³µì‚¬ í•„ìš”
```

**í”„ë¡œí¼í‹° (ê°€êµ¬):**
```
ê°€êµ¬ ë°°ì¹˜ë§Œ ë³€ê²½
â†’ ì¦‰ì‹œ ë³€ê²½ ê°€ëŠ¥
â†’ ì–¸ì œë“  ì›ë³µ ê°€ëŠ¥
```

### ë¹„ìœ  3: ì‹ë‹¹ ë ˆì‹œí”¼

**í•˜ë“œì½”ë”©:**
```
ì…°í”„ê°€ ë ˆì‹œí”¼ë¥¼ ì™¸ì›Œì„œ ì¡°ë¦¬
â†’ ë§› ì¡°ì ˆ ì–´ë ¤ì›€
â†’ ìƒˆ ì…°í”„ëŠ” ë‹¤ì‹œ ë°°ì›Œì•¼ í•¨
```

**í”„ë¡œí¼í‹°:**
```
ë ˆì‹œí”¼ë¶ì— ê¸°ë¡
- ì†Œê¸ˆ: 1ìŠ¤í‘¼
- ì„¤íƒ•: 2ìŠ¤í‘¼
â†’ ì‰½ê²Œ ì¡°ì ˆ ê°€ëŠ¥
â†’ ëˆ„êµ¬ë‚˜ ê°™ì€ ë§› ì¬í˜„
```

---

## ğŸ’¡ í”„ë¡œí¼í‹° ê´€ë¦¬ í•µì‹¬ ê°œë…

### 1ï¸âƒ£ ì´ˆê¸‰: application.properties vs application.yml

#### Properties í˜•ì‹

```properties
# application.properties
server.port=8080
server.servlet.context-path=/api

spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=password

logging.level.root=INFO
logging.level.com.example=DEBUG
```

#### YAML í˜•ì‹ (ê¶Œì¥)

```yaml
# application.yml
server:
  port: 8080
  servlet:
    context-path: /api

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: root
    password: password

logging:
  level:
    root: INFO
    com.example: DEBUG
```

**YAMLì˜ ì¥ì :**
- ê°€ë…ì„± ë†’ìŒ (ê³„ì¸µ êµ¬ì¡° ëª…í™•)
- ì¤‘ë³µ ì œê±° (ì ‘ë‘ì‚¬ ë°˜ë³µ ë¶ˆí•„ìš”)
- ë¦¬ìŠ¤íŠ¸/ë°°ì—´ í‘œí˜„ ê°€ëŠ¥

#### ë¦¬ìŠ¤íŠ¸ì™€ ë§µ í‘œí˜„

```yaml
# ë¦¬ìŠ¤íŠ¸
app:
  servers:
    - prod-server-1
    - prod-server-2
    - prod-server-3

# ë§µ
app:
  users:
    admin: admin@example.com
    support: support@example.com
```

### 2ï¸âƒ£ ì¤‘ê¸‰: @Value vs @ConfigurationProperties

#### @Value - ë‹¨ìˆœ ê°’ ì£¼ì…

```java
@Component
public class AppConfig {

    @Value("${server.port}")
    private int port;

    @Value("${app.name:MyApp}")  // ê¸°ë³¸ê°’ ì§€ì •
    private String appName;

    @Value("${app.features}")
    private List<String> features;

    @Value("#{${app.timeout} * 1000}")  // SpEL í‘œí˜„ì‹
    private long timeoutMillis;
}
```

#### @ConfigurationProperties - íƒ€ì… ì•ˆì „ (ê¶Œì¥)

**Step 1: Properties í´ë˜ìŠ¤ ì‘ì„±**

```java
@ConfigurationProperties(prefix = "app")
@Validated
public class AppProperties {

    /**
     * ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„
     */
    @NotBlank
    private String name = "MyApp";

    /**
     * í™œì„±í™”ëœ ê¸°ëŠ¥ ëª©ë¡
     */
    private List<String> features = new ArrayList<>();

    /**
     * íƒ€ì„ì•„ì›ƒ (ì´ˆ)
     */
    @Min(1)
    @Max(300)
    private int timeout = 30;

    /**
     * API ì„¤ì •
     */
    private Api api = new Api();

    // Getter, Setter

    public static class Api {
        private String url;
        private String key;
        private int retryCount = 3;

        // Getter, Setter
    }
}
```

**Step 2: í™œì„±í™”**

```java
@SpringBootApplication
@EnableConfigurationProperties(AppProperties.class)
public class MyApplication {
    public static void main(String[] args) {
        SpringApplication.run(MyApplication.class, args);
    }
}
```

**Step 3: ì‚¬ìš©**

```java
@Service
@RequiredArgsConstructor
public class MyService {

    private final AppProperties properties;

    public void doSomething() {
        String apiUrl = properties.getApi().getUrl();
        int timeout = properties.getTimeout();
        // íƒ€ì… ì•ˆì „í•˜ê²Œ ì‚¬ìš©
    }
}
```

**ë¹„êµí‘œ:**

| íŠ¹ì§• | @Value | @ConfigurationProperties |
|-----|--------|--------------------------|
| íƒ€ì… ì•ˆì „ì„± | ë‚®ìŒ | ë†’ìŒ (ì»´íŒŒì¼ íƒ€ì„ ì²´í¬) |
| ìœ íš¨ì„± ê²€ì¦ | ë¶ˆê°€ëŠ¥ | ê°€ëŠ¥ (@Validated) |
| IDE ì§€ì› | ì—†ìŒ | ìë™ì™„ì„± ì§€ì› |
| ì¤‘ì²© êµ¬ì¡° | ì–´ë ¤ì›€ | ì‰¬ì›€ |
| ê¶Œì¥ ì‚¬ìš© | ë‹¨ìˆœ ê°’ 1-2ê°œ | ë³µì¡í•œ ì„¤ì • ê·¸ë£¹ |

### 3ï¸âƒ£ ê³ ê¸‰: í”„ë¡œíŒŒì¼ ê´€ë¦¬

#### í”„ë¡œíŒŒì¼ë³„ íŒŒì¼ ë¶„ë¦¬

```
src/main/resources/
â”œâ”€â”€ application.yml              # ê³µí†µ ì„¤ì •
â”œâ”€â”€ application-dev.yml          # ê°œë°œ í™˜ê²½
â”œâ”€â”€ application-staging.yml      # ìŠ¤í…Œì´ì§• í™˜ê²½
â””â”€â”€ application-prod.yml         # ìš´ì˜ í™˜ê²½
```

**application.yml (ê³µí†µ)**
```yaml
spring:
  application:
    name: my-app

app:
  name: MyApp
  features:
    - feature-1
    - feature-2
```

**application-dev.yml**
```yaml
spring:
  datasource:
    url: jdbc:h2:mem:devdb
  jpa:
    show-sql: true

app:
  api:
    url: https://dev-api.example.com
    timeout: 10

logging:
  level:
    root: DEBUG
```

**application-prod.yml**
```yaml
spring:
  datasource:
    url: jdbc:mysql://prod-db:3306/mydb
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  jpa:
    show-sql: false

app:
  api:
    url: https://api.example.com
    timeout: 3

logging:
  level:
    root: WARN
    com.example: INFO
```

#### í”„ë¡œíŒŒì¼ í™œì„±í™” ë°©ë²•

**ë°©ë²• 1: application.yml**
```yaml
spring:
  profiles:
    active: dev
```

**ë°©ë²• 2: ì‹¤í–‰ ì‹œ ì§€ì •**
```bash
java -jar app.jar --spring.profiles.active=prod
```

**ë°©ë²• 3: í™˜ê²½ ë³€ìˆ˜**
```bash
export SPRING_PROFILES_ACTIVE=prod
java -jar app.jar
```

**ë°©ë²• 4: IDE ì„¤ì •**
```
IntelliJ IDEA:
Run â†’ Edit Configurations â†’ Active profiles: dev
```

#### ë‹¤ì¤‘ í”„ë¡œíŒŒì¼

```bash
# ì—¬ëŸ¬ í”„ë¡œíŒŒì¼ ë™ì‹œ í™œì„±í™”
java -jar app.jar --spring.profiles.active=prod,monitoring,cache
```

```yaml
# application-monitoring.yml
management:
  endpoints:
    web:
      exposure:
        include: "*"

# application-cache.yml
spring:
  cache:
    type: redis
```

---

## ğŸ› ï¸ ê¸°ë³¸ ì‹¤ìŠµ

### ì‹¤ìŠµ 1: ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ê´€ë¦¬

```yaml
# application.yml
spring:
  datasource:
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5

# application-dev.yml
spring:
  datasource:
    url: jdbc:h2:mem:devdb
    driver-class-name: org.h2.Driver
  h2:
    console:
      enabled: true

# application-prod.yml
spring:
  datasource:
    url: jdbc:mysql://${DB_HOST:localhost}:3306/${DB_NAME:mydb}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:}
    hikari:
      maximum-pool-size: 50
      connection-timeout: 3000
```

### ì‹¤ìŠµ 2: ì»¤ìŠ¤í…€ í”„ë¡œí¼í‹° í´ë˜ìŠ¤

```java
@ConfigurationProperties(prefix = "payment")
@Validated
public class PaymentProperties {

    /**
     * ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì„¤ì •
     */
    @NotNull
    private Gateway gateway;

    /**
     * ì¬ì‹œë„ ì •ì±…
     */
    private Retry retry = new Retry();

    /**
     * ì•Œë¦¼ ì„¤ì •
     */
    private Notification notification = new Notification();

    // Getter, Setter

    @Data
    public static class Gateway {
        @NotBlank
        private String url;

        @NotBlank
        private String apiKey;

        @Min(1000)
        @Max(30000)
        private int timeout = 5000;
    }

    @Data
    public static class Retry {
        @Min(0)
        @Max(5)
        private int maxAttempts = 3;

        @Min(100)
        private long backoffMs = 1000;
    }

    @Data
    public static class Notification {
        @Email
        private String email;

        private boolean smsEnabled = false;
    }
}
```

```yaml
# application.yml
payment:
  gateway:
    url: https://api.payment.com
    api-key: ${PAYMENT_API_KEY}
    timeout: 5000
  retry:
    max-attempts: 3
    backoff-ms: 1000
  notification:
    email: admin@example.com
    sms-enabled: true
```

### ì‹¤ìŠµ 3: í™˜ê²½ ë³€ìˆ˜ì™€ ì‹œìŠ¤í…œ í”„ë¡œí¼í‹°

```yaml
# ìš°ì„ ìˆœìœ„ (ë†’ì€ ìˆœ)
# 1. ëª…ë ¹í–‰ ì¸ì
java -jar app.jar --server.port=9090

# 2. í™˜ê²½ ë³€ìˆ˜
export SERVER_PORT=9090

# 3. application-{profile}.yml
server:
  port: 9090

# 4. application.yml
server:
  port: 8080
```

---

## ğŸ‘¨â€ğŸ’» ì£¼ë‹ˆì–´ ê°œë°œì ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤: "ë¯¼ê° ì •ë³´ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê¸°"

**ë¬¸ì œ:**
```yaml
# âŒ Gitì— ì˜¬ë¼ê°€ë©´ ì•ˆ ë˜ëŠ” ì •ë³´
spring:
  datasource:
    password: my_secret_password123!
payment:
  api-key: sk_live_abc123def456
aws:
  access-key: AKIAIOSFODNN7EXAMPLE
  secret-key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
```

**í•´ê²° ë°©ë²•:**

#### 1. í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©

```yaml
# application.yml - Gitì— ì»¤ë°‹
spring:
  datasource:
    password: ${DB_PASSWORD}
payment:
  api-key: ${PAYMENT_API_KEY}
```

```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ì„œë²„ì—ì„œë§Œ)
export DB_PASSWORD=my_secret_password123!
export PAYMENT_API_KEY=sk_live_abc123def456
```

#### 2. ì™¸ë¶€ ì„¤ì • íŒŒì¼

```yaml
# application.yml
spring:
  config:
    import: optional:file:./config/secrets.yml
```

```yaml
# config/secrets.yml (Git ì œì™¸)
spring:
  datasource:
    password: my_secret_password123!
```

```gitignore
# .gitignore
config/secrets.yml
```

#### 3. Spring Cloud Config (ê¶Œì¥)

```yaml
# bootstrap.yml
spring:
  cloud:
    config:
      uri: https://config-server.example.com
      fail-fast: true
```

#### 4. AWS Secrets Manager / Vault

```java
@Configuration
public class SecretsConfig {

    @Bean
    public DataSource dataSource(
            @Value("${aws.secretsmanager.secret-name}") String secretName) {

        // AWS Secrets Managerì—ì„œ ê°€ì ¸ì˜¤ê¸°
        String password = awsSecretsManager.getSecret(secretName);

        return DataSourceBuilder.create()
            .password(password)
            .build();
    }
}
```

---

## ğŸ¢ ê¸°ì—… ì‚¬ë¡€: Airbnb

### ë°°ê²½

AirbnbëŠ” 200+ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ë©°, ì¼ê´€ëœ ì„¤ì • ê´€ë¦¬ê°€ í•„ìˆ˜ì˜€ìŠµë‹ˆë‹¤.

**ë¬¸ì œ:**
- ì„œë¹„ìŠ¤ë§ˆë‹¤ ì„¤ì • ë°©ì‹ ë‹¤ë¦„
- ë¯¼ê° ì •ë³´ ê´€ë¦¬ ì–´ë ¤ì›€
- ì„¤ì • ë³€ê²½ ì‹œ ë°°í¬ í•„ìš”

### í•´ê²°ì±…: ì¤‘ì•™í™”ëœ ì„¤ì • ê´€ë¦¬

```yaml
# ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬: airbnb-spring-boot-starter
airbnb:
  service:
    name: ${SERVICE_NAME}
    version: ${SERVICE_VERSION}
  monitoring:
    enabled: true
    datadog:
      api-key: ${DATADOG_API_KEY}
  database:
    connection-pool:
      max-size: 50
      min-idle: 10
```

**íš¨ê³¼:**
- ì„¤ì • í‘œì¤€í™”ë¡œ ì˜¨ë³´ë”© ì‹œê°„ 50% ë‹¨ì¶•
- ë¯¼ê° ì •ë³´ ìœ ì¶œ ì‚¬ê³  0ê±´
- ì„¤ì • ë³€ê²½ ë°°í¬ ì‹œê°„ 10ë¶„ â†’ 1ë¶„

---

## â“ FAQ

### Q1. application.propertiesì™€ application.ymlì„ ë™ì‹œì— ì‚¬ìš©í•˜ë©´?

**A:** propertiesê°€ ìš°ì„ ìˆœìœ„ê°€ ë” ë†’ìŠµë‹ˆë‹¤.

```
ìš°ì„ ìˆœìœ„ (ë†’ì€ ìˆœ):
1. application.properties
2. application.yml
```

**ê¶Œì¥:** í•˜ë‚˜ë§Œ ì‚¬ìš© (yml ê¶Œì¥)

### Q2. í”„ë¡œíŒŒì¼ë³„ ì„¤ì •ì´ ì¤‘ë³µë˜ë©´?

**A:** í”„ë¡œíŒŒì¼ ì„¤ì •ì´ ê³µí†µ ì„¤ì •ì„ ì˜¤ë²„ë¼ì´ë“œí•©ë‹ˆë‹¤.

```yaml
# application.yml
server:
  port: 8080
app:
  timeout: 30

# application-dev.yml (dev í”„ë¡œíŒŒì¼ í™œì„±í™” ì‹œ)
server:
  port: 9090  # ì˜¤ë²„ë¼ì´ë“œ

# ê²°ê³¼
server.port = 9090 (dev ì„¤ì •)
app.timeout = 30 (ê³µí†µ ì„¤ì •)
```

### Q3. @ConfigurationProperties ë³€ê²½ ì‹œ ì¬ì‹œì‘ í•„ìš”?

**A:** ê¸°ë³¸ì ìœ¼ë¡œ í•„ìš”í•˜ì§€ë§Œ, @RefreshScopeë¡œ í•´ê²° ê°€ëŠ¥

```java
@Component
@RefreshScope
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    // ì„¤ì • ë³€ê²½ ì‹œ /actuator/refresh í˜¸ì¶œí•˜ë©´ ì¦‰ì‹œ ì ìš©
}
```

```bash
# ì„¤ì • ë³€ê²½ í›„
curl -X POST http://localhost:8080/actuator/refresh
```

### Q4. ë¦¬ìŠ¤íŠ¸ í”„ë¡œí¼í‹°ëŠ” ì–´ë–»ê²Œ ì˜¤ë²„ë¼ì´ë“œí•˜ë‚˜ìš”?

**A:** ì¸ë±ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œ

```yaml
# application.yml
app:
  servers:
    - server1
    - server2

# application-prod.yml
app:
  servers[0]: prod-server1  # ì²« ë²ˆì§¸ë§Œ ë³€ê²½
  servers[1]: prod-server2
```

**ëª…ë ¹í–‰:**
```bash
java -jar app.jar --app.servers[0]=custom-server
```

### Q5. ì•”í˜¸í™”ëœ í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´?

**A:** Jasypt ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

```gradle
implementation 'com.github.ulisesbocchio:jasypt-spring-boot-starter:3.0.5'
```

```yaml
spring:
  datasource:
    password: ENC(encrypted_value_here)
```

```java
@Configuration
public class JasyptConfig {
    @Bean
    public StringEncryptor stringEncryptor() {
        PooledPBEStringEncryptor encryptor = new PooledPBEStringEncryptor();
        encryptor.setPassword(System.getenv("JASYPT_PASSWORD"));
        return encryptor;
    }
}
```

---

## ğŸ’¼ ë©´ì ‘ ì§ˆë¬¸ TOP 5

### â­ ì´ˆê¸‰ 1: @Valueì™€ @ConfigurationPropertiesì˜ ì°¨ì´ëŠ”?

**ë‹µë³€:**

| íŠ¹ì§• | @Value | @ConfigurationProperties |
|-----|--------|--------------------------|
| ìš©ë„ | ë‹¨ìˆœ ê°’ ì£¼ì… | ë³µì¡í•œ ì„¤ì • ê·¸ë£¹ |
| íƒ€ì… ì•ˆì „ì„± | ë‚®ìŒ | ë†’ìŒ |
| ìœ íš¨ì„± ê²€ì¦ | ë¶ˆê°€ëŠ¥ | ê°€ëŠ¥ |
| ì¤‘ì²© êµ¬ì¡° | ì–´ë ¤ì›€ | ì‰¬ì›€ |

### â­ ì´ˆê¸‰ 2: í”„ë¡œíŒŒì¼ì„ í™œì„±í™”í•˜ëŠ” ë°©ë²•ì€?

**ë‹µë³€:**

```bash
# 1. ëª…ë ¹í–‰
java -jar app.jar --spring.profiles.active=prod

# 2. í™˜ê²½ ë³€ìˆ˜
export SPRING_PROFILES_ACTIVE=prod

# 3. application.yml
spring:
  profiles:
    active: prod
```

### â­â­ ì¤‘ê¸‰ 1: ì„¤ì • ìš°ì„ ìˆœìœ„ëŠ”?

**ë‹µë³€:**
```
ë†’ìŒ â† ë‚®ìŒ
1. ëª…ë ¹í–‰ ì¸ì
2. SPRING_APPLICATION_JSON
3. ServletConfig/ServletContext
4. JNDI
5. System.getProperties()
6. í™˜ê²½ ë³€ìˆ˜
7. application-{profile}.yml
8. application.yml
```

### â­â­ ì¤‘ê¸‰ 2: ë¯¼ê° ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì€?

**ë‹µë³€:**

```
1. í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
   ${DB_PASSWORD}

2. ì™¸ë¶€ íŒŒì¼ (Git ì œì™¸)
   spring.config.import=file:./secrets.yml

3. Secrets Manager
   - AWS Secrets Manager
   - HashiCorp Vault

4. ì•”í˜¸í™”
   - Jasypt
```

### â­â­ ì¤‘ê¸‰ 3: @ConfigurationPropertiesì˜ ì¥ì ì€?

**ë‹µë³€:**

```java
// 1. íƒ€ì… ì•ˆì „
private int timeout;  // ì»´íŒŒì¼ íƒ€ì„ ì²´í¬

// 2. ìœ íš¨ì„± ê²€ì¦
@Min(1) @Max(100)
private int maxConnections;

// 3. IDE ì§€ì›
properties.getApi().getUrl();  // ìë™ì™„ì„±

// 4. ì¤‘ì²© êµ¬ì¡°
private Api api;
public static class Api {
    private String url;
}
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

í”„ë¡œí¼í‹° ê´€ë¦¬ë¥¼ ë§ˆì³¤ë‹¤ë©´:

1. **32ì¥: Actuator** - ìš´ì˜ ëª¨ë‹ˆí„°ë§
2. **36ì¥: í”„ë¡œíŒŒì¼ ê´€ë¦¬ ì‹¬í™”** - ê³ ê¸‰ ì „ëµ
3. **Spring Cloud Config** - ì¤‘ì•™í™”ëœ ì„¤ì • ì„œë²„

---

**ğŸ“ í•™ìŠµ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸:**

- [ ] application.yml ì‘ì„±
- [ ] @ConfigurationProperties í™œìš©
- [ ] í”„ë¡œíŒŒì¼ë³„ ì„¤ì • ë¶„ë¦¬
- [ ] í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
- [ ] ë¯¼ê° ì •ë³´ ì•ˆì „ ê´€ë¦¬
- [ ] ì„¤ì • ìš°ì„ ìˆœìœ„ ì´í•´

**ë‹¤ìŒ ì¥ì—ì„œëŠ” Actuatorë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤!** ğŸš€
