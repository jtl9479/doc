# ì„¹ì…˜ 22: ì¼ì¼ ê°œë°œ ë£¨í‹´

> **í•™ìŠµ ëª©í‘œ**: Dockerë¥¼ í™œìš©í•œ íš¨ìœ¨ì ì¸ ì¼ì¼ ê°œë°œ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬ì¶•í•˜ê³ , Makefileë¡œ ë°˜ë³µ ì‘ì—…ì„ ìë™í™”í•˜ì—¬ ê°œë°œ ìƒì‚°ì„±ì„ 3ë°° í–¥ìƒì‹œí‚¨ë‹¤.

**â±ï¸ ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 2-3ì‹œê°„
**ë‚œì´ë„**: â­â­â­â˜†â˜† (3ê°œ/5ê°œ)

---

## ëª©ì°¨
1. [ğŸ’¡ ì™œ ì¼ì¼ ê°œë°œ ë£¨í‹´ì´ í•„ìš”í•œê°€?](#-ì™œ-ì¼ì¼-ê°œë°œ-ë£¨í‹´ì´-í•„ìš”í•œê°€)
2. [ğŸ” ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°](#-ì‹¤ìƒí™œ-ë¹„ìœ ë¡œ-ì´í•´í•˜ê¸°)
3. [ì•„ì¹¨: ê°œë°œ í™˜ê²½ ì‹œì‘](#ì•„ì¹¨-ê°œë°œ-í™˜ê²½-ì‹œì‘)
4. [ê°œë°œ ì¤‘: ëª¨ë‹ˆí„°ë§ê³¼ ë””ë²„ê¹…](#ê°œë°œ-ì¤‘-ëª¨ë‹ˆí„°ë§ê³¼-ë””ë²„ê¹…)
5. [ì½”ë“œ ë³€ê²½ ì‹œ: ì¬ë¹Œë“œ ì „ëµ](#ì½”ë“œ-ë³€ê²½-ì‹œ-ì¬ë¹Œë“œ-ì „ëµ)
6. [ì ì‹¬/íœ´ì‹: ë¦¬ì†ŒìŠ¤ ê´€ë¦¬](#ì ì‹¬íœ´ì‹-ë¦¬ì†ŒìŠ¤-ê´€ë¦¬)
7. [í‡´ê·¼ ì „: ì •ë¦¬ ë° ë°±ì—…](#í‡´ê·¼-ì „-ì •ë¦¬-ë°-ë°±ì—…)
8. [ì£¼ê°„ ìœ ì§€ë³´ìˆ˜](#ì£¼ê°„-ìœ ì§€ë³´ìˆ˜)
9. [íš¨ìœ¨ì ì¸ ì›Œí¬í”Œë¡œìš° íŒ](#íš¨ìœ¨ì ì¸-ì›Œí¬í”Œë¡œìš°-íŒ)
10. [ğŸ‘¨â€ğŸ’» ì£¼ë‹ˆì–´ ê°œë°œì ì‹œë‚˜ë¦¬ì˜¤](#-ì£¼ë‹ˆì–´-ê°œë°œì-ì‹œë‚˜ë¦¬ì˜¤)
11. [â“ FAQ](#-faq)
12. [ğŸ“ ë©´ì ‘ ì§ˆë¬¸](#-ë©´ì ‘-ì§ˆë¬¸)

---

## ğŸ’¡ ì™œ ì¼ì¼ ê°œë°œ ë£¨í‹´ì´ í•„ìš”í•œê°€?

### ì‹¤ë¬´ ë°°ê²½

**"ë§¤ì¼ ì•„ì¹¨ 30ë¶„ì„ Docker í™˜ê²½ ì„¤ì •ì— ë‚­ë¹„í•˜ê³ , í‡´ê·¼ ì „ ì œëŒ€ë¡œ ì •ë¦¬ ì•ˆ í•´ì„œ ë‹¤ìŒ ë‚  ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤."**

#### âŒ ì¼ì¼ ë£¨í‹´ì´ ì—†ìœ¼ë©´ ë°œìƒí•˜ëŠ” ë¬¸ì œ

```
ë¬¸ì œ 1: ë¹„íš¨ìœ¨ì ì¸ ì‹œì‘
- ì¦ìƒ: ë§¤ì¼ ì•„ì¹¨ ì»¨í…Œì´ë„ˆ ì‹œì‘ì— 10-30ë¶„ ì†Œìš”
- ì˜í–¥: í•˜ë£¨ ìƒì‚°ì„±ì˜ 5-10% ì†ì‹¤
- ë¹„ìš©: ê°œë°œì 1ëª… ê¸°ì¤€ ì—°ê°„ 2ì£¼ ë¶„ëŸ‰ì˜ ì‹œê°„ ë‚­ë¹„

ë¬¸ì œ 2: ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
- ì¦ìƒ: ì •ê¸°ì ì¸ Docker ì •ë¦¬ ì—†ì´ ë””ìŠ¤í¬ê°€ ê°€ë“ ì°¸
- ì˜í–¥: ë¹Œë“œ ì‹¤íŒ¨, ì‹œìŠ¤í…œ ëŠë ¤ì§
- ë¹„ìš©: 1ì‹œê°„ ì´ìƒ ì •ë¦¬ ì‘ì—… + ì‘ì—… ì¤‘ë‹¨

ë¬¸ì œ 3: ë°ì´í„° ì†ì‹¤ ìœ„í—˜
- ì¦ìƒ: í‡´ê·¼ ì „ ë°±ì—… ì—†ì´ ì»¨í…Œì´ë„ˆ ì‚­ì œ
- ì˜í–¥: ê°œë°œ ë°ì´í„° ì†ì‹¤, ì‘ì—… ë°˜ë³µ
- ë¹„ìš©: 1-2ì¼ ë¶„ëŸ‰ì˜ ì‘ì—… ì¬ìˆ˜í–‰
```

#### âœ… ì¼ì¼ ë£¨í‹´ì„ ìµíˆë©´

```
í•´ê²°ì±… 1: ìë™í™”ëœ ì‹œì‘
- ë°©ë²•: Makefile ëª…ë ¹ì–´ 1ê°œë¡œ ì™„ì „í•œ í™˜ê²½ êµ¬ì„±
- íš¨ê³¼: ì‹œì‘ ì‹œê°„ 30ë¶„ â†’ 2ë¶„ (93% ë‹¨ì¶•)
- ì ˆê°: ì—°ê°„ ì•½ 50ì‹œê°„ ì ˆì•½

í•´ê²°ì±… 2: ì²´ê³„ì ì¸ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬
- ë°©ë²•: ìë™ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ + cron ì‘ì—…
- íš¨ê³¼: ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ 80% â†’ 30% (ì•ˆì •ì  ìœ ì§€)
- ì ˆê°: ë””ìŠ¤í¬ ì •ë¦¬ ì‹œê°„ ì œë¡œí™”

í•´ê²°ì±… 3: ì•ˆì „í•œ ë°ì´í„° ê´€ë¦¬
- ë°©ë²•: ìë™ ë°±ì—… + Git hooks
- íš¨ê³¼: ë°ì´í„° ì†ì‹¤ ìœ„í—˜ ì œë¡œ
- ì ˆê°: ì‘ì—… ë°˜ë³µ ì œë¡œ, ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ
```

### ìˆ˜ì¹˜ë¡œ ë³´ëŠ” íš¨ê³¼

| ì§€í‘œ | Before | After | ê°œì„ ìœ¨ |
|------|--------|-------|--------|
| ì¼ì¼ ì‹œì‘ ì‹œê°„ | 30ë¶„ | 2ë¶„ | **93%â†“** |
| ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ | 80GB | 25GB | **69%â†“** |
| í™˜ê²½ ë¬¸ì œ ë°œìƒë¥  | ì£¼ 5íšŒ | ì›” 1íšŒ | **95%â†“** |
| ë°ì´í„° ì†ì‹¤ ì‚¬ê³  | ì›” 2íšŒ | 0íšŒ | **100%â†“** |
| ê°œë°œ ìƒì‚°ì„± | 100% | 300% | **200%â†‘** |

---

## ğŸ” ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

### ë¹„ìœ  1: ì£¼ë°©ì˜ ë¯¸ì¥ì„¼

```
ë ˆìŠ¤í† ë‘ ì£¼ë°©ì¥ì˜ í•˜ë£¨:

[ì˜¤ì „ ì¤€ë¹„ - Mise en place]
- ì¹¼ ê°ˆê¸° (Docker ì—…ë°ì´íŠ¸)
- ì¬ë£Œ ì¤€ë¹„ (ì´ë¯¸ì§€ Pull)
- ì¡°ë¦¬ ë„êµ¬ ë°°ì¹˜ (ì»¨í…Œì´ë„ˆ ì‹œì‘)
â†’ ì¤€ë¹„ëœ ì£¼ë°© = ë¹ ë¥¸ ì¡°ë¦¬

[Docker ê°œë°œ í™˜ê²½]
- ì•„ì¹¨ì— make morning ì‹¤í–‰
- ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì¤€ë¹„ëœ ìƒíƒœ
â†’ ì¤€ë¹„ëœ í™˜ê²½ = ë¹ ë¥¸ ê°œë°œ

[í•µì‹¬ í¬ì¸íŠ¸]
ì œëŒ€ë¡œ ëœ ì¤€ë¹„ ì—†ì´ ìš”ë¦¬í•˜ë©´ í˜¼ë€ìŠ¤ëŸ½ë“¯ì´,
ì¤€ë¹„ë˜ì§€ ì•Šì€ ê°œë°œ í™˜ê²½ì—ì„œëŠ” ìƒì‚°ì„±ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤.
```

### ë¹„ìœ  2: ìë™ì°¨ì˜ ì‹œë™ê³¼ ì •ë¹„

```
ìë™ì°¨ ê´€ë¦¬:

[ì‹œë™]
- ì—”ì§„ ì˜ˆì—´ (ì„œë¹„ìŠ¤ ì‹œì‘)
- ê³„ê¸°íŒ í™•ì¸ (í—¬ìŠ¤ì²´í¬)
â†’ ì•ˆì „í•œ ì¶œë°œ

[ì •ë¹„]
- ì£¼ìœ  (ë¦¬ì†ŒìŠ¤ í™•ë³´)
- ì„¸ì°¨ (ì •ë¦¬)
- ì •ê¸° ì ê²€ (ì£¼ê°„ ìœ ì§€ë³´ìˆ˜)
â†’ ì˜¤ë˜ ì‚¬ìš© ê°€ëŠ¥

[Docker ë£¨í‹´]
- ì•„ì¹¨ì— ìë™ ì‹œì‘
- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- ì •ê¸°ì ì¸ ì •ë¦¬
â†’ ì•ˆì •ì ì¸ ê°œë°œ í™˜ê²½
```

### ë¹„ìœ  3: ê³µì¥ì˜ ìƒì‚° ë¼ì¸

```
ê³µì¥ ìš´ì˜:

[êµëŒ€ ì‹œì‘]
- ê¸°ê³„ ì ê²€ (ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸)
- ì›ìì¬ í™•ì¸ (ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ)
- ì•ˆì „ ì ê²€ (ë³´ì•ˆ ì„¤ì •)

[êµëŒ€ ì¢…ë£Œ]
- ê¸°ê³„ ì •ë¦¬ (ì»¨í…Œì´ë„ˆ ì •ì§€)
- ì‘ì—… ê¸°ë¡ (ë¡œê·¸ ë°±ì—…)
- ì¬ê³  ì •ë¦¬ (ë¦¬ì†ŒìŠ¤ ì •ë¦¬)

[Docker ë£¨í‹´]
ì •í•´ì§„ ì ˆì°¨ë¥¼ ë”°ë¥´ë©´ ì‚¬ê³  ì—†ì´ íš¨ìœ¨ì ìœ¼ë¡œ ìš´ì˜ë©ë‹ˆë‹¤.
```

---

## ì•„ì¹¨: ê°œë°œ í™˜ê²½ ì‹œì‘

### ë¹ ë¥¸ ì‹œì‘ ë£¨í‹´

```bash
#!/bin/bash
# scripts/morning-start.sh

echo "â˜€ï¸ ì¢‹ì€ ì•„ì¹¨ì…ë‹ˆë‹¤! ê°œë°œ í™˜ê²½ì„ ì‹œì‘í•©ë‹ˆë‹¤..."

# 1. Git ìµœì‹  ìƒíƒœ í™•ì¸
echo "ğŸ“¥ Git Pull..."
git pull origin develop

# 2. í™˜ê²½ ë³€ìˆ˜ í™•ì¸
if [ ! -f .env.dev ]; then
    echo "âŒ .env.dev íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤!"
    exit 1
fi

# 3. Docker ìƒíƒœ í™•ì¸
echo "ğŸ³ Docker ìƒíƒœ í™•ì¸..."
if ! docker info > /dev/null 2>&1; then
    echo "âŒ Dockerê°€ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹™ë‹ˆë‹¤."
    echo "Docker Desktopì„ ì‹œì‘í•˜ì„¸ìš”."
    exit 1
fi

# 4. ë¶ˆí•„ìš”í•œ ì»¨í…Œì´ë„ˆ ì •ë¦¬
echo "ğŸ§¹ ì´ì „ ì»¨í…Œì´ë„ˆ ì •ë¦¬..."
docker-compose down

# 5. ìµœì‹  ì´ë¯¸ì§€ í™•ì¸ (ì„ íƒì‚¬í•­)
read -p "ì´ë¯¸ì§€ë¥¼ pull í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    echo "ğŸ“¦ ì´ë¯¸ì§€ Pull..."
    docker-compose pull
fi

# 6. ê°œë°œ í™˜ê²½ ì‹œì‘
echo "ğŸš€ ê°œë°œ í™˜ê²½ ì‹œì‘..."
docker-compose -f docker-compose.dev.yml up -d

# 7. ì„œë¹„ìŠ¤ ì¤€ë¹„ ëŒ€ê¸°
echo "â³ ì„œë¹„ìŠ¤ ì¤€ë¹„ ì¤‘..."
sleep 15

# 8. í—¬ìŠ¤ì²´í¬
echo "ğŸ¥ í—¬ìŠ¤ì²´í¬..."
SERVICES=("user-service:8081" "account-service:8082" "trade-service:8083")
ALL_HEALTHY=true

for service_port in "${SERVICES[@]}"; do
    IFS=':' read -r service port <<< "$service_port"

    if curl -f http://localhost:$port/actuator/health > /dev/null 2>&1; then
        echo "  âœ… $service"
    else
        echo "  âŒ $service (í¬íŠ¸ $port ì‘ë‹µ ì—†ìŒ)"
        ALL_HEALTHY=false
    fi
done

# 9. ê²°ê³¼ ì¶œë ¥
echo ""
if [ "$ALL_HEALTHY" = true ]; then
    echo "âœ… ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì •ìƒ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤!"
    echo ""
    echo "ğŸ“‹ ê°œë°œ í™˜ê²½ ì •ë³´:"
    echo "  - User Service:    http://localhost:8081"
    echo "  - Account Service: http://localhost:8082"
    echo "  - Trade Service:   http://localhost:8083"
    echo "  - AI Service:      http://localhost:8084"
    echo "  - Scraper Service: http://localhost:8085"
    echo "  - pgAdmin:         http://localhost:5050"
    echo "  - Redis Commander: http://localhost:8090"
    echo ""
    echo "ğŸ’¡ ìœ ìš©í•œ ëª…ë ¹ì–´:"
    echo "  - ë¡œê·¸ í™•ì¸: docker-compose logs -f"
    echo "  - ì¬ì‹œì‘:   docker-compose restart <service>"
    echo "  - ì¤‘ì§€:     docker-compose stop"
else
    echo "âš ï¸  ì¼ë¶€ ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤."
    echo "ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”: docker-compose logs"
fi
```

### ì„ íƒì  ì‹œì‘ (Makefile)

```makefile
# Makefile

.PHONY: morning morning-full morning-minimal

# ê¸°ë³¸ ì‹œì‘ (ë°±ì—”ë“œë§Œ)
morning:
	@echo "â˜€ï¸ ê°œë°œ í™˜ê²½ ì‹œì‘ (ë°±ì—”ë“œë§Œ)..."
	@git pull origin develop
	@docker-compose down
	@docker-compose -f docker-compose.dev.yml up -d postgres redis user-service
	@sleep 10
	@make health-check

# ì „ì²´ ì‹œì‘ (í”„ë¡ íŠ¸ì—”ë“œ í¬í•¨)
morning-full:
	@echo "â˜€ï¸ ì „ì²´ ê°œë°œ í™˜ê²½ ì‹œì‘..."
	@git pull origin develop
	@docker-compose down
	@docker-compose -f docker-compose.dev.yml --profile tools up -d
	@sleep 15
	@make health-check

# ìµœì†Œ ì‹œì‘ (DBë§Œ)
morning-minimal:
	@echo "â˜€ï¸ ìµœì†Œ í™˜ê²½ ì‹œì‘ (DBë§Œ)..."
	@docker-compose -f docker-compose.dev.yml up -d postgres redis
	@sleep 5
	@echo "âœ… ë°ì´í„°ë² ì´ìŠ¤ ì¤€ë¹„ ì™„ë£Œ"

health-check:
	@echo "ğŸ¥ í—¬ìŠ¤ì²´í¬ ì¤‘..."
	@curl -f http://localhost:8081/actuator/health && echo "  âœ… User Service" || echo "  âŒ User Service"
```

### VSCode ìë™ ì‹œì‘ ì„¤ì •

```json
// .vscode/tasks.json

{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Start Dev Environment",
      "type": "shell",
      "command": "make morning",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "runOptions": {
        "runOn": "folderOpen"  // í´ë” ì—´ ë•Œ ìë™ ì‹¤í–‰
      }
    }
  ]
}
```

---

## ê°œë°œ ì¤‘: ëª¨ë‹ˆí„°ë§ê³¼ ë””ë²„ê¹…

### ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§

```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ ë¡œê·¸ (tmux/screen ì‚¬ìš©)
docker-compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ
docker-compose logs -f user-service

# ì—¬ëŸ¬ ì„œë¹„ìŠ¤
docker-compose logs -f user-service account-service

# ì»¬ëŸ¬ ë¡œê·¸ (grc ì‚¬ìš©)
grc docker-compose logs -f

# ì—ëŸ¬ë§Œ í•„í„°ë§
docker-compose logs -f | grep -i error
```

### í„°ë¯¸ë„ ë©€í‹°í”Œë ‰ì„œ ì„¤ì •

```bash
#!/bin/bash
# scripts/dev-tmux.sh

# tmux ì„¸ì…˜ ìƒì„±
tmux new-session -d -s dev

# ìœˆë„ìš° 1: ë¡œê·¸ ëª¨ë‹ˆí„°ë§
tmux rename-window -t dev:0 'logs'
tmux send-keys -t dev:0 'docker-compose logs -f user-service' C-m

# ìœˆë„ìš° 2: ë°ì´í„°ë² ì´ìŠ¤
tmux new-window -t dev:1 -n 'db'
tmux send-keys -t dev:1 'docker-compose exec postgres psql -U lkuser -d lktrade_dev' C-m

# ìœˆë„ìš° 3: Redis
tmux new-window -t dev:2 -n 'redis'
tmux send-keys -t dev:2 'docker-compose exec redis redis-cli' C-m

# ìœˆë„ìš° 4: ê°œë°œ ì…¸
tmux new-window -t dev:3 -n 'dev'

# tmux ì„¸ì…˜ ì—°ê²°
tmux attach-session -t dev
```

### ê°œë°œ ëŒ€ì‹œë³´ë“œ (lazydocker)

```bash
# lazydocker ì‹¤í–‰
docker run --rm -it \
    -v /var/run/docker.sock:/var/run/docker.sock \
    -v ~/.config/lazydocker:/.config/jesseduffield/lazydocker \
    lazyteam/lazydocker

# ë‹¨ì¶•í‚¤:
# - [â†‘/â†“]: íƒìƒ‰
# - [l]: ë¡œê·¸ ë³´ê¸°
# - [r]: ì¬ì‹œì‘
# - [s]: ì¤‘ì§€
# - [e]: ì…¸ ì§„ì…
# - [x]: ì‚­ì œ
```

### ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

```bash
#!/bin/bash
# scripts/monitor-resources.sh

watch -n 2 'docker stats --no-stream --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}\t{{.NetIO}}\t{{.BlockIO}}"'

# ë˜ëŠ” ctop ì‚¬ìš©
docker run --rm -it \
    -v /var/run/docker.sock:/var/run/docker.sock \
    quay.io/vektorlab/ctop:latest
```

---

## ì½”ë“œ ë³€ê²½ ì‹œ: ì¬ë¹Œë“œ ì „ëµ

### í•« ë¦¬ë¡œë“œ í™œìš© (ë³€ê²½ ì¦‰ì‹œ ë°˜ì˜)

**Spring Boot DevTools (ìë™ ì¬ì‹œì‘)**:

```yaml
# docker-compose.dev.yml

services:
  user-service:
    build:
      context: ./modules/user
      dockerfile: Dockerfile.dev
    volumes:
      - ./modules/user/api/src:/app/api/src:cached  # ì†ŒìŠ¤ ì½”ë“œ ë§ˆìš´íŠ¸
    environment:
      - SPRING_DEVTOOLS_RESTART_ENABLED=true
    # ì½”ë“œ ë³€ê²½ â†’ ìë™ ì¬ì‹œì‘ (5ì´ˆ ì´ë‚´)
```

**Node.js nodemon (ìë™ ì¬ì‹œì‘)**:

```yaml
services:
  backend:
    command: nodemon --watch src src/index.js
    volumes:
      - ./src:/app/src:cached
    # ì½”ë“œ ë³€ê²½ â†’ ì¦‰ì‹œ ì¬ì‹œì‘
```

### ìˆ˜ë™ ì¬ë¹Œë“œê°€ í•„ìš”í•œ ê²½ìš°

**1. ì˜ì¡´ì„± ë³€ê²½ (package.json, build.gradle.kts)**:

```bash
# ì´ë¯¸ì§€ ì¬ë¹Œë“œ
docker-compose build user-service

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker-compose up -d user-service

# ë˜ëŠ” í•œ ë²ˆì—
docker-compose up -d --build user-service
```

**2. Dockerfile ë³€ê²½**:

```bash
# ìºì‹œ ì—†ì´ ì¬ë¹Œë“œ (ì™„ì „ ì¬ë¹Œë“œ)
docker-compose build --no-cache user-service
docker-compose up -d user-service
```

**3. í™˜ê²½ ë³€ìˆ˜ ë³€ê²½ (.env)**:

```bash
# ì»¨í…Œì´ë„ˆ ì¬ìƒì„± (ì¬ë¹Œë“œ ë¶ˆí•„ìš”)
docker-compose up -d --force-recreate user-service
```

### ë¹ ë¥¸ ì¬ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# scripts/quick-rebuild.sh

SERVICE=$1

if [ -z "$SERVICE" ]; then
    echo "Usage: ./quick-rebuild.sh <service-name>"
    echo "Example: ./quick-rebuild.sh user-service"
    exit 1
fi

echo "ğŸ”¨ $SERVICE ì¬ë¹Œë“œ ì¤‘..."

# 1. ì„œë¹„ìŠ¤ ì¤‘ì§€
docker-compose stop $SERVICE

# 2. ì´ë¯¸ì§€ ì¬ë¹Œë“œ (ìºì‹œ í™œìš©)
docker-compose build $SERVICE

# 3. ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d $SERVICE

# 4. ë¡œê·¸ í™•ì¸
echo "ğŸ“‹ ë¡œê·¸:"
docker-compose logs -f --tail 50 $SERVICE
```

### Makefileë¡œ ê°„í¸í•˜ê²Œ

```makefile
# Makefile

.PHONY: rebuild restart rebuild-all

# íŠ¹ì • ì„œë¹„ìŠ¤ ì¬ë¹Œë“œ
rebuild:
	@read -p "ì„œë¹„ìŠ¤ ì´ë¦„: " service; \
	docker-compose build $$service && \
	docker-compose up -d $$service && \
	docker-compose logs -f $$service

# íŠ¹ì • ì„œë¹„ìŠ¤ ì¬ì‹œì‘ (ì¬ë¹Œë“œ ì—†ì´)
restart:
	@read -p "ì„œë¹„ìŠ¤ ì´ë¦„: " service; \
	docker-compose restart $$service && \
	docker-compose logs -f $$service

# ì „ì²´ ì¬ë¹Œë“œ
rebuild-all:
	@echo "ğŸ”¨ ì „ì²´ ì¬ë¹Œë“œ ì¤‘..."
	@docker-compose build
	@docker-compose up -d
	@echo "âœ… ì¬ë¹Œë“œ ì™„ë£Œ"

# ë¹ ë¥¸ ì¬ì‹œì‘ (ì£¼ë¡œ ì‚¬ìš©)
rr:
	@docker-compose restart user-service
	@docker-compose logs -f --tail 50 user-service
```

---

## ì ì‹¬/íœ´ì‹: ë¦¬ì†ŒìŠ¤ ê´€ë¦¬

### ì¼ì‹œ ì •ì§€ (ë¦¬ì†ŒìŠ¤ ì ˆì•½)

```bash
# ëª¨ë“  ì»¨í…Œì´ë„ˆ ì¼ì‹œ ì •ì§€
docker-compose pause

# íŠ¹ì • ì»¨í…Œì´ë„ˆë§Œ ì¼ì‹œ ì •ì§€
docker-compose pause user-service account-service

# ì¬ê°œ
docker-compose unpause

# ì™„ì „ ì¤‘ì§€ (ë” ë§ì€ ë¦¬ì†ŒìŠ¤ ì ˆì•½)
docker-compose stop
```

### ë¦¬ì†ŒìŠ¤ ìë™ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# scripts/lunch-cleanup.sh

echo "ğŸ± ì ì‹¬ì‹œê°„ ë¦¬ì†ŒìŠ¤ ì •ë¦¬..."

# 1. ê°œë°œ ì„œë¹„ìŠ¤ ì¼ì‹œ ì •ì§€ (DBëŠ” ìœ ì§€)
docker-compose pause user-service account-service trade-service ai-service scraper-service

# 2. ë¶ˆí•„ìš”í•œ ì´ë¯¸ì§€ ì •ë¦¬
docker image prune -f

# 3. ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆ ì •ë¦¬
docker container prune -f

# 4. ë¡œê·¸ ì •ë¦¬
for container in $(docker ps -a -q); do
    docker logs $container --tail 0 > /dev/null 2>&1
done

# 5. ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
echo ""
echo "ğŸ’¾ Docker ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰:"
docker system df

echo ""
echo "âœ… ì •ë¦¬ ì™„ë£Œ! ì¦ê±°ìš´ ì ì‹¬ì‹œê°„ ë˜ì„¸ìš” ğŸ´"
```

### cronìœ¼ë¡œ ìë™ ì •ë¦¬

```bash
# crontab -e

# ë§¤ì¼ ì ì‹¬ì‹œê°„(12:00)ì— ìë™ ì •ë¦¬
0 12 * * * cd /path/to/project && ./scripts/lunch-cleanup.sh

# ë§¤ì£¼ ê¸ˆìš”ì¼ í‡´ê·¼ ì „(17:00) ì „ì²´ ì •ë¦¬
0 17 * * 5 cd /path/to/project && docker system prune -af
```

---

## í‡´ê·¼ ì „: ì •ë¦¬ ë° ë°±ì—…

### í‡´ê·¼ ë£¨í‹´

```bash
#!/bin/bash
# scripts/evening-cleanup.sh

echo "ğŸŒ™ í‡´ê·¼ ì „ ì •ë¦¬ ì‹œì‘..."

# 1. Git ìƒíƒœ í™•ì¸
echo "ğŸ“ Git ìƒíƒœ:"
git status

# 2. ì»¤ë°‹ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ í™•ì¸
if ! git diff-index --quiet HEAD --; then
    echo "âš ï¸  ì»¤ë°‹ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤!"
    read -p "ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N) " -n 1 -r
    echo
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        exit 0
    fi
fi

# 3. ë¡œê·¸ ë°±ì—… (ì„ íƒì‚¬í•­)
read -p "ë¡œê·¸ë¥¼ ë°±ì—…í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    echo "ğŸ“‹ ë¡œê·¸ ë°±ì—… ì¤‘..."
    mkdir -p ./logs/$(date +%Y%m%d)

    for service in user-service account-service trade-service; do
        docker-compose logs --no-color $service > ./logs/$(date +%Y%m%d)/${service}.log
    done

    echo "âœ… ë¡œê·¸ ë°±ì—… ì™„ë£Œ: ./logs/$(date +%Y%m%d)/"
fi

# 4. ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… (ì„ íƒì‚¬í•­)
read -p "ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°±ì—…í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    echo "ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… ì¤‘..."
    docker-compose exec -T postgres pg_dump -U lkuser lktrade_dev > ./backup/db_$(date +%Y%m%d_%H%M%S).sql
    echo "âœ… ë°±ì—… ì™„ë£Œ: ./backup/db_$(date +%Y%m%d_%H%M%S).sql"
fi

# 5. ì»¨í…Œì´ë„ˆ ì¤‘ì§€ ì„ íƒ
echo ""
echo "ì»¨í…Œì´ë„ˆë¥¼ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
echo "  1) ëª¨ë‘ ì¤‘ì§€ (ë©”ëª¨ë¦¬ ì™„ì „ í•´ì œ)"
echo "  2) ì¼ì‹œ ì •ì§€ (ë¹ ë¥¸ ì¬ì‹œì‘ ê°€ëŠ¥)"
echo "  3) ì‹¤í–‰ ìœ ì§€ (ë‚´ì¼ ë°”ë¡œ ì‹œì‘)"
read -p "ì„ íƒ (1-3): " -n 1 -r
echo

case $REPLY in
    1)
        echo "ğŸ›‘ ëª¨ë“  ì»¨í…Œì´ë„ˆ ì¤‘ì§€..."
        docker-compose down
        ;;
    2)
        echo "â¸ï¸  ì»¨í…Œì´ë„ˆ ì¼ì‹œ ì •ì§€..."
        docker-compose pause
        ;;
    3)
        echo "â–¶ï¸  ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ìœ ì§€"
        ;;
    *)
        echo "âŒ ì˜ëª»ëœ ì„ íƒ. ì‹¤í–‰ ìœ ì§€í•©ë‹ˆë‹¤."
        ;;
esac

# 6. ì •ë¦¬
echo ""
echo "ğŸ§¹ ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ ì •ë¦¬..."
docker system prune -f

# 7. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ í™•ì¸
echo ""
echo "ğŸ’¾ Docker ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰:"
docker system df

echo ""
echo "âœ… ì •ë¦¬ ì™„ë£Œ! ë‚´ì¼ ë´ìš” ğŸ‘‹"
```

### ìë™ ë°±ì—… ì„¤ì •

```bash
#!/bin/bash
# scripts/auto-backup.sh

BACKUP_DIR="./backup"
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR

# ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
docker-compose exec -T postgres pg_dump -U lkuser lktrade_dev | gzip > $BACKUP_DIR/db_$DATE.sql.gz

# ë³¼ë¥¨ ë°±ì—…
docker run --rm -v lk-trade_postgres-data:/data -v $BACKUP_DIR:/backup \
    alpine tar czf /backup/postgres-data_$DATE.tar.gz -C /data .

# ì˜¤ë˜ëœ ë°±ì—… ì‚­ì œ (7ì¼ ì´ìƒ)
find $BACKUP_DIR -name "*.sql.gz" -mtime +7 -delete
find $BACKUP_DIR -name "*.tar.gz" -mtime +7 -delete

echo "âœ… ë°±ì—… ì™„ë£Œ: $DATE"
```

---

## ì£¼ê°„ ìœ ì§€ë³´ìˆ˜

### ì›”ìš”ì¼: ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸

```bash
#!/bin/bash
# scripts/weekly-update.sh

echo "ğŸ”„ ì£¼ê°„ ì—…ë°ì´íŠ¸ ì‹œì‘..."

# 1. Git ìµœì‹ í™”
git pull origin develop

# 2. ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
docker-compose pull postgres redis

# 3. ê°œë°œ ì´ë¯¸ì§€ ì¬ë¹Œë“œ
docker-compose build --pull

# 4. ì¬ì‹œì‘
docker-compose down
docker-compose up -d

# 5. í—¬ìŠ¤ì²´í¬
sleep 20
make health-check

echo "âœ… ì—…ë°ì´íŠ¸ ì™„ë£Œ!"
```

### ê¸ˆìš”ì¼: ì „ì²´ ì •ë¦¬

```bash
#!/bin/bash
# scripts/friday-cleanup.sh

echo "ğŸ§¹ ì£¼ê°„ ëŒ€ì²­ì†Œ..."

# 1. ëª¨ë“  ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker-compose down -v

# 2. ë¯¸ì‚¬ìš© ë¦¬ì†ŒìŠ¤ ì •ë¦¬
docker system prune -af --volumes

# 3. ë¹Œë“œ ìºì‹œ ì •ë¦¬
docker builder prune -af

# 4. ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
echo ""
echo "ğŸ’¾ ì •ë¦¬ í›„ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰:"
docker system df

# 5. ë‹¤ìŒ ì£¼ ì¤€ë¹„
echo ""
echo "ğŸ“¦ ë‹¤ìŒ ì£¼ë¥¼ ìœ„í•œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ..."
docker-compose pull

echo ""
echo "âœ… ëŒ€ì²­ì†Œ ì™„ë£Œ! ì¦ê±°ìš´ ì£¼ë§ ë³´ë‚´ì„¸ìš” ğŸ‰"
```

---

## íš¨ìœ¨ì ì¸ ì›Œí¬í”Œë¡œìš° íŒ

### 1. ì‰˜ Alias ì„¤ì •

```bash
# ~/.bashrc ë˜ëŠ” ~/.zshrc

# Docker Compose ë‹¨ì¶•ì–´
alias dc='docker-compose'
alias dcu='docker-compose up -d'
alias dcd='docker-compose down'
alias dcl='docker-compose logs -f'
alias dcr='docker-compose restart'
alias dce='docker-compose exec'

# ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´
alias dcup='docker-compose -f docker-compose.dev.yml up -d'
alias dcdown='docker-compose -f docker-compose.dev.yml down'

# LK-Trade í”„ë¡œì íŠ¸ ì „ìš©
alias lk-start='cd ~/projects/lk-trade && make morning'
alias lk-logs='cd ~/projects/lk-trade && dc logs -f user-service'
alias lk-db='cd ~/projects/lk-trade && dc exec postgres psql -U lkuser -d lktrade_dev'
```

### 2. ì»¤ìŠ¤í…€ ëª…ë ¹ì–´ (functions)

```bash
# ~/.bashrc

# ì„œë¹„ìŠ¤ë³„ ë¡œê·¸ ë³´ê¸°
dclogs() {
    if [ -z "$1" ]; then
        docker-compose logs -f
    else
        docker-compose logs -f "$1"
    fi
}

# ì„œë¹„ìŠ¤ ì¬ì‹œì‘ + ë¡œê·¸
dcrestart() {
    if [ -z "$1" ]; then
        echo "Usage: dcrestart <service-name>"
        return 1
    fi
    docker-compose restart "$1"
    docker-compose logs -f --tail 50 "$1"
}

# ì»¨í…Œì´ë„ˆ ì…¸ ì§„ì…
dcsh() {
    if [ -z "$1" ]; then
        echo "Usage: dcsh <service-name>"
        return 1
    fi
    docker-compose exec "$1" sh
}
```

### 3. Git Hooks í™œìš©

```bash
#!/bin/bash
# .git/hooks/post-merge

# Pull í›„ ìë™ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘

echo "ğŸ”„ ì½”ë“œ ì—…ë°ì´íŠ¸ ê°ì§€. ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ ì¤‘..."

# ì˜ì¡´ì„± ë³€ê²½ í™•ì¸
if git diff HEAD@{1} HEAD --name-only | grep -E "package.json|build.gradle.kts"; then
    echo "ğŸ“¦ ì˜ì¡´ì„± ë³€ê²½ ê°ì§€. ì´ë¯¸ì§€ ì¬ë¹Œë“œ..."
    docker-compose build
fi

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker-compose up -d

echo "âœ… ì¬ì‹œì‘ ì™„ë£Œ!"
```

### 4. ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸

```markdown
## ì¼ì¼ ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì‹œì‘ (9:00)
- [ ] Git Pull
- [ ] ê°œë°œ í™˜ê²½ ì‹œì‘ (`make morning`)
- [ ] í—¬ìŠ¤ì²´í¬ í™•ì¸
- [ ] ì–´ì œ ì‘ì—… ë‚´ìš© í™•ì¸

### ê°œë°œ ì¤‘
- [ ] ë¡œê·¸ ëª¨ë‹ˆí„°ë§ (ì—ëŸ¬ í™•ì¸)
- [ ] ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ í™•ì¸ (1ì‹œê°„ë§ˆë‹¤)
- [ ] ì½”ë“œ ë³€ê²½ í›„ ë™ì‘ í™•ì¸
- [ ] í…ŒìŠ¤íŠ¸ ì‘ì„± ë° ì‹¤í–‰

### ì ì‹¬ (12:00-13:00)
- [ ] ì‘ì—… ì¤‘ì¸ ë‚´ìš© ì»¤ë°‹
- [ ] ì»¨í…Œì´ë„ˆ ì¼ì‹œ ì •ì§€ (ì„ íƒ)

### í‡´ê·¼ ì „ (18:00)
- [ ] Git ì»¤ë°‹ ë° í‘¸ì‹œ
- [ ] ë¡œê·¸ ë°±ì—… (í•„ìš”ì‹œ)
- [ ] ì»¨í…Œì´ë„ˆ ì •ë¦¬
- [ ] ë‚´ì¼ í•  ì¼ ì •ë¦¬

### ì£¼ê°„ (ê¸ˆìš”ì¼)
- [ ] ì „ì²´ ë¦¬ì†ŒìŠ¤ ì •ë¦¬
- [ ] ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
- [ ] ì£¼ê°„ íšŒê³ 
```

### 5. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

```bash
#!/bin/bash
# scripts/dashboard.sh

# tmux ëŒ€ì‹œë³´ë“œ ìƒì„±

tmux new-session -d -s dashboard

# ìƒë‹¨: ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§
tmux send-keys -t dashboard 'docker stats' C-m

# í•˜ë‹¨ ì™¼ìª½: ë¡œê·¸
tmux split-window -v -t dashboard
tmux send-keys -t dashboard 'docker-compose logs -f user-service' C-m

# í•˜ë‹¨ ì˜¤ë¥¸ìª½: ëª…ë ¹ì–´ ì…ë ¥
tmux split-window -h -t dashboard

tmux attach-session -t dashboard
```

### 6. VSCode í†µí•©

```json
// .vscode/settings.json

{
  "docker.explorerRefreshInterval": 1000,
  "docker.showExplorer": true,

  // ì‘ì—… ê³µê°„ ìë™ ëª…ë ¹ì–´
  "emeraldwalk.runonsave": {
    "commands": [
      {
        "match": ".*\\.kt$",
        "cmd": "echo 'Kotlin íŒŒì¼ ë³€ê²½ ê°ì§€. DevToolsê°€ ìë™ ì¬ì‹œì‘í•©ë‹ˆë‹¤.'"
      }
    ]
  }
}
```

```json
// .vscode/launch.json

{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Attach to User Service",
      "type": "kotlin",
      "request": "attach",
      "hostName": "localhost",
      "port": 5005,
      "timeout": 30000
    }
  ]
}
```

---

## ğŸ‘¨â€ğŸ’» ì£¼ë‹ˆì–´ ê°œë°œì ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì²« ì¶œê·¼ - ê°œë°œ í™˜ê²½ ì„¸íŒ…

**ìƒí™©**:
```
ì£¼ë‹ˆì–´: "íŒ€ì¥ë‹˜, ì˜¤ëŠ˜ ì²« ì¶œê·¼ì¸ë° ê°œë°œ í™˜ê²½ì€ ì–´ë–»ê²Œ ì„¸íŒ…í•˜ë‚˜ìš”?"
íŒ€ì¥: "READMEì˜ 'Quick Start' ë³´ê³  make morning ì‹¤í–‰í•´ë³´ì„¸ìš”."
ì£¼ë‹ˆì–´: "ëª…ë ¹ì–´ í•˜ë‚˜ë©´ ë˜ë‚˜ìš”? ì´ì „ íšŒì‚¬ëŠ” í•˜ë£¨ ì¢…ì¼ ê±¸ë ¸ëŠ”ë°..."
```

**ë‹¨ê³„ë³„ í•´ê²°**:
```bash
# Step 1: ì €ì¥ì†Œ í´ë¡ 
$ git clone https://github.com/company/lk-trade.git
$ cd lk-trade

# Step 2: í™˜ê²½ ë³€ìˆ˜ ë³µì‚¬
$ cp .env.example .env.dev
$ vi .env.dev  # í•„ìš”í•œ ê°’ ì…ë ¥

# Step 3: í•œ ë°©ì— ì‹œì‘!
$ make morning

# ì¶œë ¥:
â˜€ï¸ ê°œë°œ í™˜ê²½ ì‹œì‘ (ë°±ì—”ë“œë§Œ)...
Already up to date.
âœ… User Service
âœ… Account Service
âœ… PostgreSQL
âœ… Redis
ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì •ìƒ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤!

âœ… í•´ê²°!
```

**ë°°ìš´ ì **:
- Makefileë¡œ ë³µì¡í•œ ì‹œì‘ ê³¼ì •ì„ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆë‹¤
- íŒ€ ì „ì²´ê°€ ë™ì¼í•œ í™˜ê²½ì—ì„œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤
- ë¬¸ì„œí™”ì™€ ìë™í™”ì˜ ì¤‘ìš”ì„±

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë””ìŠ¤í¬ ìš©ëŸ‰ ë¶€ì¡± ì—ëŸ¬

**ìƒí™©**:
```
ì£¼ë‹ˆì–´: "ì–´? ê°‘ìê¸° ë¹Œë“œê°€ ì•ˆ ë¼ìš”. 'No space left on device' ì—ëŸ¬ê°€ ë‚˜ìš”."
ì‹œë‹ˆì–´: "Docker ì •ë¦¬ ì–¸ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ í–ˆì–´ìš”?"
ì£¼ë‹ˆì–´: "í•œ ë²ˆë„ ì•ˆ í–ˆëŠ”ë°... ê·¸ê²ƒë„ í•´ì•¼ í•˜ë‚˜ìš”?"
ì‹œë‹ˆì–´: "ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸í•´ë³´ì„¸ìš”."
```

**ë‹¨ê³„ë³„ í•´ê²°**:
```bash
# Step 1: ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
$ docker system df

# ì¶œë ¥:
TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE
Images          45        12        28.5GB    15.2GB (53%)
Containers      15        8         2.1GB     1.8GB (85%)
Local Volumes   10        3         18.3GB    10.1GB (55%)
Build Cache     120       0         35.7GB    35.7GB (100%)

# Step 2: ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ ì •ë¦¬
$ docker system prune -af --volumes

# Step 3: ê²°ê³¼ í™•ì¸
$ docker system df

# ì¶œë ¥:
TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE
Images          12        12        13.3GB    0B (0%)
Containers      8         8         0.3GB     0B (0%)
Local Volumes   3         3         8.2GB     0B (0%)
Build Cache     0         0         0B        0B

âœ… í•´ê²°! 80GBì—ì„œ 22GBë¡œ ê°ì†Œ (72% ì ˆê°)
```

**ë°°ìš´ ì **:
- Docker ì •ë¦¬ë¥¼ ì •ê¸°ì ìœ¼ë¡œ í•´ì•¼ í•œë‹¤
- ë¹Œë“œ ìºì‹œê°€ ê°€ì¥ ë§ì€ ê³µê°„ì„ ì°¨ì§€í•œë‹¤
- ì£¼ê°„ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ cronìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì½”ë“œ ë³€ê²½ì´ ë°˜ì˜ ì•ˆ ë¨

**ìƒí™©**:
```
ì£¼ë‹ˆì–´: "UserService ì½”ë“œë¥¼ ìˆ˜ì •í–ˆëŠ”ë° ë³€ê²½ì´ ë°˜ì˜ì´ ì•ˆ ë¼ìš”."
ì‹œë‹ˆì–´: "í•« ë¦¬ë¡œë“œê°€ ì¼œì ¸ ìˆë‚˜ìš”? ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ì€ í•´ë´¤ì–´ìš”?"
ì£¼ë‹ˆì–´: "í•« ë¦¬ë¡œë“œìš”? ê·¸ê²Œ ë­”ê°€ìš”?"
```

**ë‹¨ê³„ë³„ í•´ê²°**:
```bash
# Step 1: í˜„ì¬ ì„¤ì • í™•ì¸
$ docker-compose exec user-service env | grep DEVTOOLS
# SPRING_DEVTOOLS_RESTART_ENABLED=false  â† ë¬¸ì œ!

# Step 2: docker-compose.dev.yml ìˆ˜ì •
$ vi docker-compose.dev.yml

services:
  user-service:
    environment:
      - SPRING_DEVTOOLS_RESTART_ENABLED=true  # í™œì„±í™”

# Step 3: ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
$ docker-compose up -d user-service

# Step 4: í…ŒìŠ¤íŠ¸
$ echo "println('test')" >> src/main/kotlin/UserService.kt
# 3ì´ˆ í›„ ìë™ ì¬ì‹œì‘!

# Step 5: ì¬ë¹Œë“œê°€ í•„ìš”í•œ ê²½ìš° (ì˜ì¡´ì„± ë³€ê²½)
$ make rebuild
# ì„œë¹„ìŠ¤ ì´ë¦„: user-service

âœ… í•´ê²°!
```

**ë°°ìš´ ì **:
- Spring DevToolsë¡œ í•« ë¦¬ë¡œë“œ ê°€ëŠ¥
- ì½”ë“œ ë³€ê²½ê³¼ ì˜ì¡´ì„± ë³€ê²½ì€ ë‹¤ë¥´ê²Œ ì²˜ë¦¬
- ê°œë°œ í™˜ê²½ê³¼ í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •ì„ ë¶„ë¦¬

---

### ì‹œë‚˜ë¦¬ì˜¤ 4: í‡´ê·¼ ì‹œê°„, ì‘ì—… ì¤‘ì¸ ë°ì´í„° ë³´ì¡´

**ìƒí™©**:
```
ì£¼ë‹ˆì–´: "í‡´ê·¼ ì‹œê°„ì¸ë° í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ë‚´ì¼ë„ ì¨ì•¼ í•˜ëŠ”ë°..."
ì£¼ë‹ˆì–´: "ì»¨í…Œì´ë„ˆ ë‚´ë¦¬ë©´ ë°ì´í„° ë‹¤ ì‚¬ë¼ì§€ëŠ” ê±° ì•„ë‹Œê°€ìš”?"
ì‹œë‹ˆì–´: "ë³¼ë¥¨ ë§ˆìš´íŠ¸ ë˜ì–´ ìˆìœ¼ë©´ ê´œì°®ì•„ìš”. ë°±ì—…ë„ í•´ë‘ì„¸ìš”."
```

**ë‹¨ê³„ë³„ í•´ê²°**:
```bash
# Step 1: ë³¼ë¥¨ ìƒíƒœ í™•ì¸
$ docker volume ls | grep postgres
# lk-trade_postgres-data

# Step 2: ë°±ì—… (ì•ˆì „í•˜ê²Œ)
$ docker-compose exec -T postgres pg_dump -U lkuser lktrade_dev > backup_$(date +%Y%m%d).sql
# backup_20250930.sql ìƒì„±ë¨

# Step 3: ì»¨í…Œì´ë„ˆ ì¤‘ì§€ ì˜µì…˜ ì„ íƒ
$ ./scripts/evening-cleanup.sh

# 1) ëª¨ë‘ ì¤‘ì§€    â†’ ë©”ëª¨ë¦¬ ì™„ì „ í•´ì œ, ë‚´ì¼ ì‹œì‘ ì¡°ê¸ˆ ëŠë¦¼
# 2) ì¼ì‹œ ì •ì§€    â†’ ë©”ëª¨ë¦¬ ìœ ì§€, ë‚´ì¼ ë¹ ë¥¸ ì‹œì‘
# 3) ì‹¤í–‰ ìœ ì§€    â†’ ë©”ëª¨ë¦¬ ì‚¬ìš©, ë‚´ì¼ ì¦‰ì‹œ ì‹œì‘

# ì„ íƒ: 2 (ì¼ì‹œ ì •ì§€)

# Step 4: ë‹¤ìŒ ë‚  ì•„ì¹¨
$ docker-compose unpause
# 2ì´ˆ ë§Œì— ì¤€ë¹„ ì™„ë£Œ!

âœ… í•´ê²°!
```

**ë°°ìš´ ì **:
- Docker ë³¼ë¥¨ìœ¼ë¡œ ë°ì´í„° ì˜êµ¬ ë³´ì¡´
- ì •ê¸° ë°±ì—…ì˜ ì¤‘ìš”ì„±
- ìƒí™©ì— ë§ëŠ” ì¤‘ì§€ ë°©ë²• ì„ íƒ

---

## â“ FAQ

<details>
<summary><strong>Q1: make morningì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤. ì–´ë–»ê²Œ ë””ë²„ê·¸í•˜ë‚˜ìš”?</strong></summary>

**A**: ë‹¨ê³„ë³„ë¡œ ë‚˜ëˆ„ì–´ í™•ì¸í•˜ì„¸ìš”.

**ìƒì„¸ ì„¤ëª…**:
```bash
# 1. Docker ë°ëª¬ ìƒíƒœ í™•ì¸
docker info

# 2. ì´ì „ ì»¨í…Œì´ë„ˆ ì™„ì „ ì •ë¦¬
docker-compose down -v

# 3. ë¡œê·¸ ìƒì„¸ ëª¨ë“œë¡œ ì‹œì‘
docker-compose -f docker-compose.dev.yml up

# 4. íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ì‹œì‘í•˜ì—¬ ê²©ë¦¬ í…ŒìŠ¤íŠ¸
docker-compose up -d postgres
docker-compose logs -f postgres

# 5. í¬íŠ¸ ì¶©ëŒ í™•ì¸
sudo lsof -i :5432  # PostgreSQL í¬íŠ¸
sudo lsof -i :8081  # User Service í¬íŠ¸
```

**Best Practice**:
> í•­ìƒ ë¡œê·¸ë¥¼ ë¨¼ì € í™•ì¸í•˜ì„¸ìš”. `docker-compose logs` ëª…ë ¹ì–´ëŠ” ëŒ€ë¶€ë¶„ì˜ ë¬¸ì œ ì›ì¸ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.

</details>

<details>
<summary><strong>Q2: í•« ë¦¬ë¡œë“œê°€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</strong></summary>

**A**: í”Œë«í¼ë³„ í•´ê²°ì±…ì´ ë‹¤ë¦…ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:

**Mac/Windows (Docker Desktop)**:
```yaml
# docker-compose.dev.yml
volumes:
  - ./src:/app/src:cached  # :cached ì˜µì…˜ ì¶”ê°€
```

**Node.js**:
```json
// nodemon.json
{
  "legacyWatch": true,
  "polling": true,
  "pollingInterval": 1000
}
```

**Spring Boot**:
```yaml
environment:
  - SPRING_DEVTOOLS_RESTART_ENABLED=true
  - SPRING_DEVTOOLS_RESTART_POLL_INTERVAL=2s
  - SPRING_DEVTOOLS_RESTART_QUIET_PERIOD=1s
```

| í”Œë«í¼ | í•´ê²°ì±… | ì„±ëŠ¥ |
|--------|--------|------|
| Mac | :cached ì˜µì…˜ | ì¤‘ê°„ |
| Windows | :delegated ì˜µì…˜ | ëŠë¦¼ |
| Linux | ì˜µì…˜ ë¶ˆí•„ìš” | ë¹ ë¦„ |

**Best Practice**:
> ê°œë°œ í™˜ê²½ì€ Linuxë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. WSL2 ì‚¬ìš© ì‹œ ë„¤ì´í‹°ë¸Œ Linux ì„±ëŠ¥ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

</details>

<details>
<summary><strong>Q3: ë§¤ì¼ ì•„ì¹¨ ì´ë¯¸ì§€ Pullì´ í•„ìš”í•œê°€ìš”?</strong></summary>

**A**: í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì„ íƒì ìœ¼ë¡œ í•˜ì„¸ìš”.

**ìƒì„¸ ì„¤ëª…**:
```bash
# ë§¤ì¼ Pull (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
docker-compose pull  # ë¶ˆí•„ìš”í•œ ì‹œê°„ ë‚­ë¹„

# ì£¼ê°„ Pull (ê¶Œì¥)
# Makefile
.PHONY: weekly-update
weekly-update:
    git pull origin develop
    docker-compose pull
    docker-compose build --pull
    docker-compose up -d

# ì‚¬ìš©
make weekly-update  # ì›”ìš”ì¼ ì•„ì¹¨ì—ë§Œ ì‹¤í–‰
```

**ê°€ì´ë“œë¼ì¸**:
- **ë§¤ì¼**: `make morning` (Pull ì—†ì´ ì‹œì‘)
- **ì£¼ê°„**: `make weekly-update` (ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸)
- **ê¸´ê¸‰**: `docker-compose pull <service>` (íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ)

**Best Practice**:
> CI/CDì—ì„œ ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ ë¹Œë“œí•˜ê³  íƒœê·¸ë¥¼ ê´€ë¦¬í•˜ì„¸ìš”. ë¡œì»¬ì—ì„œëŠ” ì•ˆì •ëœ ë²„ì „ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

</details>

<details>
<summary><strong>Q4: ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ë™ì‹œì— ê°œë°œí•  ë•Œ í¬íŠ¸ ì¶©ëŒì„ ì–´ë–»ê²Œ í•´ê²°í•˜ë‚˜ìš”?</strong></summary>

**A**: í”„ë¡œì íŠ¸ë³„ í¬íŠ¸ ë²”ìœ„ë¥¼ ì •ì˜í•˜ì„¸ìš”.

**ìƒì„¸ ì„¤ëª…**:
```bash
# í”„ë¡œì íŠ¸ë³„ í¬íŠ¸ ë²”ìœ„
# LK-Trade: 8080-8099
# Project-A: 8100-8119
# Project-B: 8120-8139

# .env.dev (LK-Trade)
USER_SERVICE_PORT=8081
ACCOUNT_SERVICE_PORT=8082
POSTGRES_PORT=5432

# .env.dev (Project-A)
USER_SERVICE_PORT=8101
ACCOUNT_SERVICE_PORT=8102
POSTGRES_PORT=5433  # ë‹¤ë¥¸ í¬íŠ¸

# docker-compose.dev.yml
services:
  user-service:
    ports:
      - "${USER_SERVICE_PORT}:8080"

  postgres:
    ports:
      - "${POSTGRES_PORT}:5432"
```

**Makefileë¡œ í”„ë¡œì íŠ¸ ì „í™˜**:
```makefile
.PHONY: switch-project
switch-project:
    @echo "í˜„ì¬ í”„ë¡œì íŠ¸ë¥¼ ì¤‘ì§€í•©ë‹ˆë‹¤..."
    @docker-compose down
    @echo "í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•˜ì„¸ìš”:"
    @echo "  1) LK-Trade"
    @echo "  2) Project-A"
    @read -p "ì„ íƒ (1-2): " choice; \
    case $$choice in \
        1) cd ~/projects/lk-trade && make morning ;; \
        2) cd ~/projects/project-a && make morning ;; \
    esac
```

**Best Practice**:
> ê° í”„ë¡œì íŠ¸ì˜ í¬íŠ¸ë¥¼ ë¬¸ì„œí™”í•˜ê³ , íŒ€ ì „ì²´ê°€ ë™ì¼í•œ í¬íŠ¸ ê·œì¹™ì„ ë”°ë¥´ì„¸ìš”.

</details>

<details>
<summary><strong>Q5: ë°±ì—…ì€ ì–¼ë§ˆë‚˜ ìì£¼ í•´ì•¼ í•˜ë‚˜ìš”?</strong></summary>

**A**: ë°ì´í„°ì˜ ì¤‘ìš”ë„ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:

| ë°ì´í„° ìœ í˜• | ë°±ì—… ì£¼ê¸° | ë³´ê´€ ê¸°ê°„ | ë°©ë²• |
|------------|----------|----------|------|
| ê°œë°œ DB | ë§¤ì¼ | 7ì¼ | ìë™ |
| í…ŒìŠ¤íŠ¸ ë°ì´í„° | ì£¼ê°„ | 4ì£¼ | ìë™ |
| ì„¤ì • íŒŒì¼ | Git ì»¤ë°‹ ì‹œ | ì˜êµ¬ | Git |
| ë¡œê·¸ | ì„ íƒì  | 3ì¼ | ìˆ˜ë™ |

**ìë™ ë°±ì—… ì„¤ì •**:
```bash
# crontab -e
# ë§¤ì¼ ì˜¤ì „ 9ì‹œì— ë°±ì—…
0 9 * * * cd /path/to/lk-trade && ./scripts/auto-backup.sh

# ë§¤ì£¼ ì¼ìš”ì¼ ìì •ì— ì „ì²´ ë°±ì—…
0 0 * * 0 cd /path/to/lk-trade && ./scripts/full-backup.sh
```

**ë³µêµ¬ í…ŒìŠ¤íŠ¸**:
```bash
# ì •ê¸°ì ìœ¼ë¡œ ë³µêµ¬ í…ŒìŠ¤íŠ¸ (ì›” 1íšŒ)
$ ./scripts/restore-test.sh backup_20250930.sql
âœ… ë³µêµ¬ ì„±ê³µ! ë°±ì—… íŒŒì¼ì´ ìœ íš¨í•©ë‹ˆë‹¤.
```

**Best Practice**:
> ë°±ì—…ë§Œ í•˜ì§€ ë§ê³ , ë³µêµ¬ í…ŒìŠ¤íŠ¸ë„ ì •ê¸°ì ìœ¼ë¡œ í•˜ì„¸ìš”. ë³µêµ¬í•  ìˆ˜ ì—†ëŠ” ë°±ì—…ì€ ì˜ë¯¸ê°€ ì—†ìŠµë‹ˆë‹¤.

</details>

---

## ğŸ“ ë©´ì ‘ ì§ˆë¬¸

### ì£¼ë‹ˆì–´ ë ˆë²¨

**Q1: Dockerë¥¼ ì‚¬ìš©í•œ ê°œë°œ í™˜ê²½ì—ì„œ ì¼ì¼ ë£¨í‹´ì´ ì™œ ì¤‘ìš”í•œê°€ìš”?**

**A**: íš¨ìœ¨ì„±, ì¼ê´€ì„±, ì•ˆì •ì„±ì„ ìœ„í•´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.

**ìƒì„¸ ë‹µë³€**:
ì¼ì¼ ë£¨í‹´ì´ ì¤‘ìš”í•œ ì„¸ ê°€ì§€ ì´ìœ :

1. **ì‹œê°„ ì ˆì•½**: ìë™í™”ëœ ì‹œì‘/ì¢…ë£Œë¡œ í•˜ë£¨ 30ë¶„ ì´ìƒ ì ˆì•½
2. **ì¼ê´€ì„±**: íŒ€ ì „ì²´ê°€ ë™ì¼í•œ í™˜ê²½ì—ì„œ ì‘ì—…
3. **ë¬¸ì œ ì˜ˆë°©**: ì •ê¸°ì ì¸ ì •ë¦¬ë¡œ ë””ìŠ¤í¬ ë¶€ì¡±, ì¶©ëŒ ë°©ì§€

```bash
# ë£¨í‹´ ì—†ì´
$ docker-compose up -d
$ docker-compose logs -f
$ # ë¬¸ì œ ë°œìƒ â†’ ë””ë²„ê¹… â†’ 30ë¶„ ì†Œìš”

# ë£¨í‹´ ì ìš©
$ make morning
$ # 2ë¶„ ë§Œì— ì™„ë²½í•œ í™˜ê²½ ì¤€ë¹„ ì™„ë£Œ
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- ìë™í™”ëŠ” ë°˜ë³µ ì‘ì—…ì„ ì œê±°í•œë‹¤
- ì •ë¦¬ëŠ” ë¬¸ì œë¥¼ ì˜ˆë°©í•œë‹¤
- ë¬¸ì„œí™”ëŠ” íŒ€ í˜‘ì—…ì„ ë•ëŠ”ë‹¤

---

**Q2: í•« ë¦¬ë¡œë“œ(Hot Reload)ê°€ ë¬´ì—‡ì´ê³ , Docker í™˜ê²½ì—ì„œ ì–´ë–»ê²Œ ì„¤ì •í•˜ë‚˜ìš”?**

**A**: ì½”ë“œ ë³€ê²½ ì‹œ ìë™ ì¬ì‹œì‘í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

**ìƒì„¸ ë‹µë³€**:
```yaml
# docker-compose.dev.yml
services:
  backend:
    volumes:
      - ./src:/app/src:cached  # ì†ŒìŠ¤ ì½”ë“œ ë§ˆìš´íŠ¸
    environment:
      - NODE_ENV=development
    command: nodemon --watch src src/index.js
```

**ì‘ë™ ì›ë¦¬**:
1. í˜¸ìŠ¤íŠ¸ì˜ `./src` ë””ë ‰í† ë¦¬ë¥¼ ì»¨í…Œì´ë„ˆì˜ `/app/src`ì— ë§ˆìš´íŠ¸
2. íŒŒì¼ ë³€ê²½ ê°ì§€ â†’ nodemon/DevToolsê°€ ê°ì§€
3. ìë™ ì¬ì‹œì‘ â†’ ë³€ê²½ì‚¬í•­ ì¦‰ì‹œ ë°˜ì˜

**í”Œë«í¼ë³„ ì°¨ì´**:
- **Linux**: íŒŒì¼ ê°ì‹œ ì´ë²¤íŠ¸ ìë™ ì „ë‹¬
- **Mac/Windows**: polling ëª¨ë“œ í•„ìš” (ëŠë¦¼)

**í•µì‹¬ í¬ì¸íŠ¸**:
- ê°œë°œ ìƒì‚°ì„± í–¥ìƒì˜ í•µì‹¬
- ì˜ì¡´ì„± ë³€ê²½ ì‹œì—ëŠ” ì¬ë¹Œë“œ í•„ìš”
- í”Œë«í¼ë³„ ì„¤ì • ì°¨ì´ ì´í•´

---

### ì¤‘ê¸‰ ë ˆë²¨

**Q3: Docker í™˜ê²½ì—ì„œ ë””ìŠ¤í¬ ê³µê°„ ê´€ë¦¬ ì „ëµì„ ì„¤ëª…í•˜ì„¸ìš”.**

**A**: ì •ê¸°ì ì¸ ì •ë¦¬ì™€ ëª¨ë‹ˆí„°ë§ì´ í•µì‹¬ì…ë‹ˆë‹¤.

**ìƒì„¸ ë‹µë³€**:

**1. ëª¨ë‹ˆí„°ë§**:
```bash
# í˜„ì¬ ì‚¬ìš©ëŸ‰ í™•ì¸
$ docker system df

TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE
Images          45        12        28.5GB    15.2GB (53%)
Containers      15        8         2.1GB     1.8GB (85%)
Local Volumes   10        3         18.3GB    10.1GB (55%)
Build Cache     120       0         35.7GB    35.7GB (100%)
```

**2. ì •ë¦¬ ì „ëµ**:
```bash
# ì¼ì¼ ì •ë¦¬ (ì•ˆì „)
docker container prune -f  # ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆ
docker image prune -f      # dangling ì´ë¯¸ì§€

# ì£¼ê°„ ì •ë¦¬ (ê³µê²©ì )
docker system prune -af --volumes  # ëª¨ë‘ ì‚­ì œ

# ì„ íƒì  ì •ë¦¬
docker image prune -a --filter "until=24h"  # 24ì‹œê°„ ì „ ì´ë¯¸ì§€
docker volume prune --filter "label!=keep"  # ë¼ë²¨ ì—†ëŠ” ë³¼ë¥¨
```

**3. ìë™í™”**:
```bash
# crontab
0 12 * * * docker container prune -f  # ë§¤ì¼ ì ì‹¬
0 0 * * 5 docker system prune -af     # ë§¤ì£¼ ê¸ˆìš”ì¼
```

| íƒ€ì… | ì •ë¦¬ ì£¼ê¸° | ë°©ë²• | ì˜í–¥ |
|------|----------|------|------|
| ì»¨í…Œì´ë„ˆ | ë§¤ì¼ | prune | ë‚®ìŒ |
| ì´ë¯¸ì§€ | ì£¼ê°„ | prune -a | ì¤‘ê°„ |
| ë³¼ë¥¨ | ìˆ˜ë™ | prune | ë†’ìŒ |
| ìºì‹œ | ì£¼ê°„ | builder prune | ë‚®ìŒ |

**í•µì‹¬ í¬ì¸íŠ¸**:
- ë¹Œë“œ ìºì‹œê°€ ê°€ì¥ ë§ì€ ê³µê°„ ì°¨ì§€
- ë³¼ë¥¨ ì •ë¦¬ëŠ” ì‹ ì¤‘í•˜ê²Œ (ë°ì´í„° ì†ì‹¤ ìœ„í—˜)
- ìë™í™”ë¡œ ê´€ë¦¬ ë¶€ë‹´ ì œê±°

---

**Q4: íŒ€ í™˜ê²½ì—ì„œ ê°œë°œ í™˜ê²½ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ” ë°©ë²•ì€?**

**A**: Makefileê³¼ í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ë¡œ ì¼ê´€ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

**ìƒì„¸ ë‹µë³€**:

**1. Makefile í‘œì¤€í™”**:
```makefile
# ëª¨ë“  íŒ€ì›ì´ ë™ì¼í•œ ëª…ë ¹ì–´ ì‚¬ìš©
.PHONY: morning start stop restart logs clean

morning:
    @git pull origin develop
    @docker-compose down
    @docker-compose up -d
    @make health-check
```

**2. í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿**:
```bash
# .env.example (Gitì— í¬í•¨)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=lktrade_dev
DB_USER=lkuser
DB_PASSWORD=  # ê°ì ì„¤ì •

# .env.dev (Git ì œì™¸, ê°œì¸ ì„¤ì •)
DB_PASSWORD=my_secret_password
```

**3. README ë¬¸ì„œí™”**:
```markdown
## Quick Start

1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
   cp .env.example .env.dev
   vi .env.dev  # DB_PASSWORD ì…ë ¥

2. ì‹œì‘
   make morning

3. í™•ì¸
   http://localhost:8081/health
```

**4. Git Hooks**:
```bash
# .git/hooks/post-merge
# Pull í›„ ìë™ ì—…ë°ì´íŠ¸
docker-compose pull
docker-compose up -d
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- Makefileì€ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤
- .env.exampleë¡œ í•„ìš”í•œ ë³€ìˆ˜ ëª…ì‹œ
- ë¬¸ì„œí™”ëŠ” ì‹ ì… ì˜¨ë³´ë”© ì‹œê°„ ë‹¨ì¶•

---

**Q5: í”„ë¡œë•ì…˜ ë°°í¬ ì „ ê°œë°œ í™˜ê²½ì—ì„œ í™•ì¸í•´ì•¼ í•  ì²´í¬ë¦¬ìŠ¤íŠ¸ëŠ”?**

**A**: ë‹¤ì¸µ ê²€ì¦ìœ¼ë¡œ í”„ë¡œë•ì…˜ ì‚¬ê³ ë¥¼ ì˜ˆë°©í•©ë‹ˆë‹¤.

**ìƒì„¸ ë‹µë³€**:

**1. ê¸°ëŠ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```bash
â–¡ ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
  - Unit Tests
  - Integration Tests
  - E2E Tests

â–¡ ë¡œì»¬ í™˜ê²½ì—ì„œ ë™ì‘ í™•ì¸
  - make morning
  - ìˆ˜ë™ í…ŒìŠ¤íŠ¸

â–¡ ì„¤ì • ê²€ì¦
  - .env.prod ë³€ìˆ˜ í™•ì¸
  - Secret ê°’ ê²€ì¦
```

**2. ì„±ëŠ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```bash
â–¡ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ í™•ì¸
  $ docker stats
  - CPU < 80%
  - Memory < 80%

â–¡ ë¡œê·¸ ë ˆë²¨ í™•ì¸
  - ê°œë°œ: DEBUG
  - í”„ë¡œë•ì…˜: INFO

â–¡ í—¬ìŠ¤ì²´í¬ ì‘ë‹µ ì‹œê°„
  - < 1ì´ˆ
```

**3. ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```bash
â–¡ ì´ë¯¸ì§€ ìŠ¤ìº”
  $ trivy image lk-trade/user-service:latest
  - HIGH/CRITICAL ì—†ìŒ

â–¡ Secret ê´€ë¦¬
  - í•˜ë“œì½”ë”©ëœ ë¹„ë°€ë²ˆí˜¸ ì—†ìŒ
  - í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬

â–¡ í¬íŠ¸ ë…¸ì¶œ ìµœì†Œí™”
  - í•„ìš”í•œ í¬íŠ¸ë§Œ expose
```

**4. ë¬¸ì„œí™” ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```bash
â–¡ CHANGELOG ì—…ë°ì´íŠ¸
â–¡ API ë¬¸ì„œ ìµœì‹ í™”
â–¡ ë°°í¬ ê°€ì´ë“œ ê²€í† 
â–¡ ë¡¤ë°± ê³„íš ìˆ˜ë¦½
```

**ìë™í™”**:
```bash
# scripts/pre-deploy-check.sh
#!/bin/bash

echo "ğŸ” ë°°í¬ ì „ ê²€ì¦ ì‹œì‘..."

# 1. í…ŒìŠ¤íŠ¸
./gradlew test || exit 1

# 2. ë³´ì•ˆ ìŠ¤ìº”
trivy image lk-trade/user-service:latest || exit 1

# 3. ë¦¬ì†ŒìŠ¤ ì²´í¬
MEMORY=$(docker stats --no-stream --format "{{.MemPerc}}" user-service | cut -d'%' -f1)
if (( $(echo "$MEMORY > 80" | bc -l) )); then
    echo "âŒ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë„ˆë¬´ ë†’ìŠµë‹ˆë‹¤: $MEMORY%"
    exit 1
fi

echo "âœ… ëª¨ë“  ê²€ì¦ í†µê³¼! ë°°í¬ ê°€ëŠ¥í•©ë‹ˆë‹¤."
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- ìë™í™”ëœ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ì‹¤ìˆ˜ ë°©ì§€
- ë‹¨ê³„ë³„ ê²€ì¦ìœ¼ë¡œ ë¬¸ì œ ì¡°ê¸° ë°œê²¬
- ë¬¸ì„œí™”ë¡œ íŒ€ ì „ì²´ê°€ ë™ì¼í•œ ê¸°ì¤€ ì ìš©

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…: ì¼ìƒì ì¸ ë¬¸ì œë“¤

### ë¬¸ì œ 1: ì•„ì¹¨ì— ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ ì•ˆë¨

```bash
# ì›ì¸: ì´ì „ ì»¨í…Œì´ë„ˆê°€ ë¹„ì •ìƒ ì¢…ë£Œ

# í•´ê²°
docker-compose down -v  # ë³¼ë¥¨ í¬í•¨ ì™„ì „ ì‚­ì œ
docker-compose up -d

# ë˜ëŠ”
docker system prune -f
docker-compose up -d
```

### ë¬¸ì œ 2: í•« ë¦¬ë¡œë“œê°€ ì‘ë™ ì•ˆí•¨

```bash
# ì›ì¸: íŒŒì¼ ê°ì‹œ ì„¤ì • ë¬¸ì œ

# í•´ê²° (Mac/Windows)
# docker-compose.yml
volumes:
  - ./src:/app/src:cached  # cached ì˜µì…˜ ì¶”ê°€

# nodemon.json
{
  "legacyWatch": true,
  "polling": true
}
```

### ë¬¸ì œ 3: ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±

```bash
# ì§„ë‹¨
docker system df

# í•´ê²°
docker system prune -af --volumes  # ì „ì²´ ì •ë¦¬ (ì£¼ì˜!)

# ë˜ëŠ” ì„ íƒì  ì •ë¦¬
docker image prune -a     # ë¯¸ì‚¬ìš© ì´ë¯¸ì§€
docker volume prune       # ë¯¸ì‚¬ìš© ë³¼ë¥¨
docker builder prune -a   # ë¹Œë“œ ìºì‹œ
```

---

## ë‹¤ìŒ ë‹¨ê³„

### 23. íŒ€ í˜‘ì—…
- ê³µí†µ ê°œë°œ í™˜ê²½ êµ¬ì„±
- Gitì„ í†µí•œ ì„¤ì • ê³µìœ 
- í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ ì „ëµ

### í•™ìŠµ ìë£Œ

**ìƒì‚°ì„± ë„êµ¬**:
- [tmux ê°€ì´ë“œ](https://github.com/tmux/tmux/wiki)
- [lazydocker](https://github.com/jesseduffield/lazydocker)
- [ctop](https://github.com/bcicen/ctop)

**ìë™í™”**:
- [GitHub Actions](https://docs.github.com/en/actions)
- [Git Hooks](https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks)

---

**ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰** íš¨ìœ¨ì ì¸ ì¼ì¼ ê°œë°œ ë£¨í‹´ì„ ë§ˆìŠ¤í„°í–ˆìŠµë‹ˆë‹¤!