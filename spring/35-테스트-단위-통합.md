# 35ì¥: í…ŒìŠ¤íŠ¸ (ë‹¨ìœ„/í†µí•©) - ì•ˆì „í•œ ì½”ë“œì˜ ì‹œì‘

> **"í…ŒìŠ¤íŠ¸ëŠ” ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜ì…ë‹ˆë‹¤"**

---

## ğŸ“‹ í•™ìŠµ ëª©í‘œ

ì´ ì¥ì„ í•™ìŠµí•˜ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ì°¨ì´ë¥¼ ì´í•´í•©ë‹ˆë‹¤
- JUnit 5ì™€ AssertJë¥¼ í™œìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤
- Mockitoë¡œ ì˜ì¡´ì„±ì„ ëª¨í‚¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- @SpringBootTestë¡œ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ ë†’ì´ê³  TDDë¥¼ ì‹¤ì²œí•©ë‹ˆë‹¤

**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 4-5ì‹œê°„
**ë‚œì´ë„**: â­â­â­â­ (ì¤‘ê³ ê¸‰)

---

## ğŸ¤” ì™œ í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•œê°€?

### ë¬¸ì œ ìƒí™©: í…ŒìŠ¤íŠ¸ ì—†ëŠ” ê°œë°œì˜ ê³µí¬

#### ë¬¸ì œ 1: ìˆ˜ì •ì˜ ë‘ë ¤ì›€

```java
// ê¸°ì¡´ ì½”ë“œ ìˆ˜ì •
public double calculateDiscount(Order order) {
    // ë¡œì§ ë³€ê²½
    return order.getAmount() * 0.1;  // 10% â†’ 15%ë¡œ ë³€ê²½í•˜ê³  ì‹¶ì€ë°...
}

// ê°œë°œìì˜ ê³ ë¯¼
"ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë©´ ë‹¤ë¥¸ ê³³ì´ ë§ê°€ì§€ì§€ ì•Šì„ê¹Œ?"
"ì–´ë””ì„œ ì´ ë©”ì„œë“œë¥¼ ì“°ëŠ”ì§€ ëª¨ë¥´ê² ì–´..."
â†’ ìˆ˜ì • í¬ê¸° ë˜ëŠ” ë²„ê·¸ ë°œìƒ
```

#### ë¬¸ì œ 2: íšŒê·€ ë²„ê·¸

```java
// ë²„ê·¸ ìˆ˜ì •
public List<User> findActiveUsers() {
    return userRepository.findByStatus("ACTIVE");
}

// 2ì£¼ í›„ ë‹¤ë¥¸ ê°œë°œìê°€ ìˆ˜ì •
public List<User> findActiveUsers() {
    return userRepository.findAll();  // ë²„ê·¸ ì¬ë°œ!
}
```

#### ë¬¸ì œ 3: í†µí•© ì‹œì ì˜ ì¶©ê²©

```
ê°œë°œì A: "ë‚´ ì½”ë“œëŠ” ì˜ ëŒì•„ê°€ìš”"
ê°œë°œì B: "ì œ ì½”ë“œë„ ë¬¸ì œì—†ì–´ìš”"

í†µí•© í›„...
â†’ ì „ì²´ ì‹œìŠ¤í…œ ë‹¤ìš´
â†’ ì›ì¸ íŒŒì•…ì— 2ì¼ ì†Œìš”
```

### í…ŒìŠ¤íŠ¸ì˜ í•´ê²°ì±…

```java
@Test
void calculateDiscount_should_return_10_percent() {
    // Given
    Order order = new Order(10000);

    // When
    double discount = calculator.calculateDiscount(order);

    // Then
    assertThat(discount).isEqualTo(1000);
}

// ë¡œì§ ìˆ˜ì • í›„
public double calculateDiscount(Order order) {
    return order.getAmount() * 0.15;  // ë³€ê²½
}

// í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨!
// Expected: 1000.0
// Actual: 1500.0
// â†’ ì¦‰ì‹œ ë°œê²¬, ì¦‰ì‹œ ìˆ˜ì •
```

---

## ğŸŒ ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ëŠ” í…ŒìŠ¤íŠ¸

### ë¹„ìœ  1: ìë™ì°¨ ì•ˆì „ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ ì—†ìŒ:**
```
ìë™ì°¨ ì¶œì‹œ
â†’ ë„ë¡œì—ì„œ ë°”ë¡œ ìš´í–‰
â†’ ì‚¬ê³  ë°œìƒ
â†’ ë¦¬ì½œ
```

**í…ŒìŠ¤íŠ¸ ìˆìŒ:**
```
[ì¶©ëŒ í…ŒìŠ¤íŠ¸]
- ì •ë©´ ì¶©ëŒ: PASS
- ì¸¡ë©´ ì¶©ëŒ: PASS
- ì „ë³µ í…ŒìŠ¤íŠ¸: FAIL â†’ ì„¤ê³„ ìˆ˜ì •
â†’ ì•ˆì „í•œ ì°¨ëŸ‰ ì¶œì‹œ
```

### ë¹„ìœ  2: ê±´ë¬¼ ê²€ì‚¬

**í…ŒìŠ¤íŠ¸ ì—†ìŒ:**
```
ê±´ë¬¼ ì™„ê³µ
â†’ ë°”ë¡œ ì…ì£¼
â†’ ë¶•ê´´ ìœ„í—˜
```

**í…ŒìŠ¤íŠ¸ ìˆìŒ:**
```
[ì•ˆì „ ê²€ì‚¬]
- êµ¬ì¡° ì•ˆì „ì„±: PASS
- ì „ê¸° ì•ˆì „: PASS
- ì†Œë°© ì‹œì„¤: FAIL â†’ ë³´ì™„ í›„ í†µê³¼
â†’ ì•ˆì „í•œ ê±´ë¬¼ ì‚¬ìš©
```

### ë¹„ìœ  3: ì‹ ì•½ ê°œë°œ

**í…ŒìŠ¤íŠ¸ ì—†ìŒ:**
```
ì•½ ê°œë°œ ì™„ë£Œ
â†’ ë°”ë¡œ íŒë§¤
â†’ ë¶€ì‘ìš© ë°œìƒ
```

**í…ŒìŠ¤íŠ¸ ìˆìŒ:**
```
[ì„ìƒ ì‹œí—˜]
1ì°¨: ì‹¤í—˜ì‹¤ í…ŒìŠ¤íŠ¸ (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
2ì°¨: ë™ë¬¼ ì‹¤í—˜ (í†µí•© í…ŒìŠ¤íŠ¸)
3ì°¨: ì¸ì²´ ì„ìƒ (E2E í…ŒìŠ¤íŠ¸)
â†’ ì•ˆì „í•œ ì•½ ì¶œì‹œ
```

---

## ğŸ’¡ í…ŒìŠ¤íŠ¸ í•µì‹¬ ê°œë…

### 1ï¸âƒ£ ì´ˆê¸‰: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Test)

#### JUnit 5 ê¸°ë³¸

```java
class CalculatorTest {

    @Test
    @DisplayName("ë‘ ìˆ«ìë¥¼ ë”í•˜ë©´ í•©ê³„ê°€ ë°˜í™˜ëœë‹¤")
    void add() {
        // Given
        Calculator calculator = new Calculator();

        // When
        int result = calculator.add(2, 3);

        // Then
        assertThat(result).isEqualTo(5);
    }

    @Test
    void divide_by_zero_should_throw_exception() {
        Calculator calculator = new Calculator();

        assertThatThrownBy(() -> calculator.divide(10, 0))
            .isInstanceOf(ArithmeticException.class)
            .hasMessage("/ by zero");
    }
}
```

#### AssertJ í™œìš©

```java
@Test
void user_test() {
    User user = new User("í™ê¸¸ë™", 30);

    // ê¸°ë³¸ ê²€ì¦
    assertThat(user.getName()).isEqualTo("í™ê¸¸ë™");
    assertThat(user.getAge()).isGreaterThan(18);

    // ì»¬ë ‰ì…˜ ê²€ì¦
    List<String> hobbies = user.getHobbies();
    assertThat(hobbies)
        .hasSize(3)
        .contains("ë…ì„œ", "ìš´ë™")
        .doesNotContain("ê²Œì„");

    // ì˜ˆì™¸ ê²€ì¦
    assertThatThrownBy(() -> user.setAge(-1))
        .isInstanceOf(IllegalArgumentException.class)
        .hasMessageContaining("ë‚˜ì´ëŠ” 0 ì´ìƒ");
}
```

### 2ï¸âƒ£ ì¤‘ê¸‰: Mockito - ì˜ì¡´ì„± ëª¨í‚¹

#### ê¸°ë³¸ Mock

```java
@ExtendWith(MockitoExtension.class)
class UserServiceTest {

    @Mock
    private UserRepository userRepository;

    @InjectMocks
    private UserService userService;

    @Test
    void find_user_by_id() {
        // Given
        User mockUser = new User(1L, "í™ê¸¸ë™");
        when(userRepository.findById(1L))
            .thenReturn(Optional.of(mockUser));

        // When
        User user = userService.findById(1L);

        // Then
        assertThat(user.getName()).isEqualTo("í™ê¸¸ë™");
        verify(userRepository, times(1)).findById(1L);
    }

    @Test
    void user_not_found_should_throw_exception() {
        // Given
        when(userRepository.findById(999L))
            .thenReturn(Optional.empty());

        // When & Then
        assertThatThrownBy(() -> userService.findById(999L))
            .isInstanceOf(UserNotFoundException.class);
    }
}
```

#### ArgumentCaptor

```java
@Test
void save_user_should_set_created_date() {
    // Given
    UserRequest request = new UserRequest("í™ê¸¸ë™", "hong@example.com");
    ArgumentCaptor<User> userCaptor = ArgumentCaptor.forClass(User.class);

    // When
    userService.createUser(request);

    // Then
    verify(userRepository).save(userCaptor.capture());
    User savedUser = userCaptor.getValue();
    assertThat(savedUser.getCreatedAt()).isNotNull();
    assertThat(savedUser.getName()).isEqualTo("í™ê¸¸ë™");
}
```

### 3ï¸âƒ£ ê³ ê¸‰: í†µí•© í…ŒìŠ¤íŠ¸

#### @SpringBootTest

```java
@SpringBootTest
@Transactional
class UserIntegrationTest {

    @Autowired
    private UserService userService;

    @Autowired
    private UserRepository userRepository;

    @Test
    void user_crud_integration_test() {
        // Create
        User user = userService.createUser("í™ê¸¸ë™", "hong@example.com");
        assertThat(user.getId()).isNotNull();

        // Read
        User found = userService.findById(user.getId());
        assertThat(found.getName()).isEqualTo("í™ê¸¸ë™");

        // Update
        userService.updateName(user.getId(), "ê¹€ì² ìˆ˜");
        User updated = userService.findById(user.getId());
        assertThat(updated.getName()).isEqualTo("ê¹€ì² ìˆ˜");

        // Delete
        userService.delete(user.getId());
        assertThatThrownBy(() -> userService.findById(user.getId()))
            .isInstanceOf(UserNotFoundException.class);
    }
}
```

#### @WebMvcTest (Controller í…ŒìŠ¤íŠ¸)

```java
@WebMvcTest(UserController.class)
class UserControllerTest {

    @Autowired
    private MockMvc mockMvc;

    @MockBean
    private UserService userService;

    @Test
    void get_user_api_test() throws Exception {
        // Given
        User user = new User(1L, "í™ê¸¸ë™");
        when(userService.findById(1L)).thenReturn(user);

        // When & Then
        mockMvc.perform(get("/api/users/1"))
            .andExpect(status().isOk())
            .andExpect(jsonPath("$.id").value(1))
            .andExpect(jsonPath("$.name").value("í™ê¸¸ë™"))
            .andDo(print());
    }

    @Test
    void create_user_api_test() throws Exception {
        // Given
        UserRequest request = new UserRequest("í™ê¸¸ë™", "hong@example.com");
        User createdUser = new User(1L, "í™ê¸¸ë™");
        when(userService.createUser(any())).thenReturn(createdUser);

        // When & Then
        mockMvc.perform(post("/api/users")
                .contentType(MediaType.APPLICATION_JSON)
                .content("""
                    {
                      "name": "í™ê¸¸ë™",
                      "email": "hong@example.com"
                    }
                    """))
            .andExpect(status().isOk())
            .andExpect(jsonPath("$.id").value(1));
    }
}
```

---

## ğŸ› ï¸ ê¸°ë³¸ ì‹¤ìŠµ

### ì‹¤ìŠµ 1: Service ê³„ì¸µ í…ŒìŠ¤íŠ¸

```java
@ExtendWith(MockitoExtension.class)
class OrderServiceTest {

    @Mock
    private OrderRepository orderRepository;

    @Mock
    private ProductRepository productRepository;

    @Mock
    private PaymentService paymentService;

    @InjectMocks
    private OrderService orderService;

    @Test
    @DisplayName("ì£¼ë¬¸ ìƒì„± ì‹œ ì¬ê³ ê°€ ì¶©ë¶„í•˜ë©´ ì„±ê³µí•œë‹¤")
    void create_order_with_sufficient_stock() {
        // Given
        Long productId = 1L;
        int quantity = 2;
        Product product = Product.builder()
            .id(productId)
            .name("ìƒí’ˆA")
            .price(10000)
            .stock(10)
            .build();

        when(productRepository.findById(productId))
            .thenReturn(Optional.of(product));
        when(orderRepository.save(any(Order.class)))
            .thenAnswer(invocation -> invocation.getArgument(0));

        // When
        Order order = orderService.createOrder(productId, quantity);

        // Then
        assertThat(order).isNotNull();
        assertThat(order.getQuantity()).isEqualTo(2);
        assertThat(order.getTotalAmount()).isEqualTo(20000);

        verify(productRepository).findById(productId);
        verify(orderRepository).save(any(Order.class));
    }

    @Test
    @DisplayName("ì£¼ë¬¸ ìƒì„± ì‹œ ì¬ê³ ê°€ ë¶€ì¡±í•˜ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤")
    void create_order_with_insufficient_stock() {
        // Given
        Long productId = 1L;
        int quantity = 20;
        Product product = Product.builder()
            .id(productId)
            .stock(10)  // ì¬ê³  ë¶€ì¡±
            .build();

        when(productRepository.findById(productId))
            .thenReturn(Optional.of(product));

        // When & Then
        assertThatThrownBy(() -> orderService.createOrder(productId, quantity))
            .isInstanceOf(InsufficientStockException.class)
            .hasMessageContaining("ì¬ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤");

        verify(orderRepository, never()).save(any());
    }
}
```

### ì‹¤ìŠµ 2: Repository í…ŒìŠ¤íŠ¸

```java
@DataJpaTest
class UserRepositoryTest {

    @Autowired
    private UserRepository userRepository;

    @Test
    void find_by_email_test() {
        // Given
        User user = User.builder()
            .name("í™ê¸¸ë™")
            .email("hong@example.com")
            .build();
        userRepository.save(user);

        // When
        Optional<User> found = userRepository.findByEmail("hong@example.com");

        // Then
        assertThat(found).isPresent();
        assertThat(found.get().getName()).isEqualTo("í™ê¸¸ë™");
    }

    @Test
    void find_active_users_test() {
        // Given
        userRepository.save(User.builder().name("User1").status("ACTIVE").build());
        userRepository.save(User.builder().name("User2").status("ACTIVE").build());
        userRepository.save(User.builder().name("User3").status("INACTIVE").build());

        // When
        List<User> activeUsers = userRepository.findByStatus("ACTIVE");

        // Then
        assertThat(activeUsers).hasSize(2);
        assertThat(activeUsers).extracting("status").containsOnly("ACTIVE");
    }
}
```

### ì‹¤ìŠµ 3: TestContainers

```gradle
dependencies {
    testImplementation 'org.testcontainers:testcontainers:1.19.3'
    testImplementation 'org.testcontainers:mysql:1.19.3'
    testImplementation 'org.testcontainers:junit-jupiter:1.19.3'
}
```

```java
@SpringBootTest
@Testcontainers
class UserIntegrationWithTestContainersTest {

    @Container
    static MySQLContainer<?> mysql = new MySQLContainer<>("mysql:8.0")
        .withDatabaseName("testdb")
        .withUsername("test")
        .withPassword("test");

    @DynamicPropertySource
    static void properties(DynamicPropertyRegistry registry) {
        registry.add("spring.datasource.url", mysql::getJdbcUrl);
        registry.add("spring.datasource.username", mysql::getUsername);
        registry.add("spring.datasource.password", mysql::getPassword());
    }

    @Autowired
    private UserRepository userRepository;

    @Test
    void integration_test_with_real_database() {
        // Given
        User user = new User("í™ê¸¸ë™", "hong@example.com");

        // When
        User saved = userRepository.save(user);

        // Then
        assertThat(saved.getId()).isNotNull();
        assertThat(userRepository.count()).isEqualTo(1);
    }
}
```

---

## ğŸ‘¨â€ğŸ’» ì£¼ë‹ˆì–´ ê°œë°œì ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤: "TDDë¡œ ê¸°ëŠ¥ ê°œë°œ"

**ìš”êµ¬ì‚¬í•­:**
```
ì‚¬ìš©ì ë“±ë¡ ì‹œ ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬ í•„ìš”
```

**1ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì‘ì„± (Red)**

```java
@Test
void register_with_duplicate_email_should_fail() {
    // Given
    userService.register("hong@example.com", "password");

    // When & Then
    assertThatThrownBy(() ->
        userService.register("hong@example.com", "password2"))
        .isInstanceOf(DuplicateEmailException.class);
}
```

**ì‹¤í–‰ ê²°ê³¼: ì‹¤íŒ¨ (ì½”ë“œê°€ ì—†ìŒ)**

**2ë‹¨ê³„: ìµœì†Œ ì½”ë“œ ì‘ì„± (Green)**

```java
public User register(String email, String password) {
    if (userRepository.existsByEmail(email)) {
        throw new DuplicateEmailException("ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤");
    }
    return userRepository.save(new User(email, password));
}
```

**ì‹¤í–‰ ê²°ê³¼: ì„±ê³µ**

**3ë‹¨ê³„: ë¦¬íŒ©í† ë§ (Refactor)**

```java
public User register(String email, String password) {
    validateDuplicateEmail(email);
    return userRepository.save(new User(email, password));
}

private void validateDuplicateEmail(String email) {
    if (userRepository.existsByEmail(email)) {
        throw new DuplicateEmailException("ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤");
    }
}
```

---

## ğŸ¢ ê¸°ì—… ì‚¬ë¡€: Google

### ë°°ê²½

Googleì€ "í…ŒìŠ¤íŠ¸ ì—†ëŠ” ì½”ë“œëŠ” ë ˆê±°ì‹œ ì½”ë“œ"ë¼ëŠ” ì² í•™ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

**í…ŒìŠ¤íŠ¸ ì „ëµ:**
- 70% ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- 20% í†µí•© í…ŒìŠ¤íŠ¸
- 10% E2E í…ŒìŠ¤íŠ¸

```java
// Googleì˜ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ
@Test
public void shouldReturnTrueForEvenNumber() {
    // GIVEN
    int number = 4;

    // WHEN
    boolean result = MathUtils.isEven(number);

    // THEN
    assertThat(result).isTrue();
}
```

**íš¨ê³¼:**
- ë²„ê·¸ ë°œê²¬ ì‹œê°„: 1ì£¼ â†’ 1ì‹œê°„
- ì½”ë“œ í’ˆì§ˆ í–¥ìƒ
- ë¦¬íŒ©í† ë§ ìì‹ ê°

---

## â“ FAQ

### Q1. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œëŠ”?

**A:**

```
ì¼ë°˜ì ì¸ ê°€ì´ë“œ:
- ë¼ì¸ ì»¤ë²„ë¦¬ì§€: 80% ì´ìƒ
- ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€: 70% ì´ìƒ

í•˜ì§€ë§Œ ì¤‘ìš”í•œ ê²ƒì€ ìˆ«ìê°€ ì•„ë‹Œ í’ˆì§ˆ!
```

```gradle
// JaCoCo ì„¤ì •
plugins {
    id 'jacoco'
}

test {
    finalizedBy jacocoTestReport
}

jacocoTestReport {
    dependsOn test
    reports {
        html.required = true
    }
}
```

### Q2. Mock vs Spy ì°¨ì´ëŠ”?

**A:**

```java
// Mock: ì™„ì „íˆ ê°€ì§œ ê°ì²´
@Mock
private UserRepository userRepository;
// ëª¨ë“  ë©”ì„œë“œê°€ ê¸°ë³¸ê°’ ë°˜í™˜ (null, 0 ë“±)

// Spy: ì‹¤ì œ ê°ì²´ ê¸°ë°˜
@Spy
private UserService userService;
// ì‹¤ì œ ë©”ì„œë“œ í˜¸ì¶œ, ì¼ë¶€ë§Œ stubbing ê°€ëŠ¥

@Test
void spy_example() {
    // ì¼ë¶€ë§Œ ëª¨í‚¹
    doReturn(mockUser).when(userService).findById(1L);

    // ë‚˜ë¨¸ì§€ëŠ” ì‹¤ì œ ë©”ì„œë“œ ì‹¤í–‰
    userService.updateName(1L, "ìƒˆì´ë¦„");
}
```

### Q3. í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ëŠë¦°ë° ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?

**A:** í”„ë¡œíŒŒì¼ê³¼ íƒœê·¸ í™œìš©

```java
// ë¹ ë¥¸ í…ŒìŠ¤íŠ¸
@Test
@Tag("fast")
void unit_test() {
    // 0.1ì´ˆ
}

// ëŠë¦° í…ŒìŠ¤íŠ¸
@Test
@Tag("slow")
@SpringBootTest
void integration_test() {
    // 5ì´ˆ
}
```

```bash
# ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
./gradlew test --tests "*" -Dgroups=fast

# CI/CDì—ì„œ ëª¨ë“  í…ŒìŠ¤íŠ¸
./gradlew test
```

### Q4. given-when-then íŒ¨í„´ì´ ë­”ê°€ìš”?

**A:**

```java
@Test
void test_pattern() {
    // Given (ì¤€ë¹„): í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
    User user = new User("í™ê¸¸ë™");

    // When (ì‹¤í–‰): í…ŒìŠ¤íŠ¸í•  ë™ì‘ ì‹¤í–‰
    String name = user.getName();

    // Then (ê²€ì¦): ê²°ê³¼ ê²€ì¦
    assertThat(name).isEqualTo("í™ê¸¸ë™");
}
```

### Q5. í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œê°„ì´ ë¶€ì¡±í•œë°ìš”?

**A:**

```
ìš°ì„ ìˆœìœ„:
1. í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (í•„ìˆ˜)
2. ë³µì¡í•œ ì•Œê³ ë¦¬ì¦˜ (í•„ìˆ˜)
3. ë²„ê·¸ ì¬í˜„ í…ŒìŠ¤íŠ¸ (í•„ìˆ˜)
4. Controller (ì„ íƒ)
5. ë‹¨ìˆœ CRUD (ì„ íƒ)

ì‹œê°„ íˆ¬ì = ë¯¸ë˜ ì‹œê°„ ì ˆì•½
ë²„ê·¸ ìˆ˜ì • ì‹œê°„ >> í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œê°„
```

---

## ğŸ’¼ ë©´ì ‘ ì§ˆë¬¸ TOP 5

### â­ ì´ˆê¸‰ 1: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ì°¨ì´ëŠ”?

**ë‹µë³€:**

| êµ¬ë¶„ | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | í†µí•© í…ŒìŠ¤íŠ¸ |
|-----|-----------|-----------|
| ë²”ìœ„ | ë‹¨ì¼ í´ë˜ìŠ¤/ë©”ì„œë“œ | ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ |
| ì˜ì¡´ì„± | Mock | ì‹¤ì œ ì˜ì¡´ì„± |
| ì†ë„ | ë¹ ë¦„ (ms) | ëŠë¦¼ (ì´ˆ) |
| ì˜ˆì‹œ | `@Test` | `@SpringBootTest` |

### â­ ì´ˆê¸‰ 2: Mockê³¼ Stubì˜ ì°¨ì´ëŠ”?

**ë‹µë³€:**

```java
// Mock: í˜¸ì¶œ ê²€ì¦
@Mock
UserRepository repo;
verify(repo, times(1)).save(any());

// Stub: ë°˜í™˜ê°’ ì„¤ì •
when(repo.findById(1L)).thenReturn(user);
```

### â­â­ ì¤‘ê¸‰ 1: given-when-then íŒ¨í„´ì´ë€?

**ë‹µë³€:**

```java
@Test
void pattern_example() {
    // Given: í…ŒìŠ¤íŠ¸ ì¤€ë¹„
    User user = new User("í™ê¸¸ë™");

    // When: ì‹¤í–‰
    String name = user.getName();

    // Then: ê²€ì¦
    assertThat(name).isEqualTo("í™ê¸¸ë™");
}
```

### â­â­ ì¤‘ê¸‰ 2: @WebMvcTestì™€ @SpringBootTest ì°¨ì´ëŠ”?

**ë‹µë³€:**

```java
// @WebMvcTest: Controllerë§Œ í…ŒìŠ¤íŠ¸
@WebMvcTest(UserController.class)
// - ë¹ ë¦„
// - MockMvc ì‚¬ìš©
// - ServiceëŠ” @MockBean

// @SpringBootTest: ì „ì²´ ì»¨í…ìŠ¤íŠ¸
@SpringBootTest
// - ëŠë¦¼
// - ì‹¤ì œ í™˜ê²½ê³¼ ìœ ì‚¬
// - í†µí•© í…ŒìŠ¤íŠ¸
```

### â­â­ ì¤‘ê¸‰ 3: TDDì˜ ì¥ì ì€?

**ë‹µë³€:**

```
1. ìš”êµ¬ì‚¬í•­ ëª…í™•í™”
   - í…ŒìŠ¤íŠ¸ = ëª…ì„¸ì„œ

2. ì„¤ê³„ ê°œì„ 
   - í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ ì½”ë“œ = ì¢‹ì€ ì„¤ê³„

3. ë¦¬íŒ©í† ë§ ìì‹ ê°
   - í…ŒìŠ¤íŠ¸ê°€ ì•ˆì „ë§ ì—­í• 

4. ë²„ê·¸ ì¡°ê¸° ë°œê²¬
   - ê°œë°œ ì¤‘ ë²„ê·¸ ë°œê²¬

5. ë¬¸ì„œí™”
   - í…ŒìŠ¤íŠ¸ = ì‚¬ìš© ì˜ˆì‹œ
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

í…ŒìŠ¤íŠ¸ë¥¼ ë§ˆì³¤ë‹¤ë©´:

1. **36ì¥: í”„ë¡œíŒŒì¼ ê´€ë¦¬** - í™˜ê²½ë³„ ì„¤ì •
2. **E2E í…ŒìŠ¤íŠ¸** - Selenium, Cypress
3. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸** - JMeter, Gatling

---

**ğŸ“ í•™ìŠµ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸:**

- [ ] JUnit 5 ê¸°ë³¸ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] Mockitoë¡œ ëª¨í‚¹
- [ ] @SpringBootTest í†µí•© í…ŒìŠ¤íŠ¸
- [ ] @WebMvcTest Controller í…ŒìŠ¤íŠ¸
- [ ] given-when-then íŒ¨í„´
- [ ] TDD ì‹¤ìŠµ

**ë‹¤ìŒ ì¥ì—ì„œëŠ” í”„ë¡œíŒŒì¼ ê´€ë¦¬ë¥¼ ë§ˆìŠ¤í„°í•©ë‹ˆë‹¤!** ğŸš€
