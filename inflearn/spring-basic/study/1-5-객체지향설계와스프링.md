# 1-5. κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ™€ μ¤ν”„λ§

**μ¶μ²**: μΈν”„λ° - μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ κΈ°λ³ΈνΈ
**κ°•μ μ‹κ°„**: 08:29
**μ‘μ„±μΌ**: 2025-01-23

---

## π“ λ©μ°¨
1. [ν•™μµ λ©ν‘](#ν•™μµ-λ©ν‘)
2. [μ—°κ΄€ κ°λ…](#-μ—°κ΄€-κ°λ…)
3. [λ‹¤ν•μ„±λ§μΌλ΅λ” λ¶€μ΅±ν•λ‹¤](#λ‹¤ν•μ„±λ§μΌλ΅λ”-λ¶€μ΅±ν•λ‹¤)
4. [μ¤ν”„λ§κ³Ό κ°μ²΄ μ§€ν–¥](#μ¤ν”„λ§κ³Ό-κ°μ²΄-μ§€ν–¥)
5. [DI μ»¨ν…μ΄λ„μ μ—­ν• ](#di-μ»¨ν…μ΄λ„μ-μ—­ν• )
6. [μ •λ¦¬](#μ •λ¦¬)
7. [λ©΄μ ‘ μ§λ¬Έ](#λ©΄μ ‘-μ§λ¬Έ)

---

## ν•™μµ λ©ν‘

μ΄ μ±•ν„°λ¥Ό ν•™μµν• ν›„ λ‹¤μμ„ ν•  μ μμµλ‹λ‹¤:
- [ ] λ‹¤ν•μ„±λ§μΌλ΅ OCP, DIPλ¥Ό μ§€ν‚¬ μ μ—†λ” μ΄μ λ¥Ό μ„¤λ…ν•  μ μλ‹¤
- [ ] μ¤ν”„λ§μ΄ μ–΄λ–»κ² κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ§€μ›ν•λ”μ§€ μ΄ν•΄ν•λ‹¤
- [ ] DI μ»¨ν…μ΄λ„μ ν•„μ”μ„±κ³Ό μ—­ν• μ„ μ„¤λ…ν•  μ μλ‹¤
- [ ] μ¤ν”„λ§μ ν•µμ‹¬ κ°€μΉκ°€ λ¬΄μ—‡μΈμ§€ μ΄ν•΄ν•λ‹¤

---

## π”— μ—°κ΄€ κ°λ…

- **μ„ ν–‰ ν•™μµ κ¶μ¥**:
  - [1-3. μΆ‹μ€ κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°μ΄λ€?](./1-3-μΆ‹μ€κ°μ²΄μ§€ν–¥ν”„λ΅κ·Έλλ°μ΄λ€.md) - λ‹¤ν•μ„±κ³Ό μ—­ν• /κµ¬ν„ λ¶„λ¦¬
  - [1-4. μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™(SOLID)](./1-4-μΆ‹μ€κ°μ²΄μ§€ν–¥μ„¤κ³„μ5κ°€μ§€μ›μΉ™SOLID.md) - OCP, DIP

- **ν›„μ† ν•™μµ μ¶”μ²**:
  - μ¤ν”„λ§ μ»¨ν…μ΄λ„μ™€ μ¤ν”„λ§ λΉ
  - μμ΅΄κ΄€κ³„ μλ™ μ£Όμ…

- **κ΄€λ ¨ κ°λ…**:
  - μ μ–΄μ μ—­μ „(IoC, Inversion of Control)
  - μμ΅΄μ„± μ£Όμ…(DI, Dependency Injection)
  - ν”„λ μ„μ›ν¬ vs λΌμ΄λΈλ¬λ¦¬

---

## λ‹¤ν•μ„±λ§μΌλ΅λ” λ¶€μ΅±ν•λ‹¤

> π“ **TL;DR**
> - λ‹¤ν•μ„±λ§μΌλ΅λ” OCPμ™€ DIPλ¥Ό μ™„μ „ν μ§€ν‚¬ μ μ—†λ‹¤
> - κµ¬ν„ ν΄λμ¤λ¥Ό λ³€κ²½ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ„ ν•¨κ» λ³€κ²½λλ‹¤
> - λ³„λ„μ μ„¤μ •μ(μ΅°λ¦½μ)κ°€ ν•„μ”ν•λ‹¤

### ν•µμ‹¬ κ°λ…

μ•μ„ λ°°μ΄ **λ‹¤ν•μ„±**κ³Ό **SOLID μ›μΉ™**μ„ μ΅°ν•©ν•λ©΄ μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„κ°€ κ°€λ¥ν•  κ²ƒ κ°™μ§€λ§, μ‹¤μ λ΅λ” **ν•κ³„**κ°€ μμµλ‹λ‹¤.

### μƒμ„Έ μ„¤λ…

#### λ¬Έμ  μƒν™© μ¬κ²€ν† 

```java
public class MemberService {
    // private MemberRepository memberRepository = new MemoryMemberRepository();
    private MemberRepository memberRepository = new JdbcMemberRepository();
}
```

μ„ μ½”λ“μ λ¬Έμ μ :
1. **OCP μ„λ°**: ν™•μ¥μ—λ” μ—΄λ ¤μμ§€λ§, λ³€κ²½μ—λ” λ‹«ν€μμ§€ μ•λ‹¤
   - `MemoryMemberRepository`μ—μ„ `JdbcMemberRepository`λ΅ λ³€κ²½ν•λ ¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό μμ •ν•΄μ•Ό ν•¨

2. **DIP μ„λ°**: μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Ό ν•μ§€λ§, κµ¬μ²΄ν™”μ—λ„ μμ΅΄ν•λ‹¤
   - `MemberRepository` (μ¶”μƒν™”) λΏλ§ μ•„λ‹λΌ
   - `JdbcMemberRepository` (κµ¬μ²΄ν™”)μ—λ„ μμ΅΄

#### κ·Όλ³Έ μ›μΈ

```java
MemberRepository m = new JdbcMemberRepository();
```

- **κΈ°λ€**: μΈν„°νμ΄μ¤λ§ μμ΅΄
- **ν„μ‹¤**: κµ¬ν„ ν΄λμ¤λ„ μμ΅΄
- **κ²°κ³Ό**: κµ¬ν„ ν΄λμ¤ λ³€κ²½ μ‹ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μμ • ν•„μ”

### λ‹¤μ΄μ–΄κ·Έλ¨

```mermaid
graph TB
    subgraph "λ¬Έμ : ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬ν„ ν΄λμ¤μ— μμ΅΄"
        Client1[MemberService<br/>ν΄λΌμ΄μ–ΈνΈ]
        Interface1[MemberRepository<br/>μΈν„°νμ΄μ¤]
        Impl1[MemoryMemberRepository]
        Impl2[JdbcMemberRepository]

        Client1 -.->|μ¶”μƒν™” μμ΅΄| Interface1
        Client1 -->|κµ¬μ²΄ν™” μμ΅΄<br/>DIP μ„λ°| Impl1
        Interface1 -.-> Impl1
        Interface1 -.-> Impl2

        style Client1 fill:#ffcccc
        style Impl1 fill:#ffcccc
    end
```

### ν•΄κ²° λ°©λ²•

**λ„κµ°κ°€**κ°€ ν΄λΌμ΄μ–ΈνΈμΈ `MemberService`μ— `MemberRepository`μ κµ¬ν„ κ°μ²΄λ¥Ό λ€μ‹  μƒμ„±ν•κ³  μ£Όμ…ν•΄μ£Όμ–΄μ•Ό ν•©λ‹λ‹¤.

```mermaid
graph LR
    subgraph "ν•΄κ²°: μ™Έλ¶€μ—μ„ μμ΅΄μ„± μ£Όμ…"
        Config[AppConfig<br/>μ„¤μ •μ]
        Client2[MemberService]
        Impl3[κµ¬ν„ κ°μ²΄]

        Config -->|μƒμ„±| Impl3
        Config -->|μ£Όμ…| Client2
        Client2 -.->|μ‚¬μ©| Impl3

        style Config fill:#ccffcc
    end
```

### μ£Όμ” ν¬μΈνΈ

- λ‹¤ν•μ„±λ§μΌλ΅λ” OCP, DIPλ¥Ό μ§€ν‚¬ μ μ—†λ‹¤
- κµ¬ν„ κ°μ²΄λ¥Ό λ³€κ²½ν•λ ¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤
- λ³„λ„μ μ΅°λ¦½μ(μ„¤μ •μ)κ°€ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ£Όμ…ν•΄μ•Ό ν•λ‹¤

---

## μ¤ν”„λ§κ³Ό κ°μ²΄ μ§€ν–¥

> π“ **TL;DR**
> - μ¤ν”„λ§μ€ DI μ»¨ν…μ΄λ„λ¥Ό μ κ³µν•μ—¬ OCP, DIPλ¥Ό κ°€λ¥ν•κ² ν•λ‹¤
> - ν΄λΌμ΄μ–ΈνΈ μ½”λ“ λ³€κ²½ μ—†μ΄ κΈ°λ¥μ„ ν™•μ¥ν•  μ μλ‹¤
> - μ¤ν”„λ§μ ν•µμ‹¬μ€ μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ• ν”λ¦¬μΌ€μ΄μ… κ°λ°μ„ λ•λ” κ²ƒμ΄λ‹¤

### ν•µμ‹¬ κ°λ…

**μ¤ν”„λ§**μ€ λ‹¤μ κΈ°μ λ΅ λ‹¤ν•μ„±κ³Ό OCP, DIPλ¥Ό κ°€λ¥ν•κ² μ§€μ›ν•©λ‹λ‹¤:
- **DI(Dependency Injection)**: μμ΅΄κ΄€κ³„, μμ΅΄μ„± μ£Όμ…
- **DI μ»¨ν…μ΄λ„**: μμ΅΄μ„±μ„ κ΄€λ¦¬ν•κ³  μ£Όμ…ν•λ” μ»¨ν…μ΄λ„

### μƒμ„Έ μ„¤λ…

#### μ¤ν”„λ§μ ν•΄κ²°μ±…

μ¤ν”„λ§μ€ **DI μ»¨ν…μ΄λ„**λ¥Ό ν†µν•΄ λ‹¤μκ³Ό κ°™μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•©λ‹λ‹¤:

1. **μμ΅΄μ„± μ£Όμ…(DI)**
   ```java
   @Service
   public class MemberService {
       private final MemberRepository memberRepository;

       // μƒμ„±μλ¥Ό ν†µν• μμ΅΄μ„± μ£Όμ…
       @Autowired
       public MemberService(MemberRepository memberRepository) {
           this.memberRepository = memberRepository;
       }
   }
   ```
   - ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” μΈν„°νμ΄μ¤λ§ μμ΅΄
   - κµ¬ν„ κ°μ²΄λ” μ™Έλ¶€(μ¤ν”„λ§)μ—μ„ μ£Όμ…

2. **μ„¤μ • μ •λ³΄ λ¶„λ¦¬**
   ```java
   @Configuration
   public class AppConfig {
       @Bean
       public MemberRepository memberRepository() {
           // return new MemoryMemberRepository();
           return new JdbcMemberRepository();
       }

       @Bean
       public MemberService memberService() {
           return new MemberService(memberRepository());
       }
   }
   ```
   - κµ¬ν„ ν΄λμ¤ λ³€κ²½μ€ μ„¤μ • νμΌμ—μ„λ§ μμ •
   - ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” λ³€κ²½ λ¶ν•„μ”

#### OCPμ™€ DIP μ¤€μ

```mermaid
graph TB
    subgraph "μ¤ν”„λ§μ DI"
        Spring[Spring Container<br/>DI μ»¨ν…μ΄λ„]
        Config[AppConfig<br/>μ„¤μ • μ •λ³΄]
        Client[MemberService<br/>ν΄λΌμ΄μ–ΈνΈ]
        Interface[MemberRepository<br/>μΈν„°νμ΄μ¤]
        Impl[JdbcMemberRepository<br/>κµ¬ν„ κ°μ²΄]

        Config -->|μ„¤μ •| Spring
        Spring -->|μƒμ„±| Impl
        Spring -->|μ£Όμ…| Client
        Client -.->|μΈν„°νμ΄μ¤λ§ μμ΅΄<br/>DIP μ¤€μ| Interface
        Interface -.-> Impl

        style Spring fill:#ccffff
        style Client fill:#ccffcc
    end
```

**κ²°κ³Ό**:
- β… **DIP μ¤€μ**: ν΄λΌμ΄μ–ΈνΈλ” μΈν„°νμ΄μ¤μ—λ§ μμ΅΄
- β… **OCP μ¤€μ**: μ„¤μ • μ •λ³΄λ§ λ³€κ²½ν•λ©΄ κΈ°λ¥ ν™•μ¥ κ°€λ¥
- β… **ν΄λΌμ΄μ–ΈνΈ μ½”λ“ λ³€κ²½ μ—†μ**: κµ¬ν„μ²΄ λ³€κ²½ μ‹ ν΄λΌμ΄μ–ΈνΈ μμ • λ¶ν•„μ”

### μμ : κµ¬ν„μ²΄ λ³€κ²½

#### Before (μ¤ν”„λ§ μ—†μ΄)
```java
public class MemberService {
    // κµ¬ν„μ²΄ λ³€κ²½ν•λ ¤λ©΄ μ΄ μ½”λ“λ¥Ό μ§μ ‘ μμ •ν•΄μ•Ό ν•¨
    // private MemberRepository repo = new MemoryMemberRepository();
    private MemberRepository repo = new JdbcMemberRepository();
}
```

#### After (μ¤ν”„λ§ μ‚¬μ©)
```java
// MemberService.java - λ³€κ²½ μ—†μ!
@Service
public class MemberService {
    private final MemberRepository memberRepository;

    @Autowired
    public MemberService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
}

// AppConfig.java - μ—¬κΈ°λ§ λ³€κ²½
@Configuration
public class AppConfig {
    @Bean
    public MemberRepository memberRepository() {
        // return new MemoryMemberRepository();  // λ©”λ¨λ¦¬ λ²„μ „
        return new JdbcMemberRepository();        // DB λ²„μ „
    }
}
```

### μ£Όμ” ν¬μΈνΈ

- μ¤ν”„λ§μ€ DI μ»¨ν…μ΄λ„ κΈ°μ μ„ μ κ³µν•λ‹¤
- DIλ¥Ό ν†µν•΄ OCP, DIPλ¥Ό κ°€λ¥ν•κ² ν•λ‹¤
- ν΄λΌμ΄μ–ΈνΈ μ½”λ“ λ³€κ²½ μ—†μ΄ κΈ°λ¥ ν™•μ¥μ΄ κ°€λ¥ν•λ‹¤
- μ„¤μ • μ •λ³΄λ§ λ³€κ²½ν•λ©΄ λλ‹¤

---

## DI μ»¨ν…μ΄λ„μ μ—­ν• 

> π“ **TL;DR**
> - DI μ»¨ν…μ΄λ„λ” κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ‹¤
> - μμ΅΄κ΄€κ³„λ¥Ό μλ™μΌλ΅ μ£Όμ…ν•λ‹¤
> - μ• ν”λ¦¬μΌ€μ΄μ… μ΅°λ¦½κ³Ό κµ¬μ„±μ μ±…μ„μ„ λ‹΄λ‹Ήν•λ‹¤

### ν•µμ‹¬ κ°λ…

**DI μ»¨ν…μ΄λ„**(λλ” **IoC μ»¨ν…μ΄λ„**, **μ¤ν”„λ§ μ»¨ν…μ΄λ„**)λ” κ°μ²΄μ μƒλ…μ£ΌκΈ°μ™€ μμ΅΄κ΄€κ³„λ¥Ό κ΄€λ¦¬ν•λ” μ»¨ν…μ΄λ„μ…λ‹λ‹¤.

### μƒμ„Έ μ„¤λ…

#### DI μ»¨ν…μ΄λ„μ μ£Όμ” μ—­ν• 

1. **κ°μ²΄ μƒμ„±κ³Ό κ΄€λ¦¬**
   - μ• ν”λ¦¬μΌ€μ΄μ…μ— ν•„μ”ν• κ°μ²΄(λΉ)λ¥Ό μƒμ„±
   - κ°μ²΄μ μƒλ…μ£ΌκΈ° κ΄€λ¦¬ (μƒμ„± β†’ μ΄κΈ°ν™” β†’ μ†λ©Έ)

2. **μμ΅΄κ΄€κ³„ μ£Όμ…**
   - κ°μ²΄ κ°„μ μμ΅΄κ΄€κ³„λ¥Ό μλ™μΌλ΅ μ—°κ²°
   - μƒμ„±μ, μ„Έν„°, ν•„λ“λ¥Ό ν†µν• μ£Όμ…

3. **μ„¤μ •κ³Ό κµ¬μ„±μ λ¶„λ¦¬**
   - μ• ν”λ¦¬μΌ€μ΄μ… λ΅μ§κ³Ό κ°μ²΄ κµ¬μ„± λ΅μ§ λ¶„λ¦¬
   - λ³€κ²½μ— μ μ—°ν• κµ¬μ΅°

#### DI μ»¨ν…μ΄λ„ λ™μ‘ κ³Όμ •

```mermaid
sequenceDiagram
    participant App as Application
    participant Container as Spring Container
    participant Config as @Configuration
    participant Bean1 as MemberRepository
    participant Bean2 as MemberService

    App->>Container: μ• ν”λ¦¬μΌ€μ΄μ… μ‹μ‘
    Container->>Config: μ„¤μ • μ •λ³΄ μ½κΈ°
    Config->>Container: Bean μ •μ λ°ν™
    Container->>Bean1: κ°μ²΄ μƒμ„±
    Container->>Bean2: κ°μ²΄ μƒμ„±
    Container->>Bean2: Bean1 μ£Όμ… (DI)
    Container->>App: μ¤€λΉ„ μ™„λ£
    App->>Container: Bean μ”μ²­
    Container->>App: Bean λ°ν™
```

#### μ μ–΄μ μ—­μ „(IoC)

```java
// μ „ν†µμ μΈ λ°©μ‹: λ‚΄κ°€ μ§μ ‘ μ μ–΄
public class MemberService {
    private MemberRepository repository;

    public MemberService() {
        this.repository = new MemoryMemberRepository(); // λ‚΄κ°€ μƒμ„±
    }
}

// IoC λ°©μ‹: μ»¨ν…μ΄λ„κ°€ μ μ–΄
public class MemberService {
    private final MemberRepository repository;

    public MemberService(MemberRepository repository) {
        this.repository = repository; // μ™Έλ¶€μ—μ„ μ£Όμ…λ°›μ
    }
}
```

**μ μ–΄μ μ—­μ „(IoC)**μ΄λ€:
- ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ **κ°λ°μκ°€ μ•„λ‹ ν”„λ μ„μ›ν¬κ°€ μ μ–΄**
- κ°μ²΄μ μƒμ„±, μƒλ…μ£ΌκΈ° κ΄€λ¦¬λ¥Ό ν”„λ μ„μ›ν¬μ— μ„μ„
- κ°λ°μλ” λΉ„μ¦λ‹μ¤ λ΅μ§μ—λ§ μ§‘μ¤‘

### λ‹¤μ΄μ–΄κ·Έλ¨

```mermaid
graph TB
    subgraph "DI μ»¨ν…μ΄λ„μ μ—­ν• "
        Container[Spring DI Container]

        subgraph "κ΄€λ¦¬ μμ—­"
            Bean1[Bean: MemberRepository]
            Bean2[Bean: MemberService]
            Bean3[Bean: OrderService]
        end

        Config[μ„¤μ • μ •λ³΄<br/>@Configuration]
        App[μ• ν”λ¦¬μΌ€μ΄μ…]

        Config -->|Bean μ •μ| Container
        Container -->|μƒμ„± & κ΄€λ¦¬| Bean1
        Container -->|μƒμ„± & κ΄€λ¦¬| Bean2
        Container -->|μƒμ„± & κ΄€λ¦¬| Bean3
        Container -->|μμ΅΄μ„± μ£Όμ…| Bean2
        Container -->|μμ΅΄μ„± μ£Όμ…| Bean3
        App -->|Bean μ”μ²­| Container
        Container -->|Bean μ κ³µ| App

        style Container fill:#e1f5ff
        style Config fill:#fff4e1
    end
```

### π’΅ μ‹¬ν™” λ‚΄μ©

<details>
<summary>DIμ 3κ°€μ§€ λ°©λ²• λ” μ•μ•„λ³΄κΈ°</summary>

#### 1. μƒμ„±μ μ£Όμ… (κ¶μ¥)
```java
@Service
public class MemberService {
    private final MemberRepository memberRepository;

    @Autowired // μƒμ„±μκ°€ 1κ°λ©΄ μƒλµ κ°€λ¥
    public MemberService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
}
```
**μ¥μ **:
- λ¶λ³€μ„± λ³΄μ¥ (`final` μ‚¬μ© κ°€λ¥)
- ν•„μ μμ΅΄μ„±μ„ λ…ν™•ν ν‘ν„
- ν…μ¤νΈ μ½”λ“ μ‘μ„± μ©μ΄

#### 2. μ„Έν„° μ£Όμ…
```java
@Service
public class MemberService {
    private MemberRepository memberRepository;

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
}
```
**λ‹¨μ **:
- μμ΅΄μ„±μ΄ λ³€κ²½λ  μ μμ
- NPE(NullPointerException) κ°€λ¥μ„±

#### 3. ν•„λ“ μ£Όμ…
```java
@Service
public class MemberService {
    @Autowired
    private MemberRepository memberRepository;
}
```
**λ‹¨μ **:
- ν…μ¤νΈν•κΈ° μ–΄λ ¤μ›€
- ν”„λ μ„μ›ν¬ μμ΅΄μ 
- λ¶λ³€μ„± λ³΄μ¥ λ¶κ°€

**κ²°λ΅ **: **μƒμ„±μ μ£Όμ…**μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ κ°€μ¥ μΆ‹μ€ λ°©λ²•μ…λ‹λ‹¤.

</details>

<details>
<summary>μ¤ν”„λ§ μ—†μ΄ DI κµ¬ν„ν•κΈ°</summary>

μ¤ν”„λ§μ„ μ‚¬μ©ν•μ§€ μ•κ³ λ„ DI ν¨ν„΄μ„ μ§μ ‘ κµ¬ν„ν•  μ μμµλ‹λ‹¤:

```java
// AppConfig.java - μλ™ DI μ»¨ν…μ΄λ„
public class AppConfig {

    public MemberRepository memberRepository() {
        return new MemoryMemberRepository();
    }

    public MemberService memberService() {
        return new MemberService(memberRepository());
    }

    public OrderService orderService() {
        return new OrderService(memberRepository(), discountPolicy());
    }

    public DiscountPolicy discountPolicy() {
        return new RateDiscountPolicy();
    }
}

// μ‚¬μ©
public class Main {
    public static void main(String[] args) {
        AppConfig appConfig = new AppConfig();
        MemberService memberService = appConfig.memberService();
        // μ‚¬μ©
    }
}
```

μ΄ λ°©μ‹μ μ¥μ :
- DI μ›λ¦¬λ¥Ό μ΄ν•΄ν•λ” λ° λ„μ›€
- κ°„λ‹¨ν• ν”„λ΅μ νΈμ—μ„λ” μ¶©λ¶„

λ‹¨μ :
- κ°μ²΄ μƒμ„± μ½”λ“λ¥Ό μ§μ ‘ μ‘μ„±ν•΄μ•Ό ν•¨
- μ‹±κΈ€ν†¤ λ³΄μ¥ μ–΄λ ¤μ›€
- λΉ μƒλ…μ£ΌκΈ° κ΄€λ¦¬ μλ™ μ²λ¦¬

</details>

### μ£Όμ” ν¬μΈνΈ

- DI μ»¨ν…μ΄λ„λ” κ°μ²΄μ μƒμ„±κ³Ό μƒλ…μ£ΌκΈ°λ¥Ό κ΄€λ¦¬ν•λ‹¤
- μμ΅΄κ΄€κ³„λ¥Ό μλ™μΌλ΅ μ£Όμ…ν•λ‹¤
- IoC(μ μ–΄μ μ—­μ „) μ›μΉ™μ„ κµ¬ν„ν•λ‹¤
- κ°λ°μλ” λΉ„μ¦λ‹μ¤ λ΅μ§μ— μ§‘μ¤‘ν•  μ μλ‹¤

---

## μ „μ²΄ μ”μ•½

> π“ **TL;DR**
> - μ¤ν”„λ§μ ν•µμ‹¬μ€ μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„λ¥Ό μ§€μ›ν•λ” κ²ƒμ΄λ‹¤
> - DI μ»¨ν…μ΄λ„λ¥Ό ν†µν•΄ λ‹¤ν•μ„± + OCP + DIPλ¥Ό κ°€λ¥ν•κ² ν•λ‹¤
> - λ¨λ“  μ„¤κ³„μ μ¤‘μ‹¬μ—λ” κ°μ²΄ μ§€ν–¥ μ›λ¦¬κ°€ μλ‹¤

### ν•µμ‹¬ κ°λ…

**μ¤ν”„λ§μ μ§„μ •ν• κ°€μΉ**λ” λ‹¨μν κΈ°μ μ„ μ κ³µν•λ” κ²ƒμ΄ μ•„λ‹λΌ, **μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•  μ μλ„λ΅ λ•λ” κ²ƒ**μ…λ‹λ‹¤.

### μƒμ„Έ μ„¤λ…

#### μ¤ν”„λ§μ ν•µμ‹¬ κ°€μΉ

```mermaid
graph TB
    subgraph "μ¤ν”„λ§μ λ©ν‘"
        Goal[μΆ‹μ€ κ°μ²΄ μ§€ν–¥<br/>μ• ν”λ¦¬μΌ€μ΄μ… κ°λ°]
    end

    subgraph "μ§€μ› κΈ°μ "
        DI[DI<br/>μμ΅΄μ„± μ£Όμ…]
        Container[DI Container<br/>κ°μ²΄ κ΄€λ¦¬]
        AOP[AOP<br/>κ΄€μ  μ§€ν–¥]
    end

    subgraph "λ‹¬μ„±ν•λ” μ›μΉ™"
        OCP[OCP<br/>ν™•μ¥μ— μ—΄λ¦Ό<br/>λ³€κ²½μ— λ‹«ν]
        DIP[DIP<br/>μ¶”μƒν™”μ— μμ΅΄]
        Poly[λ‹¤ν•μ„±<br/>μ μ—°ν• μ„¤κ³„]
    end

    Goal --> DI
    Goal --> Container
    Goal --> AOP

    DI --> OCP
    DI --> DIP
    Container --> OCP
    Container --> DIP
    DIP --> Poly

    style Goal fill:#ffe6e6
    style OCP fill:#e6ffe6
    style DIP fill:#e6ffe6
```

#### κ²°λ΅ 

1. **λ¨λ“  μ„¤κ³„μ κΈ°μ΄λ” κ°μ²΄ μ§€ν–¥ μ›λ¦¬**
   - λ‹¤ν•μ„±μ΄ κ°€μ¥ μ¤‘μ”
   - SOLID μ›μΉ™μ„ μ§€μΌμ•Ό ν•¨
   - μ—­ν• κ³Ό κµ¬ν„μ λ¶„λ¦¬

2. **μ¤ν”„λ§μ€ μ΄λ¥Ό νΈλ¦¬ν•κ² ν•΄μ£Όλ” λ„κµ¬**
   - DI μ»¨ν…μ΄λ„λ΅ OCP, DIP κ°€λ¥
   - λ‹¤ν•μ„±μ„ κ·Ήλ€ν™”ν•  μ μλ„λ΅ μ§€μ›
   - λ κ±°μ‹ μ½”λ“λ„ μ μ—°ν•κ² λ³€κ²½ κ°€λ¥

3. **κ²°κµ­ κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°**
   - μ¤ν”„λ§μ„ μ μ‚¬μ©ν•λ ¤λ©΄ κ°μ²΄ μ§€ν–¥ μ›λ¦¬λ¥Ό μ΄ν•΄ν•΄μ•Ό ν•¨
   - κΈ°μ λ³΄λ‹¤ μ›λ¦¬κ°€ λ¨Όμ €
   - μΆ‹μ€ κ°μ²΄ μ§€ν–¥ κ°λ°μκ°€ λμ–΄μ•Ό μ¤ν”„λ§λ„ μ μ‚¬μ©ν•  μ μμ

### λ‹¤μ΄μ–΄κ·Έλ¨: μ „μ²΄ κµ¬μ΅°

```mermaid
graph LR
    subgraph "κ°λ°μ"
        Dev[κ°μ²΄ μ§€ν–¥ μ›λ¦¬<br/>μ΄ν•΄]
    end

    subgraph "μ¤ν”„λ§ μ§€μ›"
        Spring[Spring Framework]
        DI[DI/IoC]
        Container[Container]
    end

    subgraph "κ²°κ³Ό"
        Good[μΆ‹μ€ μ„¤κ³„<br/>μ μ—°ν• μ½”λ“<br/>λ³€κ²½ μ©μ΄]
    end

    Dev -->|ν™μ©| Spring
    Spring --> DI
    Spring --> Container
    DI --> Good
    Container --> Good

    style Dev fill:#fff4e1
    style Spring fill:#e1f5ff
    style Good fill:#e6ffe6
```

### μ£Όμ” ν¬μΈνΈ

- **μ¤ν”„λ§μ ν•µμ‹¬**: μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•  μ μκ² λ•λ”λ‹¤
- **ν•µμ‹¬ κΈ°μ **: DI μ»¨ν…μ΄λ„λ΅ λ‹¤ν•μ„± + OCP + DIPλ¥Ό κ°€λ¥ν•κ² ν•λ‹¤
- **λ³Έμ§**: κ°μ²΄ μ§€ν–¥ μ›λ¦¬λ¥Ό μ΄ν•΄ν•΄μ•Ό μ¤ν”„λ§μ„ μ λ€λ΅ μ‚¬μ©ν•  μ μλ‹¤

### π’΅ Tip

- μ¤ν”„λ§μ„ ν•™μµν•  λ• "μ–΄λ–»κ²"λ³΄λ‹¤ "μ™"λ¥Ό λ¨Όμ € μ΄ν•΄ν•μ
- κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ λ¨Όμ € κ³µλ¶€ν•λ©΄ μ¤ν”„λ§μ΄ μ‰¬μ›μ§„λ‹¤
- μ¤ν”„λ§μ€ λ„κµ¬μΌ λΏ, μ¤‘μ”ν• κ±΄ μΆ‹μ€ μ„¤κ³„ λ¥λ ¥

### β οΈ μ£Όμμ‚¬ν•­

- μ¤ν”„λ§μ΄ λ¨λ“  λ¬Έμ λ¥Ό ν•΄κ²°ν•΄μ£Όμ§€λ” μ•λ”λ‹¤
- μλ»λ μ„¤κ³„λ” μ¤ν”„λ§μ„ μ‚¬μ©ν•΄λ„ λ‚μ μ½”λ“κ°€ λλ‹¤
- κ°μ²΄ μ§€ν–¥ μ›λ¦¬λ¥Ό λ¬΄μ‹ν•λ©΄ μ¤ν”„λ§μ μ¥μ μ„ ν™μ©ν•  μ μ—†λ‹¤

---

## λ©΄μ ‘ μ§λ¬Έ

### μ΄κΈ‰ κ°λ°μ (Junior)

**Q1. λ‹¤ν•μ„±λ§μΌλ΅ OCPμ™€ DIPλ¥Ό μ§€ν‚¬ μ μ—†λ” μ΄μ λ” λ¬΄μ—‡μΈκ°€μ”?**

<details>
<summary>λ‹µμ• λ³΄κΈ°</summary>

#### λ‹µμ•
λ‹¤ν•μ„±λ§μΌλ΅λ” OCPμ™€ DIPλ¥Ό μ™„μ „ν μ§€ν‚¬ μ μ—†μµλ‹λ‹¤. κ·Έ μ΄μ λ”:

1. **DIP μ„λ°**:
   ```java
   public class MemberService {
       private MemberRepository memberRepository = new MemoryMemberRepository();
   }
   ```
   - `MemberRepository` μΈν„°νμ΄μ¤(μ¶”μƒν™”)μ— μμ΅΄ν•μ§€λ§
   - `MemoryMemberRepository` κµ¬μ²΄ ν΄λμ¤(κµ¬μ²΄ν™”)μ—λ„ λ™μ‹μ— μμ΅΄ν•©λ‹λ‹¤
   - DIPλ” "μ¶”μƒν™”μ—λ§ μμ΅΄"ν•΄μ•Ό ν•λ‹¤κ³  λ§ν•©λ‹λ‹¤

2. **OCP μ„λ°**:
   ```java
   // κµ¬ν„ ν΄λμ¤λ¥Ό λ³€κ²½ν•λ ¤λ©΄
   // private MemberRepository memberRepository = new MemoryMemberRepository();
   private MemberRepository memberRepository = new JdbcMemberRepository();
   ```
   - κΈ°λ¥μ„ ν™•μ¥(κµ¬ν„ ν΄λμ¤ λ³€κ²½)ν•λ ¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό μμ •ν•΄μ•Ό ν•©λ‹λ‹¤
   - OCPλ” "ν™•μ¥μ—λ” μ—΄λ ¤μκ³ , λ³€κ²½μ—λ” λ‹«ν€μμ–΄μ•Ό" ν•λ‹¤κ³  λ§ν•©λ‹λ‹¤

λ”°λΌμ„ **λ³„λ„μ μ„¤μ •μ(μ΅°λ¦½μ)**κ°€ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ£Όμ…ν•΄μ•Ό OCPμ™€ DIPλ¥Ό μ§€ν‚¬ μ μμµλ‹λ‹¤.

</details>

**Q2. μ¤ν”„λ§μ DI μ»¨ν…μ΄λ„λ” λ¬΄μ—‡μ΄λ©°, μ™ ν•„μ”ν•κ°€μ”?**

<details>
<summary>λ‹µμ• λ³΄κΈ°</summary>

#### λ‹µμ•
**DI μ»¨ν…μ΄λ„**λ” μ¤ν”„λ§μ—μ„ κ°μ²΄μ μƒμ„±κ³Ό μμ΅΄κ΄€κ³„ κ΄€λ¦¬λ¥Ό λ‹΄λ‹Ήν•λ” μ»¨ν…μ΄λ„μ…λ‹λ‹¤.

**μ£Όμ” μ—­ν• **:
1. **κ°μ²΄ μƒμ„±**: μ• ν”λ¦¬μΌ€μ΄μ…μ— ν•„μ”ν• κ°μ²΄(λΉ)λ¥Ό μƒμ„±
2. **μƒλ…μ£ΌκΈ° κ΄€λ¦¬**: κ°μ²΄μ μ΄κΈ°ν™”λ¶€ν„° μ†λ©ΈκΉμ§€ κ΄€λ¦¬
3. **μμ΅΄κ΄€κ³„ μ£Όμ…**: κ°μ²΄ κ°„μ μμ΅΄κ΄€κ³„λ¥Ό μλ™μΌλ΅ μ—°κ²°

**ν•„μ”ν• μ΄μ **:
```java
// DI μ»¨ν…μ΄λ„ μ—†μ΄λ”
MemberRepository repo = new JdbcMemberRepository();
MemberService service = new MemberService(repo);  // μ§μ ‘ μƒμ„±ν•κ³  μ£Όμ…

// DI μ»¨ν…μ΄λ„ μ‚¬μ© μ‹
@Autowired
public MemberService(MemberRepository memberRepository) {
    this.memberRepository = memberRepository;  // μλ™ μ£Όμ…
}
```

1. **OCP, DIP μ¤€μ**: ν΄λΌμ΄μ–ΈνΈ μ½”λ“ λ³€κ²½ μ—†μ΄ κµ¬ν„ κ°μ²΄ λ³€κ²½ κ°€λ¥
2. **κ΄€μ‹¬μ‚¬ λ¶„λ¦¬**: λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό κ°μ²΄ μƒμ„± λ΅μ§ λ¶„λ¦¬
3. **μ‹±κΈ€ν†¤ κ΄€λ¦¬**: κ°μ²΄λ¥Ό μ‹±κΈ€ν†¤μΌλ΅ κ΄€λ¦¬ν•μ—¬ λ©”λ¨λ¦¬ ν¨μ¨ μ¦λ€
4. **μƒμ‚°μ„± ν–¥μƒ**: λ°λ³µμ μΈ κ°μ²΄ μƒμ„± μ½”λ“ μ κ±°

</details>

---

### μ¤‘κΈ‰ κ°λ°μ (Mid-Level)

**Q3. μ μ–΄μ μ—­μ „(IoC)μ΄λ€ λ¬΄μ—‡μ΄λ©°, μΌλ°μ μΈ ν”„λ΅κ·Έλ¨ νλ¦„κ³Ό μ–΄λ–»κ² λ‹¤λ¥Έκ°€μ”?**

<details>
<summary>λ‹µμ• λ³΄κΈ°</summary>

#### λ‹µμ•
**μ μ–΄μ μ—­μ „(IoC, Inversion of Control)**μ€ ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ κ°λ°μκ°€ μ•„λ‹ ν”„λ μ„μ›ν¬κ°€ μ μ–΄ν•λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.

**μΌλ°μ μΈ ν”„λ΅κ·Έλ¨ νλ¦„** (κ°λ°μκ°€ μ μ–΄):
```java
public class MemberService {
    private MemberRepository repository;

    public MemberService() {
        // λ‚΄κ°€ μ§μ ‘ μ–΄λ–¤ κµ¬ν„μ²΄λ¥Ό μ‚¬μ©ν• μ§€ κ²°μ •ν•κ³  μƒμ„±
        this.repository = new MemoryMemberRepository();
    }

    public void join(Member member) {
        repository.save(member);
    }
}
```
- κ°λ°μκ°€ μ§μ ‘ κ°μ²΄λ¥Ό μƒμ„±
- κ°λ°μκ°€ λ©”μ„λ“ νΈμ¶ μ‹μ  κ²°μ •
- κ°λ°μκ°€ ν”„λ΅κ·Έλ¨ νλ¦„ μ μ–΄

**IoCκ°€ μ μ©λ νλ¦„** (ν”„λ μ„μ›ν¬κ°€ μ μ–΄):
```java
@Service
public class MemberService {
    private final MemberRepository repository;

    // ν”„λ μ„μ›ν¬κ°€ μ–΄λ–¤ κµ¬ν„μ²΄λ¥Ό μ£Όμ…ν• μ§€ κ²°μ •
    @Autowired
    public MemberService(MemberRepository repository) {
        this.repository = repository;
    }

    public void join(Member member) {
        repository.save(member);
    }
}
```
- ν”„λ μ„μ›ν¬(μ¤ν”„λ§)κ°€ κ°μ²΄ μƒμ„±
- ν”„λ μ„μ›ν¬κ°€ λ©”μ„λ“ νΈμ¶ (μƒμ„±μ, μ΄κΈ°ν™” λ“±)
- ν”„λ μ„μ›ν¬κ°€ ν”„λ΅κ·Έλ¨ νλ¦„ μ μ–΄

**μ°¨μ΄μ **:
| κµ¬λ¶„ | μΌλ°μ μΈ νλ¦„ | IoC |
|------|--------------|-----|
| κ°μ²΄ μƒμ„± | κ°λ°μκ°€ μ§μ ‘ `new` | ν”„λ μ„μ›ν¬κ°€ μƒμ„± |
| μμ΅΄μ„± κ΄€λ¦¬ | κ°λ°μκ°€ μ§μ ‘ μ£Όμ… | ν”„λ μ„μ›ν¬κ°€ μλ™ μ£Όμ… |
| μ μ–΄κ¶ | κ°λ°μ | ν”„λ μ„μ›ν¬ |
| μ½”λ“ κ²°ν•©λ„ | λ†’μ | λ‚®μ |

**μ¥μ **:
- κ°λ°μλ” λΉ„μ¦λ‹μ¤ λ΅μ§μ—λ§ μ§‘μ¤‘
- κ°μ²΄ κ°„ κ²°ν•©λ„ κ°μ†
- μ½”λ“ μ¬μ‚¬μ©μ„± μ¦κ°€
- ν…μ¤νΈ μ©μ΄

**ν”„λ μ„μ›ν¬ vs λΌμ΄λΈλ¬λ¦¬**:
- **ν”„λ μ„μ›ν¬**: IoC κ°λ…μ΄ μ μ©λμ–΄ μμ (μ¤ν”„λ§, Django)
- **λΌμ΄λΈλ¬λ¦¬**: κ°λ°μκ°€ μ§μ ‘ νΈμ¶ (JQuery, Lombok)

</details>

**Q4. μ¤ν”„λ§μ„ μ‚¬μ©ν•λ©΄ μ–΄λ–»κ² OCPμ™€ DIPλ¥Ό μ§€ν‚¬ μ μλ‚μ”? κµ¬μ²΄μ μΈ μμ λ΅ μ„¤λ…ν•΄μ£Όμ„Έμ”.**

<details>
<summary>λ‹µμ• λ³΄κΈ°</summary>

#### λ‹µμ•

μ¤ν”„λ§μ **DI(μμ΅΄μ„± μ£Όμ…)** κΈ°λ¥μ„ ν†µν•΄ OCPμ™€ DIPλ¥Ό μ§€ν‚¬ μ μμµλ‹λ‹¤.

**λ¬Έμ  μƒν™©**: λ©”λ¨λ¦¬ μ €μ¥μ†μ—μ„ DB μ €μ¥μ†λ΅ λ³€κ²½

#### μ¤ν”„λ§ μ—†μ΄ (OCP, DIP μ„λ°)
```java
public class MemberService {
    // κµ¬ν„ ν΄λμ¤λ¥Ό μ§μ ‘ μƒμ„± β†’ DIP μ„λ°
    // private MemberRepository repo = new MemoryMemberRepository();

    // λ³€κ²½ν•λ ¤λ©΄ μ΄ μ½”λ“λ¥Ό μ§μ ‘ μμ •ν•΄μ•Ό ν•¨ β†’ OCP μ„λ°
    private MemberRepository repo = new JdbcMemberRepository();
}
```

**λ¬Έμ μ **:
- β— DIP μ„λ°: μ¶”μƒν™”(`MemberRepository`)μ™€ κµ¬μ²΄ν™”(`JdbcMemberRepository`) λ¨λ‘μ— μμ΅΄
- β— OCP μ„λ°: κΈ°λ¥ ν™•μ¥(μ €μ¥μ† λ³€κ²½) μ‹ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μμ • ν•„μ”

#### μ¤ν”„λ§ μ‚¬μ© (OCP, DIP μ¤€μ)

**1λ‹¨κ³„: ν΄λΌμ΄μ–ΈνΈ μ½”λ“ (λ³€κ²½ μ—†μ!)**
```java
@Service
public class MemberService {
    private final MemberRepository memberRepository;

    // μƒμ„±μ μ£Όμ…: μΈν„°νμ΄μ¤λ§ μμ΅΄ β†’ DIP μ¤€μ β“
    @Autowired
    public MemberService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    public void join(Member member) {
        memberRepository.save(member);
    }
}
```

**2λ‹¨κ³„: μ„¤μ • νμΌ (μ—¬κΈ°λ§ λ³€κ²½)**
```java
@Configuration
public class AppConfig {

    @Bean
    public MemberRepository memberRepository() {
        // λ©”λ¨λ¦¬ λ²„μ „ μ‚¬μ©
        // return new MemoryMemberRepository();

        // DB λ²„μ „μΌλ΅ λ³€κ²½ β†’ OCP μ¤€μ β“
        return new JdbcMemberRepository();
    }

    @Bean
    public MemberService memberService() {
        return new MemberService(memberRepository());
    }
}
```

**λ™μ‘ κ³Όμ •**:
```mermaid
sequenceDiagram
    participant App as Application
    participant Spring as Spring Container
    participant Config as AppConfig
    participant Service as MemberService
    participant Repo as JdbcMemberRepository

    App->>Spring: μ• ν”λ¦¬μΌ€μ΄μ… μ‹μ‘
    Spring->>Config: μ„¤μ • μ •λ³΄ μ½κΈ°
    Config->>Spring: JdbcMemberRepository μƒμ„±
    Config->>Spring: MemberService μƒμ„±
    Spring->>Service: JdbcMemberRepository μ£Όμ…
    Service-->>Spring: μ£Όμ… μ™„λ£
    App->>Service: μ‚¬μ©
```

**κ²°κ³Ό**:
- β“ **DIP μ¤€μ**: `MemberService`λ” `MemberRepository` μΈν„°νμ΄μ¤λ§ μμ΅΄
- β“ **OCP μ¤€μ**: κµ¬ν„μ²΄ λ³€κ²½ μ‹ `AppConfig`λ§ μμ •, ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” λ³€κ²½ μ—†μ
- β“ **μ μ—°ν• ν™•μ¥**: μƒλ΅μ΄ μ €μ¥μ† κµ¬ν„μ²΄ μ¶”κ°€ μ‹μ—λ„ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ λ³€κ²½ λ¶ν•„μ”

**μ‹¤λ¬΄ μμ‹**:
```java
// κ°λ° ν™κ²½
@Profile("dev")
@Bean
public MemberRepository memberRepository() {
    return new MemoryMemberRepository();  // λ©”λ¨λ¦¬ μ‚¬μ©
}

// μ΄μ ν™κ²½
@Profile("prod")
@Bean
public MemberRepository memberRepository() {
    return new JdbcMemberRepository();  // DB μ‚¬μ©
}
```
- ν™κ²½μ— λ”°λΌ λ‹¤λ¥Έ κµ¬ν„μ²΄ μ‚¬μ©
- ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” μ „ν€ λ³€κ²½ μ—†μ

</details>

---

### κ³ κΈ‰ κ°λ°μ (Senior)

**Q5. μ¤ν”„λ§μ ν•µμ‹¬ κ°€μΉλ” λ¬΄μ—‡μ΄λ©°, μ΄κ²ƒμ΄ μ• ν”λ¦¬μΌ€μ΄μ… μ„¤κ³„μ— μ–΄λ–¤ μν–¥μ„ λ―ΈμΉλ‚μ”?**

<details>
<summary>λ‹µμ• λ³΄κΈ°</summary>

#### λ‹µμ•

μ¤ν”„λ§μ ν•µμ‹¬ κ°€μΉλ” **"μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•  μ μλ„λ΅ λ•λ” κ²ƒ"**μ…λ‹λ‹¤. λ‹¨μν κΈ°μ μ„ μ κ³µν•λ” κ²ƒμ΄ μ•„λ‹λΌ, κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ‹¤ν„ν•  μ μλ” ν™κ²½μ„ μ κ³µν•λ” κ²ƒμ΄ λ³Έμ§μ…λ‹λ‹¤.

#### 1. ν•µμ‹¬ κ°€μΉμ™€ μ² ν•™

**"μ¤ν”„λ§μ€ κ°μ²΄ μ§€ν–¥μ κ°•λ ¥ν• μ¥μ μΈ λ‹¤ν•μ„±μ„ κ·Ήλ€ν™”ν•  μ μκ² λ„μ™€μ¤€λ‹¤"**

```mermaid
graph TB
    subgraph "μ¤ν”„λ§μ λ©ν‘"
        Goal[μΆ‹μ€ κ°μ²΄ μ§€ν–¥<br/>μ• ν”λ¦¬μΌ€μ΄μ…]
    end

    subgraph "μ κ³µ κΈ°μ "
        DI[DI<br/>Dependency Injection]
        IoC[IoC Container]
        AOP[AOP]
        PSA[PSA<br/>Portable Service Abstraction]
    end

    subgraph "λ‹¬μ„± μ›μΉ™"
        SOLID[SOLID μ›μΉ™]
        Poly[λ‹¤ν•μ„± κ·Ήλ€ν™”]
        Loose[λμ¨ν• κ²°ν•©]
    end

    Goal --> DI
    Goal --> IoC
    Goal --> AOP
    Goal --> PSA

    DI --> SOLID
    IoC --> SOLID
    SOLID --> Poly
    SOLID --> Loose
```

#### 2. μ• ν”λ¦¬μΌ€μ΄μ… μ„¤κ³„μ— λ―ΈμΉλ” μν–¥

**A. μ—­ν• κ³Ό κµ¬ν„μ λ¶„λ¦¬ κ°•μ **
```java
// μΈν„°νμ΄μ¤(μ—­ν• ) μ •μ
public interface PaymentService {
    void pay(int amount);
}

// κµ¬ν„μ²΄λ“¤
@Service("cardPayment")
public class CardPaymentService implements PaymentService {
    public void pay(int amount) { /* μΉ΄λ“ κ²°μ  */ }
}

@Service("kakaoPayment")
public class KakaoPaymentService implements PaymentService {
    public void pay(int amount) { /* μΉ΄μΉ΄μ¤νμ΄ κ²°μ  */ }
}

// ν΄λΌμ΄μ–ΈνΈ
@Controller
public class OrderController {
    private final PaymentService paymentService;

    @Autowired
    public OrderController(@Qualifier("cardPayment") PaymentService paymentService) {
        this.paymentService = paymentService;
    }
}
```

**μ„¤κ³„ μν–¥**:
- μμ—°μ¤λ½κ² μΈν„°νμ΄μ¤ κΈ°λ° μ„¤κ³„
- κµ¬ν„μ²΄ κµμ²΄κ°€ μμ λ΅μ›€
- ν…μ¤νΈ μ‹ Mock κ°μ²΄ μ£Όμ… μ©μ΄

**B. λ‹¨μΌ μ±…μ„ μ›μΉ™(SRP) μ μ© μ©μ΄**
```java
// λ‚μ μ: ν•λ‚μ ν΄λμ¤κ°€ μ—¬λ¬ μ±…μ„
public class UserService {
    public void register(User user) { }
    public void sendEmail(String email) { }
    public void log(String message) { }
}

// μΆ‹μ€ μ: μ±…μ„ λ¶„λ¦¬
@Service
public class UserService {
    private final EmailService emailService;
    private final LogService logService;

    @Autowired
    public UserService(EmailService emailService, LogService logService) {
        this.emailService = emailService;
        this.logService = logService;
    }

    public void register(User user) {
        // μ‚¬μ©μ λ“±λ΅ λ΅μ§λ§
        emailService.send(user.getEmail());
        logService.log("User registered: " + user.getId());
    }
}

@Service
public class EmailService {
    public void send(String email) { /* μ΄λ©”μΌ λ°μ†΅ μ±…μ„ */ }
}

@Service
public class LogService {
    public void log(String message) { /* λ΅κΉ… μ±…μ„ */ }
}
```

**μ„¤κ³„ μν–¥**:
- κ° ν΄λμ¤κ°€ ν•λ‚μ λ…ν™•ν• μ±…μ„
- λ³€κ²½ μ‹ μν–¥ λ²”μ„κ°€ μ‘μ
- μ¬μ‚¬μ©μ„± μ¦κ°€

**C. κ³„μΈµ κµ¬μ΅°(Layered Architecture) μμ—°μ¤λ¬μ΄ μ μ©**
```java
// Presentation Layer
@RestController
@RequestMapping("/api/users")
public class UserController {
    private final UserService userService;

    @Autowired
    public UserController(UserService userService) {
        this.userService = userService;
    }
}

// Business Logic Layer
@Service
public class UserService {
    private final UserRepository userRepository;

    @Autowired
    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
}

// Data Access Layer
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
}
```

**μ„¤κ³„ μν–¥**:
- κ° κ³„μΈµμ μ±…μ„μ΄ λ…ν™•
- μƒμ„ κ³„μΈµμ΄ ν•μ„ κ³„μΈµμ— μμ΅΄ (DIP)
- κ³„μΈµ κ°„ λμ¨ν• κ²°ν•©

#### 3. μ‹¤λ¬΄ μ„¤κ³„ ν¨ν„΄μ— λ―ΈμΉλ” μν–¥

**A. μ „λµ ν¨ν„΄ κµ¬ν„ μ©μ΄**
```java
// μ „λµ μΈν„°νμ΄μ¤
public interface DiscountPolicy {
    int discount(int price);
}

// μ „λµ κµ¬ν„μ²΄λ“¤
@Component
public class FixDiscountPolicy implements DiscountPolicy {
    public int discount(int price) { return price - 1000; }
}

@Component
public class RateDiscountPolicy implements DiscountPolicy {
    public int discount(int price) { return price * 10 / 100; }
}

// μ»¨ν…μ¤νΈ
@Service
public class OrderService {
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderService(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;  // λ°νƒ€μ„μ— μ „λµ μ£Όμ…
    }
}
```

**B. ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄ (JdbcTemplate, RestTemplate)**
```java
@Repository
public class MemberRepository {
    private final JdbcTemplate jdbcTemplate;

    public Member findById(Long id) {
        // λ°λ³µμ μΈ JDBC μ½”λ“λ” ν…ν”λ¦Ώμ΄ μ²λ¦¬
        return jdbcTemplate.queryForObject(
            "SELECT * FROM member WHERE id = ?",
            memberRowMapper(),
            id
        );
    }
}
```

#### 4. ν…μ¤νΈ μ©μ΄μ„±

```java
// λ‹¨μ„ ν…μ¤νΈ
@Test
void orderTest() {
    // Mock κ°μ²΄ μ£Όμ…μΌλ΅ ν…μ¤νΈ μ©μ΄
    MemberRepository mockRepo = mock(MemberRepository.class);
    DiscountPolicy mockPolicy = mock(DiscountPolicy.class);

    OrderService orderService = new OrderService(mockRepo, mockPolicy);
    // ν…μ¤νΈ λ΅μ§
}

// ν†µν•© ν…μ¤νΈ
@SpringBootTest
class OrderServiceIntegrationTest {
    @Autowired
    private OrderService orderService;  // μ‹¤μ  λΉ μ£Όμ…

    @Test
    void integrationTest() {
        // μ‹¤μ  ν™κ²½κ³Ό λ™μΌν•κ² ν…μ¤νΈ
    }
}
```

#### 5. κ²°λ΅ 

μ¤ν”„λ§μ ν•µμ‹¬ κ°€μΉκ°€ μ„¤κ³„μ— λ―ΈμΉλ” μν–¥:

1. **μμ—°μ¤λ¬μ΄ κ°μ²΄ μ§€ν–¥ μ„¤κ³„**
   - μΈν„°νμ΄μ¤ κΈ°λ° μ„¤κ³„ μ λ„
   - μ—­ν• κ³Ό κµ¬ν„μ λ…ν™•ν• λ¶„λ¦¬

2. **SOLID μ›μΉ™ μ¤€μ**
   - DIλ¥Ό ν†µν• DIP μλ™ μ¤€μ
   - ν™•μ¥μ— μ—΄λ ¤μκ³  λ³€κ²½μ— λ‹«ν κµ¬μ΅°

3. **μ μ§€λ³΄μμ„± ν–¥μƒ**
   - λ³€κ²½ μν–¥ λ²”μ„ μµμ†ν™”
   - μ½”λ“ μ¬μ‚¬μ©μ„± μ¦κ°€

4. **ν…μ¤νΈ μ©μ΄μ„±**
   - μμ΅΄μ„±μ„ μ‰½κ² κµμ²΄ κ°€λ¥
   - λ‹¨μ„ ν…μ¤νΈ μ‘μ„± νΈλ¦¬

5. **ν‘μ—… ν¨μ¨μ„±**
   - κ³„μΈµ κµ¬μ΅°κ°€ λ…ν™•
   - μ—­ν•  λ¶„λ‹΄μ΄ μ‰¬μ›€

**ν•µμ‹¬ λ©”μ‹μ§€**: μ¤ν”„λ§μ€ λ‹¨μν• ν”„λ μ„μ›ν¬κ°€ μ•„λ‹λΌ **μΆ‹μ€ μ„¤κ³„λ¥Ό κ°•μ ν•κ³  μ§€μ›ν•λ” λ„κµ¬**μ΄λ©°, μ΄λ¥Ό ν†µν•΄ κ°λ°μλ” μμ—°μ¤λ½κ² μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ λ”°λ¥΄κ² λ©λ‹λ‹¤. λ”°λΌμ„ μ¤ν”„λ§μ„ μ μ‚¬μ©ν•λ ¤λ©΄ κΈ°μ λ³΄λ‹¤ **κ°μ²΄ μ§€ν–¥ μ›λ¦¬λ¥Ό λ¨Όμ € μ΄ν•΄**ν•΄μ•Ό ν•©λ‹λ‹¤.

</details>

---

## ν•™μµ μ²΄ν¬λ¦¬μ¤νΈ
- [ ] λ‹¤ν•μ„±λ§μΌλ΅ OCP, DIPλ¥Ό μ§€ν‚¬ μ μ—†λ” μ΄μ λ¥Ό μ„¤λ…ν•  μ μλ‹¤
- [ ] μ¤ν”„λ§μ DI μ»¨ν…μ΄λ„κ°€ ν•λ” μ—­ν• μ„ μ„¤λ…ν•  μ μλ‹¤
- [ ] IoC(μ μ–΄μ μ—­μ „)μ κ°λ…μ„ μ΄ν•΄ν•κ³  μ„¤λ…ν•  μ μλ‹¤
- [ ] μ¤ν”„λ§μ΄ μ–΄λ–»κ² OCPμ™€ DIPλ¥Ό μ§€μ›ν•λ”μ§€ μ½”λ“λ΅ μ„¤λ…ν•  μ μλ‹¤
- [ ] μ¤ν”„λ§μ ν•µμ‹¬ κ°€μΉκ°€ λ¬΄μ—‡μΈμ§€ μ΄ν•΄ν•κ³  μ„¤λ…ν•  μ μλ‹¤
- [ ] λ©΄μ ‘ μ§λ¬Έμ— λ‹µν•  μ μλ‹¤

## λ‹¤μ ν•™μµ
μ΄κ²ƒμΌλ΅ "1. κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ™€ μ¤ν”„λ§" μ±•ν„°μ λ¨λ“  ν•™μµμ„ μ™„λ£ν–μµλ‹λ‹¤.

λ‹¤μ μ±•ν„°μ—μ„λ” μ¤ν”„λ§ μ»¨ν…μ΄λ„μ™€ λΉμ μ‹¤μ  λ™μ‘ λ°©μ‹, μμ΅΄κ΄€κ³„ μλ™ μ£Όμ… λ“± μ¤ν”„λ§μ ν•µμ‹¬ κΈ°λ¥μ„ λ” κΉμ΄ ν•™μµν•κ² λ©λ‹λ‹¤.

---

## π“ μ°Έκ³ μλ£

- [Spring Framework κ³µμ‹ λ¬Έμ„](https://spring.io/projects/spring-framework)
- [Inversion of Control Containers and the Dependency Injection pattern - Martin Fowler](https://martinfowler.com/articles/injection.html)
- ν† λΉ„μ μ¤ν”„λ§ 3.1 - μ΄μΌλ―Ό μ €
- κ°μ²΄μ§€ν–¥μ μ‚¬μ‹¤κ³Ό μ¤ν•΄ - μ΅°μνΈ μ €

---

## λ„¤λΉ„κ²μ΄μ…

β¬…οΈ [μ΄μ „: 1-4. μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™(SOLID)](./1-4-μΆ‹μ€κ°μ²΄μ§€ν–¥μ„¤κ³„μ5κ°€μ§€μ›μΉ™SOLID.md)

---

**μ‘μ„± μ™„λ£μΌ**: 2025-01-23
**λ¬Έμ„ λ²„μ „**: 1.0
