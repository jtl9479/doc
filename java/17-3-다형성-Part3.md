# 17-3. ë‹¤í˜•ì„± (Polymorphism) - Part 3

## ğŸ“‹ ëª©ì°¨
1. [ì‹¤ì „ í”„ë¡œì íŠ¸: ì‡¼í•‘ëª° í†µí•© ê²°ì œ ì‹œìŠ¤í…œ](#ì‹¤ì „-í”„ë¡œì íŠ¸)
2. [FAQ](#faq)
3. [ë©´ì ‘ ì§ˆë¬¸](#ë©´ì ‘-ì§ˆë¬¸)

---

## ğŸ’³ ì‹¤ì „ í”„ë¡œì íŠ¸: ì‡¼í•‘ëª° í†µí•© ê²°ì œ ì‹œìŠ¤í…œ {#ì‹¤ì „-í”„ë¡œì íŠ¸}

### í”„ë¡œì íŠ¸ ê°œìš”
ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì—ì„œ ì‹ ìš©ì¹´ë“œ, ê³„ì¢Œì´ì²´, ì¹´ì¹´ì˜¤í˜ì´, ë„¤ì´ë²„í˜ì´, í† ìŠ¤, í˜ì´íŒ” ë“± ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ì„ í†µí•© ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œì„ êµ¬í˜„í•©ë‹ˆë‹¤. ë‹¤í˜•ì„±ì„ í™œìš©í•˜ì—¬ ê²°ì œ ìˆ˜ë‹¨ì´ ì¶”ê°€ë˜ì–´ë„ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ë¥¼ ë§Œë“­ë‹ˆë‹¤.

### ìš”êµ¬ì‚¬í•­

#### ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­
1. ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ ì§€ì›
2. ê²°ì œ ìˆ˜ë‹¨ë³„ ìˆ˜ìˆ˜ë£Œ ê³„ì‚°
3. ê²°ì œ ìŠ¹ì¸/ì·¨ì†Œ ì²˜ë¦¬
4. í• ë¶€/í¬ì¸íŠ¸ ì ìš©
5. ê²°ì œ ë‚´ì—­ ê´€ë¦¬

#### ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­
1. í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° (ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ ì¶”ê°€ ìš©ì´)
2. íƒ€ì… ì•ˆì „ì„±
3. ì½”ë“œ ì¬ì‚¬ìš©ì„±
4. ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±

### ì „ì²´ ì½”ë“œ êµ¬í˜„

```java
/**
 * ëª¨ë“  ê²°ì œ ìˆ˜ë‹¨ì˜ ë¶€ëª¨ í´ë˜ìŠ¤
 */
public abstract class PaymentMethod {
    protected String paymentId;
    protected String paymentName;
    protected long amount;
    protected String status;  // PENDING, PROCESSING, APPROVED, CANCELLED, FAILED

    public PaymentMethod(String paymentId, String paymentName) {
        this.paymentId = paymentId;
        this.paymentName = paymentName;
        this.status = "PENDING";
    }

    // ì¶”ìƒ ë©”ì„œë“œ - ê° ê²°ì œ ìˆ˜ë‹¨ë§ˆë‹¤ ë‹¤ë¥¸ ì²˜ë¦¬ ë°©ì‹
    public abstract boolean processPayment(long amount);
    public abstract boolean cancelPayment();
    public abstract long calculateFee(long amount);
    public abstract String getPaymentType();
    public abstract void showPaymentDetails();

    public String getStatus() {
        return status;
    }

    protected String formatAmount(long amount) {
        return String.format("%,d", amount) + "ì›";
    }
}

/**
 * ì‹ ìš©ì¹´ë“œ ê²°ì œ
 */
public class CreditCardPayment extends PaymentMethod {
    private String cardNumber;
    private String cardHolder;
    private String expiryDate;
    private String cvv;
    private String cardType;  // VISA, MASTER, AMEX
    private int installmentMonths;

    public CreditCardPayment(String paymentId, String cardNumber, String cardHolder,
                            String expiryDate, String cvv, String cardType) {
        super(paymentId, "ì‹ ìš©ì¹´ë“œ");
        this.cardNumber = maskCardNumber(cardNumber);
        this.cardHolder = cardHolder;
        this.expiryDate = expiryDate;
        this.cvv = cvv;
        this.cardType = cardType;
        this.installmentMonths = 0;
    }

    @Override
    public boolean processPayment(long amount) {
        System.out.println("\nğŸ’³ ì‹ ìš©ì¹´ë“œ ê²°ì œ ì²˜ë¦¬");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");

        this.amount = amount;
        status = "PROCESSING";

        // ì¹´ë“œ ìœ íš¨ì„± ê²€ì¦
        System.out.println("1. ì¹´ë“œ ìœ íš¨ì„± ê²€ì¦...");
        if (!validateCard()) {
            status = "FAILED";
            System.out.println("âŒ ì¹´ë“œ ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨");
            return false;
        }
        System.out.println("   âœ… ì¹´ë“œ ìœ íš¨");

        // í•œë„ í™•ì¸
        System.out.println("2. í•œë„ í™•ì¸...");
        System.out.println("   âœ… í•œë„ ì¶©ë¶„");

        // PGì‚¬ ìŠ¹ì¸ ìš”ì²­
        System.out.println("3. PGì‚¬ ìŠ¹ì¸ ìš”ì²­...");
        String approvalNumber = generateApprovalNumber();
        System.out.println("   âœ… ìŠ¹ì¸ë²ˆí˜¸: " + approvalNumber);

        // í• ë¶€ ì •ë³´
        if (installmentMonths > 0) {
            long monthlyPayment = amount / installmentMonths;
            System.out.println("4. í• ë¶€: " + installmentMonths + "ê°œì›”");
            System.out.println("   ì›” ë‚©ì…ì•¡: " + formatAmount(monthlyPayment));
        }

        status = "APPROVED";
        System.out.println("\nâœ… ê²°ì œ ìŠ¹ì¸ ì™„ë£Œ");
        System.out.println("ê²°ì œ ê¸ˆì•¡: " + formatAmount(amount));

        return true;
    }

    @Override
    public boolean cancelPayment() {
        if (!status.equals("APPROVED")) {
            System.out.println("âŒ ì·¨ì†Œí•  ìˆ˜ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤: " + status);
            return false;
        }

        System.out.println("\nğŸ”„ ì‹ ìš©ì¹´ë“œ ê²°ì œ ì·¨ì†Œ");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ì·¨ì†Œ ê¸ˆì•¡: " + formatAmount(amount));

        status = "CANCELLED";
        System.out.println("âœ… ì·¨ì†Œ ì™„ë£Œ (3-5ì˜ì—…ì¼ ë‚´ í™˜ë¶ˆ)");

        return true;
    }

    @Override
    public long calculateFee(long amount) {
        // ì‹ ìš©ì¹´ë“œ ìˆ˜ìˆ˜ë£Œ: 2.5%
        // í•´ì™¸ ì¹´ë“œëŠ” ì¶”ê°€ 1%
        double feeRate = 0.025;

        if (cardType.equals("AMEX")) {
            feeRate += 0.01;  // AMEXëŠ” ìˆ˜ìˆ˜ë£Œ ë†’ìŒ
        }

        return (long)(amount * feeRate);
    }

    @Override
    public String getPaymentType() {
        return "ì‹ ìš©ì¹´ë“œ (" + cardType + ")";
    }

    @Override
    public void showPaymentDetails() {
        System.out.println("\nğŸ’³ ê²°ì œ ìƒì„¸");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ê²°ì œ ìˆ˜ë‹¨: " + getPaymentType());
        System.out.println("ì¹´ë“œë²ˆí˜¸: " + cardNumber);
        System.out.println("ì¹´ë“œ ì†Œìœ ì: " + cardHolder);
        System.out.println("ìœ íš¨ê¸°ê°„: " + expiryDate);
        System.out.println("ê²°ì œ ê¸ˆì•¡: " + formatAmount(amount));
        System.out.println("ìˆ˜ìˆ˜ë£Œ: " + formatAmount(calculateFee(amount)));

        if (installmentMonths > 0) {
            System.out.println("í• ë¶€: " + installmentMonths + "ê°œì›”");
        }

        System.out.println("ìƒíƒœ: " + status);
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    }

    public void setInstallment(int months) {
        this.installmentMonths = months;
    }

    private boolean validateCard() {
        // ì‹¤ì œë¡œëŠ” Luhn ì•Œê³ ë¦¬ì¦˜ ë“±ìœ¼ë¡œ ê²€ì¦
        return cardNumber.length() >= 16 && !expiryDate.isEmpty() && cvv.length() == 3;
    }

    private String maskCardNumber(String cardNumber) {
        if (cardNumber.length() >= 16) {
            return cardNumber.substring(0, 4) + "-****-****-" + cardNumber.substring(12);
        }
        return cardNumber;
    }

    private String generateApprovalNumber() {
        return "AP" + System.currentTimeMillis() % 100000000;
    }
}

/**
 * ê³„ì¢Œì´ì²´ ê²°ì œ
 */
public class BankTransferPayment extends PaymentMethod {
    private String bankName;
    private String accountNumber;
    private String accountHolder;
    private boolean isCmsAgreed;  // ìë™ì´ì²´ ë™ì˜

    public BankTransferPayment(String paymentId, String bankName,
                               String accountNumber, String accountHolder) {
        super(paymentId, "ê³„ì¢Œì´ì²´");
        this.bankName = bankName;
        this.accountNumber = maskAccountNumber(accountNumber);
        this.accountHolder = accountHolder;
        this.isCmsAgreed = false;
    }

    @Override
    public boolean processPayment(long amount) {
        System.out.println("\nğŸ¦ ê³„ì¢Œì´ì²´ ê²°ì œ ì²˜ë¦¬");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");

        this.amount = amount;
        status = "PROCESSING";

        // ê³„ì¢Œ ìœ íš¨ì„± ê²€ì¦
        System.out.println("1. ê³„ì¢Œ ìœ íš¨ì„± ê²€ì¦...");
        System.out.println("   ì€í–‰: " + bankName);
        System.out.println("   ê³„ì¢Œ: " + accountNumber);
        System.out.println("   âœ… ê³„ì¢Œ í™•ì¸ ì™„ë£Œ");

        // ì”ì•¡ í™•ì¸
        System.out.println("2. ì”ì•¡ í™•ì¸...");
        System.out.println("   âœ… ì”ì•¡ ì¶©ë¶„");

        // ì´ì²´ ì‹¤í–‰
        System.out.println("3. ì´ì²´ ì‹¤í–‰ ì¤‘...");
        System.out.println("   ì†¡ê¸ˆì¸: " + accountHolder);
        System.out.println("   ê¸ˆì•¡: " + formatAmount(amount));

        status = "APPROVED";
        System.out.println("\nâœ… ì´ì²´ ì™„ë£Œ");

        return true;
    }

    @Override
    public boolean cancelPayment() {
        if (!status.equals("APPROVED")) {
            System.out.println("âŒ ì·¨ì†Œí•  ìˆ˜ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤: " + status);
            return false;
        }

        System.out.println("\nğŸ”„ ê³„ì¢Œì´ì²´ ì·¨ì†Œ");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("í™˜ë¶ˆ ê¸ˆì•¡: " + formatAmount(amount));
        System.out.println("í™˜ë¶ˆ ê³„ì¢Œ: " + accountNumber);

        status = "CANCELLED";
        System.out.println("âœ… í™˜ë¶ˆ ì²˜ë¦¬ ì™„ë£Œ (ì¦‰ì‹œ ì…ê¸ˆ)");

        return true;
    }

    @Override
    public long calculateFee(long amount) {
        // ê³„ì¢Œì´ì²´ ìˆ˜ìˆ˜ë£Œ: 500ì› ê³ ì •
        return 500;
    }

    @Override
    public String getPaymentType() {
        return "ê³„ì¢Œì´ì²´ (" + bankName + ")";
    }

    @Override
    public void showPaymentDetails() {
        System.out.println("\nğŸ¦ ê²°ì œ ìƒì„¸");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ê²°ì œ ìˆ˜ë‹¨: " + getPaymentType());
        System.out.println("ê³„ì¢Œë²ˆí˜¸: " + accountNumber);
        System.out.println("ì˜ˆê¸ˆì£¼: " + accountHolder);
        System.out.println("ê²°ì œ ê¸ˆì•¡: " + formatAmount(amount));
        System.out.println("ìˆ˜ìˆ˜ë£Œ: " + formatAmount(calculateFee(amount)));
        System.out.println("ìƒíƒœ: " + status);
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    }

    private String maskAccountNumber(String accountNumber) {
        if (accountNumber.length() >= 10) {
            return accountNumber.substring(0, 3) + "-****-" +
                   accountNumber.substring(accountNumber.length() - 3);
        }
        return accountNumber;
    }
}

/**
 * ê°„í¸ê²°ì œ (ì¹´ì¹´ì˜¤í˜ì´, ë„¤ì´ë²„í˜ì´, í† ìŠ¤ ë“±)
 */
public class SimplePayment extends PaymentMethod {
    private String provider;  // KAKAO, NAVER, TOSS
    private String userId;
    private boolean hasBiometric;
    private int pointsToUse;

    public SimplePayment(String paymentId, String provider, String userId) {
        super(paymentId, "ê°„í¸ê²°ì œ");
        this.provider = provider;
        this.userId = userId;
        this.hasBiometric = true;
        this.pointsToUse = 0;
    }

    @Override
    public boolean processPayment(long amount) {
        System.out.println("\nğŸ“± " + getProviderName() + " ê²°ì œ ì²˜ë¦¬");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");

        this.amount = amount;
        status = "PROCESSING";

        // ìƒì²´ ì¸ì¦
        if (hasBiometric) {
            System.out.println("1. ìƒì²´ ì¸ì¦...");
            System.out.println("   ğŸ” ì§€ë¬¸ ì¸ì¦ ì„±ê³µ");
        }

        // í¬ì¸íŠ¸ ì‚¬ìš©
        long finalAmount = amount;
        if (pointsToUse > 0) {
            finalAmount = amount - pointsToUse;
            System.out.println("2. í¬ì¸íŠ¸ ì‚¬ìš©: " + formatAmount(pointsToUse));
        }

        // ê²°ì œ ìŠ¹ì¸
        System.out.println("3. ê²°ì œ ìŠ¹ì¸ ìš”ì²­...");
        System.out.println("   ìµœì¢… ê²°ì œ: " + formatAmount(finalAmount));

        status = "APPROVED";
        System.out.println("\nâœ… ê²°ì œ ì™„ë£Œ");

        // í¬ì¸íŠ¸ ì ë¦½
        long earnedPoints = amount / 100;  // 1% ì ë¦½
        System.out.println("ğŸ’° ì ë¦½ í¬ì¸íŠ¸: " + earnedPoints + "P");

        return true;
    }

    @Override
    public boolean cancelPayment() {
        if (!status.equals("APPROVED")) {
            System.out.println("âŒ ì·¨ì†Œí•  ìˆ˜ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤: " + status);
            return false;
        }

        System.out.println("\nğŸ”„ " + getProviderName() + " ê²°ì œ ì·¨ì†Œ");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ì·¨ì†Œ ê¸ˆì•¡: " + formatAmount(amount));

        if (pointsToUse > 0) {
            System.out.println("í¬ì¸íŠ¸ ë³µêµ¬: " + pointsToUse + "P");
        }

        status = "CANCELLED";
        System.out.println("âœ… ì·¨ì†Œ ì™„ë£Œ (ì¦‰ì‹œ í™˜ë¶ˆ)");

        return true;
    }

    @Override
    public long calculateFee(long amount) {
        // ê°„í¸ê²°ì œ ìˆ˜ìˆ˜ë£Œ: 3.3%
        return (long)(amount * 0.033);
    }

    @Override
    public String getPaymentType() {
        return "ê°„í¸ê²°ì œ (" + getProviderName() + ")";
    }

    @Override
    public void showPaymentDetails() {
        System.out.println("\nğŸ“± ê²°ì œ ìƒì„¸");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ê²°ì œ ìˆ˜ë‹¨: " + getPaymentType());
        System.out.println("ì‚¬ìš©ì ID: " + userId);
        System.out.println("ê²°ì œ ê¸ˆì•¡: " + formatAmount(amount));

        if (pointsToUse > 0) {
            System.out.println("í¬ì¸íŠ¸ ì‚¬ìš©: " + pointsToUse + "P");
            System.out.println("ì‹¤ê²°ì œ: " + formatAmount(amount - pointsToUse));
        }

        System.out.println("ìˆ˜ìˆ˜ë£Œ: " + formatAmount(calculateFee(amount)));
        System.out.println("ìƒì²´ ì¸ì¦: " + (hasBiometric ? "í™œì„±í™”" : "ë¹„í™œì„±í™”"));
        System.out.println("ìƒíƒœ: " + status);
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    }

    public void usePoints(int points) {
        this.pointsToUse = points;
    }

    private String getProviderName() {
        switch (provider) {
            case "KAKAO": return "ì¹´ì¹´ì˜¤í˜ì´";
            case "NAVER": return "ë„¤ì´ë²„í˜ì´";
            case "TOSS": return "í† ìŠ¤";
            default: return provider;
        }
    }
}

/**
 * í•´ì™¸ ê²°ì œ (PayPal)
 */
public class PayPalPayment extends PaymentMethod {
    private String email;
    private String currency;  // USD, EUR, JPY ë“±
    private double exchangeRate;

    public PayPalPayment(String paymentId, String email, String currency, double exchangeRate) {
        super(paymentId, "PayPal");
        this.email = email;
        this.currency = currency;
        this.exchangeRate = exchangeRate;
    }

    @Override
    public boolean processPayment(long amount) {
        System.out.println("\nğŸŒ PayPal ê²°ì œ ì²˜ë¦¬");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");

        this.amount = amount;
        status = "PROCESSING";

        // í™˜ìœ¨ ì ìš©
        double foreignAmount = amount / exchangeRate;
        System.out.println("1. í™˜ìœ¨ ì ìš©...");
        System.out.println("   KRW: " + formatAmount(amount));
        System.out.println("   " + currency + ": " + String.format("%.2f", foreignAmount));
        System.out.println("   í™˜ìœ¨: " + exchangeRate);

        // PayPal ì¸ì¦
        System.out.println("2. PayPal ê³„ì • ì¸ì¦...");
        System.out.println("   ì´ë©”ì¼: " + email);
        System.out.println("   âœ… ì¸ì¦ ì™„ë£Œ");

        // ê²°ì œ ìŠ¹ì¸
        System.out.println("3. ê²°ì œ ìŠ¹ì¸...");

        status = "APPROVED";
        System.out.println("\nâœ… ê²°ì œ ì™„ë£Œ");

        return true;
    }

    @Override
    public boolean cancelPayment() {
        if (!status.equals("APPROVED")) {
            System.out.println("âŒ ì·¨ì†Œí•  ìˆ˜ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤: " + status);
            return false;
        }

        System.out.println("\nğŸ”„ PayPal ê²°ì œ ì·¨ì†Œ");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");

        double foreignAmount = amount / exchangeRate;
        System.out.println("í™˜ë¶ˆ ê¸ˆì•¡: " + String.format("%.2f", foreignAmount) + " " + currency);
        System.out.println("(ì•½ " + formatAmount(amount) + ")");

        status = "CANCELLED";
        System.out.println("âœ… í™˜ë¶ˆ ì²˜ë¦¬ ì¤‘ (2-3ì¼ ì†Œìš”)");

        return true;
    }

    @Override
    public long calculateFee(long amount) {
        // PayPal ìˆ˜ìˆ˜ë£Œ: 4.4% + í™˜ì „ ìˆ˜ìˆ˜ë£Œ 1%
        return (long)(amount * 0.054);
    }

    @Override
    public String getPaymentType() {
        return "PayPal (" + currency + ")";
    }

    @Override
    public void showPaymentDetails() {
        System.out.println("\nğŸŒ ê²°ì œ ìƒì„¸");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ê²°ì œ ìˆ˜ë‹¨: " + getPaymentType());
        System.out.println("PayPal ì´ë©”ì¼: " + email);
        System.out.println("ê²°ì œ ê¸ˆì•¡ (KRW): " + formatAmount(amount));

        double foreignAmount = amount / exchangeRate;
        System.out.println("ê²°ì œ ê¸ˆì•¡ (" + currency + "): " + String.format("%.2f", foreignAmount));
        System.out.println("í™˜ìœ¨: " + exchangeRate);
        System.out.println("ìˆ˜ìˆ˜ë£Œ: " + formatAmount(calculateFee(amount)));
        System.out.println("ìƒíƒœ: " + status);
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    }
}
```

### ì‡¼í•‘ëª° ê²°ì œ ì‹œìŠ¤í…œ

```java
/**
 * ì£¼ë¬¸ ì •ë³´
 */
class Order {
    private String orderId;
    private String customerId;
    private long totalAmount;
    private List<String> items;

    public Order(String orderId, String customerId, long totalAmount) {
        this.orderId = orderId;
        this.customerId = customerId;
        this.totalAmount = totalAmount;
        this.items = new ArrayList<>();
    }

    public void addItem(String item) {
        items.add(item);
    }

    public String getOrderId() {
        return orderId;
    }

    public String getCustomerId() {
        return customerId;
    }

    public long getTotalAmount() {
        return totalAmount;
    }

    public List<String> getItems() {
        return items;
    }

    public void showOrderSummary() {
        System.out.println("\nğŸ“¦ ì£¼ë¬¸ ìš”ì•½");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ì£¼ë¬¸ë²ˆí˜¸: " + orderId);
        System.out.println("ê³ ê°ID: " + customerId);
        System.out.println("ìƒí’ˆ ëª©ë¡:");

        for (String item : items) {
            System.out.println("  - " + item);
        }

        System.out.println("ì´ ê¸ˆì•¡: " + String.format("%,d", totalAmount) + "ì›");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    }
}

/**
 * ì‡¼í•‘ëª° ê²°ì œ ì‹œìŠ¤í…œ - ë‹¤í˜•ì„± í™œìš©
 */
public class PaymentSystem {
    private String systemName;
    private List<PaymentMethod> paymentHistory;
    private long totalRevenue;
    private long totalFees;

    public PaymentSystem(String systemName) {
        this.systemName = systemName;
        this.paymentHistory = new ArrayList<>();
        this.totalRevenue = 0;
        this.totalFees = 0;
    }

    /**
     * ê²°ì œ ì²˜ë¦¬ - ë‹¤í˜•ì„±ì˜ í•µì‹¬!
     * PaymentMethod íƒ€ì…ìœ¼ë¡œ ëª¨ë“  ê²°ì œ ìˆ˜ë‹¨ ì²˜ë¦¬
     */
    public boolean processOrder(Order order, PaymentMethod paymentMethod) {
        System.out.println("\nğŸ’³ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        System.out.println("   " + systemName);
        System.out.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");

        // ì£¼ë¬¸ ìš”ì•½
        order.showOrderSummary();

        // ê²°ì œ ìˆ˜ë‹¨ ì •ë³´
        System.out.println("\nğŸ’° ê²°ì œ ìˆ˜ë‹¨: " + paymentMethod.getPaymentType());

        // ìˆ˜ìˆ˜ë£Œ ê³„ì‚°
        long fee = paymentMethod.calculateFee(order.getTotalAmount());
        long finalAmount = order.getTotalAmount() + fee;

        System.out.println("ì£¼ë¬¸ ê¸ˆì•¡: " + String.format("%,d", order.getTotalAmount()) + "ì›");
        System.out.println("ê²°ì œ ìˆ˜ìˆ˜ë£Œ: " + String.format("%,d", fee) + "ì›");
        System.out.println("ìµœì¢… ê²°ì œ: " + String.format("%,d", finalAmount) + "ì›");

        // ê²°ì œ ì²˜ë¦¬ (ë‹¤í˜•ì„±!)
        boolean success = paymentMethod.processPayment(finalAmount);

        if (success) {
            // ê²°ì œ ë‚´ì—­ ì €ì¥
            paymentHistory.add(paymentMethod);
            totalRevenue += order.getTotalAmount();
            totalFees += fee;

            System.out.println("\nâœ… ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
            System.out.println("ì£¼ë¬¸ë²ˆí˜¸: " + order.getOrderId());
        } else {
            System.out.println("\nâŒ ê²°ì œ ì‹¤íŒ¨!");
        }

        return success;
    }

    /**
     * ê²°ì œ ì·¨ì†Œ
     */
    public boolean cancelOrder(PaymentMethod paymentMethod) {
        System.out.println("\nğŸ”„ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        System.out.println("   ê²°ì œ ì·¨ì†Œ ìš”ì²­");
        System.out.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");

        // ê²°ì œ ì·¨ì†Œ ì²˜ë¦¬ (ë‹¤í˜•ì„±!)
        boolean success = paymentMethod.cancelPayment();

        if (success) {
            System.out.println("\nâœ… ì·¨ì†Œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
        }

        return success;
    }

    /**
     * ê²°ì œ ìƒì„¸ ì¡°íšŒ
     */
    public void showPaymentDetails(PaymentMethod paymentMethod) {
        // ë‹¤í˜•ì„±! ê° ê²°ì œ ìˆ˜ë‹¨ì— ë§ëŠ” ìƒì„¸ ì •ë³´ í‘œì‹œ
        paymentMethod.showPaymentDetails();
    }

    /**
     * ê²°ì œ ìˆ˜ë‹¨ë³„ í†µê³„
     */
    public void showStatistics() {
        System.out.println("\nğŸ“Š ê²°ì œ í†µê³„");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");

        Map<String, Integer> paymentCounts = new HashMap<>();
        Map<String, Long> paymentAmounts = new HashMap<>();

        for (PaymentMethod payment : paymentHistory) {
            String type = payment.getPaymentType();
            paymentCounts.put(type, paymentCounts.getOrDefault(type, 0) + 1);
            paymentAmounts.put(type,
                paymentAmounts.getOrDefault(type, 0L) + payment.amount);
        }

        System.out.println("ì´ ê±°ë˜ ê±´ìˆ˜: " + paymentHistory.size());
        System.out.println("ì´ ë§¤ì¶œ: " + String.format("%,d", totalRevenue) + "ì›");
        System.out.println("ì´ ìˆ˜ìˆ˜ë£Œ: " + String.format("%,d", totalFees) + "ì›");

        System.out.println("\nê²°ì œ ìˆ˜ë‹¨ë³„:");
        for (String type : paymentCounts.keySet()) {
            System.out.println("- " + type + ": " +
                             paymentCounts.get(type) + "ê±´, " +
                             String.format("%,d", paymentAmounts.get(type)) + "ì›");
        }

        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    }

    /**
     * ê²°ì œ ìˆ˜ë‹¨ ë¹„êµ
     */
    public void comparePaymentMethods(long amount) {
        System.out.println("\nğŸ’° ê²°ì œ ìˆ˜ë‹¨ ë¹„êµ (" + String.format("%,d", amount) + "ì› ê²°ì œ ì‹œ)");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");

        PaymentMethod[] methods = {
            new CreditCardPayment("test1", "1234567890123456", "í™ê¸¸ë™",
                                "12/25", "123", "VISA"),
            new BankTransferPayment("test2", "êµ­ë¯¼ì€í–‰", "12345678901", "í™ê¸¸ë™"),
            new SimplePayment("test3", "KAKAO", "user123"),
            new PayPalPayment("test4", "user@example.com", "USD", 1300.0)
        };

        for (PaymentMethod method : methods) {
            long fee = method.calculateFee(amount);
            System.out.println(String.format("%-20s ìˆ˜ìˆ˜ë£Œ: %,10dì› (%.2f%%)",
                method.getPaymentType(), fee, (fee / (double)amount * 100)));
        }

        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    }
}
```

### ì‹¤í–‰ í…ŒìŠ¤íŠ¸

```java
public class ShoppingMallTest {
    public static void main(String[] args) {
        System.out.println("ğŸ›’ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        System.out.println("   ì‡¼í•‘ëª° í†µí•© ê²°ì œ ì‹œìŠ¤í…œ");
        System.out.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");

        // ê²°ì œ ì‹œìŠ¤í…œ ìƒì„±
        PaymentSystem paymentSystem = new PaymentSystem("ë§ˆì¼“ì»¬ë¦¬");

        // ì£¼ë¬¸ 1: ì‹ ìš©ì¹´ë“œ ê²°ì œ (í• ë¶€)
        Order order1 = new Order("ORD-001", "user123", 350000);
        order1.addItem("ë…¸íŠ¸ë¶ íŒŒìš°ì¹˜");
        order1.addItem("ë¬´ì„  ë§ˆìš°ìŠ¤");
        order1.addItem("í‚¤ë³´ë“œ");

        CreditCardPayment creditCard = new CreditCardPayment(
            "PAY-001",
            "1234567890123456",
            "ê¹€ë¯¼ìˆ˜",
            "12/25",
            "123",
            "VISA"
        );
        creditCard.setInstallment(3);  // 3ê°œì›” í• ë¶€

        paymentSystem.processOrder(order1, creditCard);
        paymentSystem.showPaymentDetails(creditCard);

        // ì£¼ë¬¸ 2: ê³„ì¢Œì´ì²´ ê²°ì œ
        Order order2 = new Order("ORD-002", "user456", 125000);
        order2.addItem("ìœ ê¸°ë† ê³¼ì¼ ì„¸íŠ¸");
        order2.addItem("ìƒìˆ˜ 2ë°•ìŠ¤");

        BankTransferPayment bankTransfer = new BankTransferPayment(
            "PAY-002",
            "êµ­ë¯¼ì€í–‰",
            "12345678901",
            "ì´ì˜í¬"
        );

        paymentSystem.processOrder(order2, bankTransfer);

        // ì£¼ë¬¸ 3: ê°„í¸ê²°ì œ (í¬ì¸íŠ¸ ì‚¬ìš©)
        Order order3 = new Order("ORD-003", "user789", 85000);
        order3.addItem("ìƒëŸ¬ë“œ");
        order3.addItem("ë‹­ê°€ìŠ´ì‚´");

        SimplePayment kakao = new SimplePayment("PAY-003", "KAKAO", "user789");
        kakao.usePoints(5000);  // 5000P ì‚¬ìš©

        paymentSystem.processOrder(order3, kakao);

        // ì£¼ë¬¸ 4: PayPal ê²°ì œ
        Order order4 = new Order("ORD-004", "user321", 230000);
        order4.addItem("ìˆ˜ì… ì™€ì¸");
        order4.addItem("ì¹˜ì¦ˆ ì„¸íŠ¸");

        PayPalPayment paypal = new PayPalPayment(
            "PAY-004",
            "user@example.com",
            "USD",
            1300.0
        );

        paymentSystem.processOrder(order4, paypal);

        // ê²°ì œ ì·¨ì†Œ í…ŒìŠ¤íŠ¸
        System.out.println("\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ê²°ì œ ì·¨ì†Œ ì‹œë‚˜ë¦¬ì˜¤");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");

        paymentSystem.cancelOrder(bankTransfer);

        // í†µê³„
        paymentSystem.showStatistics();

        // ê²°ì œ ìˆ˜ë‹¨ ë¹„êµ
        paymentSystem.comparePaymentMethods(100000);

        // ë‹¤í˜•ì„±ì˜ ê°•ë ¥í•¨ ì‹œì—°
        System.out.println("\n\nğŸ”„ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        System.out.println("   ë‹¤í˜•ì„± í™œìš© ì˜ˆì‹œ");
        System.out.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");

        PaymentMethod[] allPayments = {creditCard, bankTransfer, kakao, paypal};

        System.out.println("ëª¨ë“  ê²°ì œ ìˆ˜ë‹¨ ì •ë³´:");
        for (PaymentMethod payment : allPayments) {
            System.out.println("\n[" + payment.getPaymentType() + "]");
            System.out.println("- ìƒíƒœ: " + payment.getStatus());
            System.out.println("- 100,000ì› ê²°ì œ ì‹œ ìˆ˜ìˆ˜ë£Œ: " +
                             String.format("%,d", payment.calculateFee(100000)) + "ì›");
        }

        System.out.println("\n\nğŸ’¡ ë‹¤í˜•ì„±ì˜ í•µì‹¬:");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("âœ… PaymentMethod íƒ€ì…ìœ¼ë¡œ ëª¨ë“  ê²°ì œ ìˆ˜ë‹¨ í†µí•© ì²˜ë¦¬");
        System.out.println("âœ… ê²°ì œ ìˆ˜ë‹¨ë³„ ë‹¤ë¥¸ ì²˜ë¦¬ ë°©ì‹ ìë™ ì ìš©");
        System.out.println("âœ… ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”");
        System.out.println("âœ… ìˆ˜ìˆ˜ë£Œ ê³„ì‚°, ìŠ¹ì¸, ì·¨ì†Œ ë¡œì§ì´ ê°ì ë…ë¦½ì ");
        System.out.println("âœ… ì‹¤ì œ ì‡¼í•‘ëª°ì˜ í•µì‹¬ ì„¤ê³„ íŒ¨í„´!");
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    }
}
```

### í”„ë¡œì íŠ¸ í•µì‹¬ í¬ì¸íŠ¸

#### 1. ë‹¤í˜•ì„± í™œìš©
```java
// í•˜ë‚˜ì˜ ë©”ì„œë“œë¡œ ëª¨ë“  ê²°ì œ ìˆ˜ë‹¨ ì²˜ë¦¬
public boolean processOrder(Order order, PaymentMethod paymentMethod) {
    // PaymentMethod íƒ€ì…ìœ¼ë¡œ ë°›ì§€ë§Œ
    // ì‹¤ì œë¡œëŠ” CreditCard, BankTransfer, SimplePay ë“±ì˜ ë©”ì„œë“œê°€ í˜¸ì¶œë¨
    paymentMethod.processPayment(amount);  // ë‹¤í˜•ì„±!
    paymentMethod.calculateFee(amount);    // ë‹¤í˜•ì„±!
}
```

#### 2. í™•ì¥ì„±
ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ ì¶”ê°€ ì‹œ:
- `PaymentMethod`ë¥¼ ìƒì†ë°›ëŠ” ìƒˆ í´ë˜ìŠ¤ë§Œ ì‘ì„±
- `PaymentSystem` ì½”ë“œëŠ” ì „í˜€ ìˆ˜ì • ë¶ˆí•„ìš”
- Open-Closed Principle (OCP) ì¤€ìˆ˜

#### 3. íƒ€ì… ì•ˆì „ì„±
- ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì²´í¬
- ëŸ°íƒ€ì„ ì—ëŸ¬ ìµœì†Œí™”
- instanceofë¡œ ì•ˆì „í•œ ë‹¤ìš´ìºìŠ¤íŒ…

#### 4. ìœ ì§€ë³´ìˆ˜ì„±
- ê° ê²°ì œ ìˆ˜ë‹¨ì˜ ë¡œì§ì´ ë…ë¦½ì 
- ìˆ˜ì • ì‹œ í•´ë‹¹ í´ë˜ìŠ¤ë§Œ ë³€ê²½
- ì‚¬ì´ë“œ ì´í™íŠ¸ ìµœì†Œí™”

---

## â“ FAQ {#faq}

### Q1. ë‹¤í˜•ì„±ê³¼ ë©”ì„œë“œ ì˜¤ë²„ë¡œë”©ì˜ ì°¨ì´ëŠ”?

**A:** ì™„ì „íˆ ë‹¤ë¥¸ ê°œë…ì…ë‹ˆë‹¤!

```java
// ë©”ì„œë“œ ì˜¤ë²„ë¡œë”© (ì»´íŒŒì¼íƒ€ì„ ë‹¤í˜•ì„±)
class Calculator {
    public int add(int a, int b) { return a + b; }
    public double add(double a, double b) { return a + b; }  // ì˜¤ë²„ë¡œë”©
}

// ë‹¤í˜•ì„± (ëŸ°íƒ€ì„ ë‹¤í˜•ì„±)
class Animal {
    public void makeSound() { }
}

class Dog extends Animal {
    @Override
    public void makeSound() { }  // ì˜¤ë²„ë¼ì´ë”©
}

Animal animal = new Dog();
animal.makeSound();  // Dogì˜ ë©”ì„œë“œ í˜¸ì¶œ - ë‹¤í˜•ì„±!
```

**ì°¨ì´ì :**
- **ì˜¤ë²„ë¡œë”©**: ê°™ì€ ì´ë¦„, ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜, ì»´íŒŒì¼ ì‹œ ê²°ì •
- **ë‹¤í˜•ì„±**: ìƒì† ê´€ê³„, ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©, ëŸ°íƒ€ì„ ì‹œ ê²°ì •

---

### Q2. ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ì´ ëŠë ¤ì§€ë‚˜ìš”?

**A:** ë¯¸ì„¸í•˜ê²Œ ëŠë¦´ ìˆ˜ ìˆì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” ë¬´ì‹œí•  ìˆ˜ì¤€ì…ë‹ˆë‹¤.

```java
// ë‹¤í˜•ì„± ì‚¬ìš© ì‹œ
Animal animal = new Dog();
animal.makeSound();  // ë™ì  ë°”ì¸ë”© (ëŸ°íƒ€ì„ì— ë©”ì„œë“œ ê²°ì •)

// ë‹¤í˜•ì„± ë¯¸ì‚¬ìš© ì‹œ
Dog dog = new Dog();
dog.makeSound();  // ì •ì  ë°”ì¸ë”© (ì»´íŒŒì¼ ì‹œ ê²°ì •)
```

**ì„±ëŠ¥ ì°¨ì´:**
- ë‹¤í˜•ì„± ì‚¬ìš© ì‹œ ê°€ìƒ ë©”ì„œë“œ í…Œì´ë¸”(vtable) ì¡°íšŒ ë°œìƒ
- ë‚˜ë…¸ì´ˆ ë‹¨ìœ„ì˜ ì°¨ì´ (ë³´í†µ ë¬´ì‹œ ê°€ëŠ¥)
- JIT ì»´íŒŒì¼ëŸ¬ê°€ ìµœì í™”

**ê²°ë¡ :**
- ì„±ëŠ¥ë³´ë‹¤ **ì„¤ê³„ì˜ ìœ ì—°ì„±**ì´ í›¨ì”¬ ì¤‘ìš”
- ì‹¤ì œ ë³‘ëª©ì€ ë‹¤í˜•ì„±ì´ ì•„ë‹Œ I/O, DB ì¿¼ë¦¬ ë“±

---

### Q3. ì–¸ì œ ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?

**A:** ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ì‚¬ìš©í•˜ì„¸ìš”:

#### ì‚¬ìš©í•´ì•¼ í•  ë•Œ âœ…
```java
// 1. ë¹„ìŠ·í•œ ê°ì²´ë“¤ì„ í†µì¼ëœ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬
PaymentMethod[] payments = {creditCard, bankTransfer, kakao};
for (PaymentMethod payment : payments) {
    payment.process();  // ë‹¤í˜•ì„±!
}

// 2. ì½”ë“œ í™•ì¥ì´ ì˜ˆìƒë  ë•Œ
// ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”

// 3. ì „ëµ íŒ¨í„´, íŒ©í† ë¦¬ íŒ¨í„´ ë“±ì—ì„œ
Strategy strategy = getStrategy(type);
strategy.execute();
```

#### ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼ í•  ë•Œ âŒ
```java
// 1. ë‹¨ìˆœí•œ ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œ
public static int add(int a, int b) {
    return a + b;  // ë‹¤í˜•ì„± ë¶ˆí•„ìš”
}

// 2. ìƒì† ê´€ê³„ê°€ ì—†ëŠ” ê²½ìš°
// ì–µì§€ë¡œ ìƒì† êµ¬ì¡°ë¥¼ ë§Œë“¤ì§€ ë§ˆì„¸ìš”
```

---

### Q4. instanceof ì‚¬ìš©ì´ ì•ˆí‹°íŒ¨í„´ì¸ê°€ìš”?

**A:** ìƒí™©ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

#### ì•ˆí‹°íŒ¨í„´ì¸ ê²½ìš° âŒ
```java
// ë‚˜ìœ ì˜ˆ - ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•´ì•¼ í•  ê³³ì— instanceof ë‚¨ë°œ
public void process(Animal animal) {
    if (animal instanceof Dog) {
        ((Dog) animal).bark();
    } else if (animal instanceof Cat) {
        ((Cat) animal).meow();
    } else if (animal instanceof Bird) {
        ((Bird) animal).chirp();
    }
    // ìƒˆë¡œìš´ ë™ë¬¼ ì¶”ê°€ ì‹œ ì´ ë©”ì„œë“œë¥¼ ê³„ì† ìˆ˜ì •í•´ì•¼ í•¨!
}

// ì¢‹ì€ ì˜ˆ - ë‹¤í˜•ì„± í™œìš©
public void process(Animal animal) {
    animal.makeSound();  // ê° ë™ë¬¼ì´ ì•Œì•„ì„œ ì²˜ë¦¬
}
```

#### ì •ë‹¹í•œ ì‚¬ìš© âœ…
```java
// ì¢‹ì€ ì˜ˆ - íŠ¹ì • íƒ€ì…ì˜ ê³ ìœ  ê¸°ëŠ¥ ì‚¬ìš© ì‹œ
public void processLiveStream(YouTubeContent content) {
    content.play();  // ê³µí†µ ê¸°ëŠ¥

    // LiveStreamë§Œì˜ íŠ¹ë³„í•œ ê¸°ëŠ¥
    if (content instanceof LiveStream) {
        LiveStream stream = (LiveStream) content;
        stream.sendSuperChat("ì‘ì›í•©ë‹ˆë‹¤!", 5000);
    }
}
```

**ì›ì¹™:**
- ê³µí†µ ê¸°ëŠ¥ì€ ë‹¤í˜•ì„±ìœ¼ë¡œ
- íŠ¹ì • íƒ€ì… ê³ ìœ  ê¸°ëŠ¥ë§Œ instanceof ì‚¬ìš©

---

### Q5. ë‹¤í˜•ì„± ë°°ì—´ì—ì„œ ìì‹ ê³ ìœ  ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë ¤ë©´?

**A:** instanceofë¡œ íƒ€ì… í™•ì¸ í›„ ë‹¤ìš´ìºìŠ¤íŒ…í•˜ì„¸ìš”.

```java
Animal[] animals = {new Dog("ë°”ë‘‘ì´"), new Cat("ë‚˜ë¹„"), new Bird("ì§¹ì§¹ì´")};

// ë°©ë²• 1: instanceof + ë‹¤ìš´ìºìŠ¤íŒ…
for (Animal animal : animals) {
    animal.makeSound();  // ê³µí†µ ë©”ì„œë“œ

    // ê°œë§Œ ê¼¬ë¦¬ í”ë“¤ê¸°
    if (animal instanceof Dog) {
        Dog dog = (Dog) animal;
        dog.wagTail();  // Dog ê³ ìœ  ë©”ì„œë“œ
    }
}

// ë°©ë²• 2: Pattern Matching (Java 16+)
for (Animal animal : animals) {
    animal.makeSound();

    if (animal instanceof Dog dog) {  // ìë™ìœ¼ë¡œ dog ë³€ìˆ˜ ìƒì„±
        dog.wagTail();
    }
}

// ë°©ë²• 3: ë” ë‚˜ì€ ì„¤ê³„ - ê³µí†µ ë©”ì„œë“œë¡œ ë§Œë“¤ê¸°
abstract class Animal {
    public abstract void makeSound();
    public void doSpecialAction() {  // ê¸°ë³¸ êµ¬í˜„
        // íŠ¹ë³„í•œ í–‰ë™ ì—†ìŒ
    }
}

class Dog extends Animal {
    @Override
    public void doSpecialAction() {
        wagTail();  // ê¼¬ë¦¬ í”ë“¤ê¸°
    }
}

// ì´ì œ ë‹¤í˜•ì„±ìœ¼ë¡œ ëª¨ë‘ ì²˜ë¦¬ ê°€ëŠ¥
for (Animal animal : animals) {
    animal.makeSound();
    animal.doSpecialAction();  // ê° ë™ë¬¼ì´ ìì‹ ì˜ íŠ¹ë³„ í–‰ë™
}
```

---

### Q6. final ë©”ì„œë“œì™€ ë‹¤í˜•ì„±ì˜ ê´€ê³„ëŠ”?

**A:** final ë©”ì„œë“œëŠ” ì˜¤ë²„ë¼ì´ë”©í•  ìˆ˜ ì—†ì–´ ë‹¤í˜•ì„±ì´ ì œí•œë©ë‹ˆë‹¤.

```java
class Animal {
    // final ë©”ì„œë“œ - ì˜¤ë²„ë¼ì´ë”© ë¶ˆê°€
    public final void breathe() {
        System.out.println("ìˆ¨ì„ ì‰½ë‹ˆë‹¤");
    }

    // ì¼ë°˜ ë©”ì„œë“œ - ì˜¤ë²„ë¼ì´ë”© ê°€ëŠ¥
    public void makeSound() {
        System.out.println("ë™ë¬¼ ì†Œë¦¬");
    }
}

class Dog extends Animal {
    // âŒ ì»´íŒŒì¼ ì—ëŸ¬!
    @Override
    public void breathe() {  // final ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”© ì‹œë„
        System.out.println("ê°œê°€ ìˆ¨ì‰½ë‹ˆë‹¤");
    }

    // âœ… OK
    @Override
    public void makeSound() {
        System.out.println("ë©ë©!");
    }
}
```

**final ì‚¬ìš© ì‹œê¸°:**
- ë³´ì•ˆìƒ ì¤‘ìš”í•œ ë©”ì„œë“œ (ì ˆëŒ€ ë³€ê²½ ë¶ˆê°€)
- ì„±ëŠ¥ ìµœì í™” (ì»´íŒŒì¼ëŸ¬ê°€ ì¸ë¼ì¸ ê°€ëŠ¥)
- í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì—ì„œ ê³ ì •ëœ ì•Œê³ ë¦¬ì¦˜

```java
abstract class GameCharacter {
    // í…œí”Œë¦¿ ë©”ì„œë“œ - ê³ ì •ëœ ì‹¤í–‰ ìˆœì„œ
    public final void performAction() {
        prepare();    // ë‹¤í˜•ì„±
        execute();    // ë‹¤í˜•ì„±
        cleanup();    // ë‹¤í˜•ì„±
    }

    protected abstract void prepare();
    protected abstract void execute();
    protected abstract void cleanup();
}
```

---

### Q7. ë‹¤í˜•ì„±ê³¼ ì œë„¤ë¦­ì˜ ì°¨ì´ëŠ”?

**A:** ëª©ì ê³¼ ë™ì‘ ë°©ì‹ì´ ì™„ì „íˆ ë‹¤ë¦…ë‹ˆë‹¤.

```java
// ë‹¤í˜•ì„± - ëŸ°íƒ€ì„ì— íƒ€ì… ê²°ì •
Animal animal = new Dog();
animal.makeSound();  // ì‹¤í–‰ ì‹œì ì— Dogì˜ ë©”ì„œë“œ í˜¸ì¶œ

// ì œë„¤ë¦­ - ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ê²°ì •
List<String> names = new ArrayList<>();
names.add("í™ê¸¸ë™");  // Stringë§Œ ê°€ëŠ¥ (ì»´íŒŒì¼ ì‹œ ì²´í¬)
// names.add(123);  // ì»´íŒŒì¼ ì—ëŸ¬
```

**ì°¨ì´ì :**

| êµ¬ë¶„ | ë‹¤í˜•ì„± | ì œë„¤ë¦­ |
|------|--------|--------|
| **ëª©ì ** | ê°™ì€ ì½”ë“œë¡œ ë‹¤ë¥¸ ë™ì‘ | ê°™ì€ ì½”ë“œë¡œ ë‹¤ë¥¸ íƒ€ì… |
| **ì‹œì ** | ëŸ°íƒ€ì„ | ì»´íŒŒì¼ íƒ€ì„ |
| **ìƒì†** | í•„ìš” | ë¶ˆí•„ìš” |
| **íƒ€ì… ì†Œê±°** | ì—†ìŒ | ìˆìŒ (ëŸ°íƒ€ì„ì— íƒ€ì… ì •ë³´ ì‚¬ë¼ì§) |

**í•¨ê»˜ ì‚¬ìš© ì˜ˆ:**
```java
// ë‹¤í˜•ì„± + ì œë„¤ë¦­
class Container<T extends Animal> {  // ì œë„¤ë¦­ + ìƒí•œ ì œí•œ
    private T animal;

    public void makeAnimalSound() {
        animal.makeSound();  // ë‹¤í˜•ì„±!
    }
}

Container<Dog> dogContainer = new Container<>();
Container<Cat> catContainer = new Container<>();
```

---

## ğŸ¤ ë©´ì ‘ ì§ˆë¬¸ {#ë©´ì ‘-ì§ˆë¬¸}

### ì£¼ë‹ˆì–´ ê°œë°œì ë©´ì ‘ ì§ˆë¬¸ (7ê°œ)

#### Q1. ë‹¤í˜•ì„±ì´ ë¬´ì—‡ì¸ì§€ ì‹¤ìƒí™œ ë¹„ìœ ë¥¼ ë“¤ì–´ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
ë‹¤í˜•ì„±ì€ "í•˜ë‚˜ì˜ ë¦¬ëª¨ì»¨ìœ¼ë¡œ TV, ì—ì–´ì»¨, ì…‹í†±ë°•ìŠ¤ ë“± ì—¬ëŸ¬ ê°€ì „ì œí’ˆì„ ì œì–´í•˜ëŠ” ê²ƒ"ì— ë¹„ìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¦¬ëª¨ì»¨ì˜ 'ì „ì›' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´:
- TVëŠ” í™”ë©´ì„ ì¼œê³ 
- ì—ì–´ì»¨ì€ ëƒ‰ë°©ì„ ì‹œì‘í•˜ê³ 
- ì…‹í†±ë°•ìŠ¤ëŠ” ë¶€íŒ…ì„ ì‹œì‘í•©ë‹ˆë‹¤

ê°™ì€ ë²„íŠ¼(ë©”ì„œë“œ)ì„ ëˆ„ë¥´ì§€ë§Œ, ì‹¤ì œ ê¸°ê¸°(ê°ì²´)ì— ë”°ë¼ ë‹¤ë¥¸ ë™ì‘ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.
ì´ê²ƒì´ ë‹¤í˜•ì„±ì˜ í•µì‹¬ì…ë‹ˆë‹¤.

Java ì½”ë“œë¡œ í‘œí˜„í•˜ë©´:
Appliance[] devices = {tv, ac, setTopBox};
for (Appliance device : devices) {
    device.powerOn();  // ê° ê¸°ê¸°ë§ˆë‹¤ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì¼œì§
}
```

**ì±„ì  í¬ì¸íŠ¸:**
- ê°œë… ì´í•´ë„ âœ…
- ì‹¤ìƒí™œ ë¹„ìœ  ëŠ¥ë ¥ âœ…
- ì½”ë“œë¡œ ì—°ê²° âœ…

---

#### Q2. ì—…ìºìŠ¤íŒ…ê³¼ ë‹¤ìš´ìºìŠ¤íŒ…ì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•˜ê³ , ì–¸ì œ ì‚¬ìš©í•˜ëŠ”ì§€ ë§í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
ì—…ìºìŠ¤íŒ…(Upcasting):
- ìì‹ â†’ ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜
- ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì§ (ëª…ì‹œì  ìºìŠ¤íŒ… ë¶ˆí•„ìš”)
- ì‚¬ìš© ì‹œê¸°: ì—¬ëŸ¬ íƒ€ì…ì˜ ê°ì²´ë¥¼ í†µì¼ë˜ê²Œ ì²˜ë¦¬í•  ë•Œ

Animal animal = new Dog();  // ì—…ìºìŠ¤íŒ… (ìë™)

ë‹¤ìš´ìºìŠ¤íŒ…(Downcasting):
- ë¶€ëª¨ â†’ ìì‹ íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜
- ëª…ì‹œì  ìºìŠ¤íŒ… í•„ìš”
- instanceofë¡œ íƒ€ì… ì²´í¬ í•„ìˆ˜
- ì‚¬ìš© ì‹œê¸°: ìì‹ í´ë˜ìŠ¤ ê³ ìœ ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ

if (animal instanceof Dog) {
    Dog dog = (Dog) animal;  // ë‹¤ìš´ìºìŠ¤íŒ… (ëª…ì‹œì )
    dog.bark();  // Dogë§Œì˜ ë©”ì„œë“œ
}
```

**ì£¼ì˜ì‚¬í•­:**
- ë‹¤ìš´ìºìŠ¤íŒ… ì‹œ instanceof ì²´í¬ ì•ˆ í•˜ë©´ ClassCastException ë°œìƒ ê°€ëŠ¥
- ê°€ëŠ¥í•˜ë©´ ë‹¤í˜•ì„±ìœ¼ë¡œ í•´ê²°í•˜ê³ , ë‹¤ìš´ìºìŠ¤íŒ…ì€ ìµœì†Œí™”

---

#### Q3. ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ê²°ê³¼ë¥¼ ì˜ˆì¸¡í•˜ê³  ì´ìœ ë¥¼ ì„¤ëª…í•˜ì„¸ìš”.

```java
class Animal {
    public void makeSound() {
        System.out.println("ë™ë¬¼ ì†Œë¦¬");
    }
}

class Dog extends Animal {
    @Override
    public void makeSound() {
        System.out.println("ë©ë©");
    }
}

public class Test {
    public static void main(String[] args) {
        Animal animal = new Dog();
        animal.makeSound();
    }
}
```

**ì •ë‹µ:**
```
ì¶œë ¥: ë©ë©

ì´ìœ :
1. animal ë³€ìˆ˜ì˜ íƒ€ì…ì€ Animalì´ì§€ë§Œ, ì‹¤ì œ ê°ì²´ëŠ” Dogì…ë‹ˆë‹¤.
2. JavaëŠ” ë™ì  ë°”ì¸ë”©(Dynamic Binding)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
3. ëŸ°íƒ€ì„ì— ì‹¤ì œ ê°ì²´ íƒ€ì…(Dog)ì˜ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
4. ë”°ë¼ì„œ Dogì˜ makeSound()ê°€ ì‹¤í–‰ë˜ì–´ "ë©ë©"ì´ ì¶œë ¥ë©ë‹ˆë‹¤.

ì´ê²ƒì´ ë‹¤í˜•ì„±ì˜ í•µì‹¬ì…ë‹ˆë‹¤!
```

**ì¶”ê°€ ì§ˆë¬¸ ëŒ€ë¹„:**
- Q: ë§Œì•½ Dogì— makeSound()ê°€ ì—†ë‹¤ë©´?
- A: Animalì˜ makeSound()ê°€ í˜¸ì¶œë˜ì–´ "ë™ë¬¼ ì†Œë¦¬" ì¶œë ¥

---

#### Q4. ë‹¤í˜•ì„± ì‚¬ìš© ì‹œ ì¥ì ê³¼ ë‹¨ì ì„ ê°ê° 2ê°€ì§€ì”© ë§í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
ì¥ì :
1. ì½”ë“œ ì¬ì‚¬ìš©ì„±: ë¶€ëª¨ íƒ€ì… í•˜ë‚˜ë¡œ ì—¬ëŸ¬ ìì‹ ê°ì²´ ì²˜ë¦¬ ê°€ëŠ¥
   PaymentMethod[] payments = {card, bank, kakao};
   for (PaymentMethod p : payments) p.process();

2. í™•ì¥ì„±(OCP): ìƒˆë¡œìš´ íƒ€ì… ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”
   ìƒˆ ê²°ì œ ìˆ˜ë‹¨ ì¶”ê°€ â†’ PaymentMethod ìƒì†ë§Œ í•˜ë©´ ë

ë‹¨ì :
1. ì´í•´í•˜ê¸° ì–´ë ¤ì›€: ì´ˆë³´ìëŠ” "ì–´ë–¤ ë©”ì„œë“œê°€ í˜¸ì¶œë ì§€" í˜¼ë€
   ëŸ°íƒ€ì„ì— ê²°ì •ë˜ë¯€ë¡œ ë””ë²„ê¹…ë„ ì–´ë ¤ì›€

2. ì„±ëŠ¥: ë™ì  ë°”ì¸ë”©ìœ¼ë¡œ ì¸í•œ ë¯¸ì„¸í•œ ì˜¤ë²„í—¤ë“œ
   (í•˜ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” ë¬´ì‹œí•  ìˆ˜ì¤€)
```

---

#### Q5. instanceofë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  íƒ€ì…ë³„ë¡œ ë‹¤ë¥¸ ì²˜ë¦¬ë¥¼ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?

**ì˜ˆì‹œ ë‹µë³€:**
```
ë°©ë²• 1: ë‹¤í˜•ì„± í™œìš© (ê°€ì¥ ì¢‹ì€ ë°©ë²•)
```java
abstract class Animal {
    public abstract void makeSound();
    public abstract void doSpecialAction();  // ê³µí†µ ë©”ì„œë“œë¡œ ë§Œë“¤ê¸°
}

class Dog extends Animal {
    public void doSpecialAction() {
        System.out.println("ê¼¬ë¦¬ í”ë“¤ê¸°");
    }
}

class Cat extends Animal {
    public void doSpecialAction() {
        System.out.println("ê·¸ë¥´ë¦‰ ì†Œë¦¬");
    }
}

// instanceof ì—†ì´ ì²˜ë¦¬
Animal[] animals = {new Dog(), new Cat()};
for (Animal animal : animals) {
    animal.makeSound();
    animal.doSpecialAction();  // ê°ì ë‹¤ë¥¸ ë™ì‘
}
```

ë°©ë²• 2: Visitor íŒ¨í„´ (ê³ ê¸‰)
```java
interface AnimalVisitor {
    void visit(Dog dog);
    void visit(Cat cat);
}

abstract class Animal {
    public abstract void accept(AnimalVisitor visitor);
}

class Dog extends Animal {
    public void accept(AnimalVisitor visitor) {
        visitor.visit(this);  // Double Dispatch
    }
}
```

---

#### Q6. ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•œ ì‹¤ì œ í”„ë¡œì íŠ¸ ê²½í—˜ì„ ë§í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€ (í•™ìƒ/ì‹ ì…):**
```
í•™êµ í”„ë¡œì íŠ¸ì—ì„œ ì‡¼í•‘ëª° ê²°ì œ ì‹œìŠ¤í…œì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

ìƒí™©:
- ì‹ ìš©ì¹´ë“œ, ê³„ì¢Œì´ì²´, ì¹´ì¹´ì˜¤í˜ì´ ë“± ì—¬ëŸ¬ ê²°ì œ ìˆ˜ë‹¨ ì§€ì› í•„ìš”
- ê° ê²°ì œ ìˆ˜ë‹¨ë§ˆë‹¤ ì²˜ë¦¬ ë°©ì‹, ìˆ˜ìˆ˜ë£Œê°€ ë‹¤ë¦„

í•´ê²°:
1. PaymentMethod ì¶”ìƒ í´ë˜ìŠ¤ ìƒì„±
2. ê° ê²°ì œ ìˆ˜ë‹¨ì„ ìì‹ í´ë˜ìŠ¤ë¡œ êµ¬í˜„
3. PaymentSystemì—ì„œ PaymentMethod íƒ€ì…ìœ¼ë¡œ í†µí•© ì²˜ë¦¬

ê²°ê³¼:
- ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”
- í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì´ ì‰¬ì›Œì§
- ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

ë°°ìš´ ì :
- ì²˜ìŒì—ëŠ” if-elseë¡œ íƒ€ì… êµ¬ë¶„í–ˆëŠ”ë°, ë‹¤í˜•ì„± ì ìš© í›„ ì½”ë“œê°€ í›¨ì”¬ ê¹”ë”í•´ì§
- ë””ìì¸ íŒ¨í„´(ì „ëµ íŒ¨í„´)ì˜ ì¤‘ìš”ì„±ì„ ê¹¨ë‹¬ìŒ
```

---

#### Q7. ë‹¤í˜•ì„±ê³¼ ì¸í„°í˜ì´ìŠ¤ì˜ ê´€ê³„ë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
ë‹¤í˜•ì„±ì€ ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ ëª¨ë‘ì—ì„œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë‹¤í˜•ì„±:
abstract class Animal {
    public abstract void makeSound();
}

Animal animal = new Dog();  // ë‹¤í˜•ì„±
animal.makeSound();

ì¸í„°í˜ì´ìŠ¤ë¡œ ë‹¤í˜•ì„±:
interface Drivable {
    void drive();
}

Drivable vehicle = new Car();  // ë‹¤í˜•ì„±
vehicle.drive();

ì°¨ì´ì :
- ì¶”ìƒ í´ë˜ìŠ¤: "is-a" ê´€ê³„, ë‹¨ì¼ ìƒì†
- ì¸í„°í˜ì´ìŠ¤: "can-do" ê´€ê³„, ë‹¤ì¤‘ êµ¬í˜„

ì‹¤ë¬´ì—ì„œëŠ”:
- ìƒì† êµ¬ì¡°ê°€ ëª…í™•í•˜ë©´ ì¶”ìƒ í´ë˜ìŠ¤
- ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ ê°™ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ì¸í„°í˜ì´ìŠ¤
- ìš”ì¦˜ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë” ì„ í˜¸ (ìœ ì—°ì„± ë•Œë¬¸)
```

---

### ì¤‘ê¸‰ ê°œë°œì ë©´ì ‘ ì§ˆë¬¸ (5ê°œ)

#### Q8. Javaì˜ ë™ì  ë°”ì¸ë”©(Dynamic Binding) ì›ë¦¬ë¥¼ ì„¤ëª…í•˜ê³ , vtableì˜ ì—­í• ì„ ë§í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
ë™ì  ë°”ì¸ë”©:
- ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ì–´ë–¤ ë©”ì„œë“œë¥¼ ì‹¤í–‰í• ì§€ ëŸ°íƒ€ì„ì— ê²°ì •
- ì°¸ì¡° íƒ€ì…ì´ ì•„ë‹Œ ì‹¤ì œ ê°ì²´ íƒ€ì…ì„ ê¸°ì¤€ìœ¼ë¡œ ë©”ì„œë“œ ì„ íƒ

vtable (Virtual Method Table):
- ê° í´ë˜ìŠ¤ë§ˆë‹¤ ë©”ì„œë“œ í¬ì¸í„°ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”
- ê°ì²´ ìƒì„± ì‹œ í•´ë‹¹ í´ë˜ìŠ¤ì˜ vtableì„ ê°€ë¦¬í‚´
- ë©”ì„œë“œ í˜¸ì¶œ ì‹œ vtableì„ í†µí•´ ì‹¤ì œ ë©”ì„œë“œ ì£¼ì†Œ ì°¾ìŒ

ì‘ë™ ì›ë¦¬:
```java
Animal animal = new Dog();
animal.makeSound();  // 1. animal ê°ì²´ì˜ vtable í™•ì¸
                     // 2. Dog í´ë˜ìŠ¤ì˜ vtableì—ì„œ makeSound() ì£¼ì†Œ ì°¾ìŒ
                     // 3. í•´ë‹¹ ì£¼ì†Œì˜ ë©”ì„œë“œ ì‹¤í–‰
```

ìµœì í™”:
- JIT ì»´íŒŒì¼ëŸ¬ê°€ ìì£¼ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œëŠ” ì¸ë¼ì¸ ìµœì í™”
- Monomorphic call site (í•œ íƒ€ì…ë§Œ í˜¸ì¶œ)ëŠ” ì •ì  ë°”ì¸ë”©ìœ¼ë¡œ ìµœì í™”
```

---

#### Q9. Covariant Return Typeì´ ë¬´ì—‡ì¸ì§€ ì„¤ëª…í•˜ê³ , ë‹¤í˜•ì„±ê³¼ì˜ ê´€ê³„ë¥¼ ë§í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
Covariant Return Type (ê³µë³€ ë°˜í™˜ íƒ€ì…):
- ì˜¤ë²„ë¼ì´ë”© ì‹œ ë¶€ëª¨ë³´ë‹¤ ë” êµ¬ì²´ì ì¸(ìì‹) íƒ€ì…ì„ ë°˜í™˜ ê°€ëŠ¥
- Java 5ë¶€í„° ì§€ì›

ì˜ˆì‹œ:
```java
class Animal {
    public Animal reproduce() {
        return new Animal();
    }
}

class Dog extends Animal {
    @Override
    public Dog reproduce() {  // Animal ëŒ€ì‹  Dog ë°˜í™˜ (ê³µë³€)
        return new Dog();
    }
}

Dog dog = new Dog();
Dog puppy = dog.reproduce();  // ìºìŠ¤íŒ… ë¶ˆí•„ìš”!
```

ë‹¤í˜•ì„±ê³¼ì˜ ê´€ê³„:
```java
Animal animal = new Dog();
Animal baby = animal.reproduce();  // ë‹¤í˜•ì„± ìœ ì§€

// instanceofë¡œ í™•ì¸í•˜ë©´
if (baby instanceof Dog) {
    System.out.println("ê°•ì•„ì§€ì…ë‹ˆë‹¤!");
}
```

ì¥ì :
1. íƒ€ì… ì•ˆì „ì„± í–¥ìƒ
2. ë¶ˆí•„ìš”í•œ ìºìŠ¤íŒ… ì œê±°
3. ì½”ë“œ ê°€ë…ì„± í–¥ìƒ
```

---

#### Q10. SOLID ì›ì¹™ ì¤‘ LSP(Liskov Substitution Principle)ë¥¼ ì„¤ëª…í•˜ê³ , ë‹¤í˜•ì„±ê³¼ì˜ ê´€ê³„ë¥¼ ë§í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
LSP (ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™):
"ìì‹ í´ë˜ìŠ¤ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ì™„ì „íˆ ëŒ€ì²´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤"

ì˜¬ë°”ë¥¸ ì˜ˆ:
```java
class Rectangle {
    protected int width;
    protected int height;

    public void setWidth(int width) {
        this.width = width;
    }

    public void setHeight(int height) {
        this.height = height;
    }

    public int getArea() {
        return width * height;
    }
}

// âŒ LSP ìœ„ë°˜ ì˜ˆì‹œ
class Square extends Rectangle {
    @Override
    public void setWidth(int width) {
        this.width = width;
        this.height = width;  // ì •ì‚¬ê°í˜•ì€ width = height
    }

    @Override
    public void setHeight(int height) {
        this.width = height;
        this.height = height;
    }
}

// ë¬¸ì œ ë°œìƒ
void test(Rectangle rect) {
    rect.setWidth(5);
    rect.setHeight(4);
    assert rect.getArea() == 20;  // Squareë©´ ì‹¤íŒ¨! (25)
}
```

LSPë¥¼ ì§€í‚¤ëŠ” ì„¤ê³„:
```java
interface Shape {
    int getArea();
}

class Rectangle implements Shape {
    private int width;
    private int height;

    public Rectangle(int width, int height) {
        this.width = width;
        this.height = height;
    }

    public int getArea() {
        return width * height;
    }
}

class Square implements Shape {
    private int side;

    public Square(int side) {
        this.side = side;
    }

    public int getArea() {
        return side * side;
    }
}
```

ë‹¤í˜•ì„±ê³¼ì˜ ê´€ê³„:
- LSPë¥¼ ì§€ì¼œì•¼ ì•ˆì „í•œ ë‹¤í˜•ì„± êµ¬í˜„ ê°€ëŠ¥
- ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ìì‹ ê°ì²´ë¥¼ ì‚¬ìš©í•´ë„ ë¬¸ì œì—†ì–´ì•¼ í•¨
```

---

#### Q11. ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•œ ë””ìì¸ íŒ¨í„´ 3ê°€ì§€ë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
1. ì „ëµ íŒ¨í„´ (Strategy Pattern)
- ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ê³  êµì²´ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¦
```java
interface PaymentStrategy {
    void pay(int amount);
}

class CreditCardStrategy implements PaymentStrategy {
    public void pay(int amount) {
        System.out.println("ì‹ ìš©ì¹´ë“œ ê²°ì œ: " + amount);
    }
}

class KakaoPayStrategy implements PaymentStrategy {
    public void pay(int amount) {
        System.out.println("ì¹´ì¹´ì˜¤í˜ì´ ê²°ì œ: " + amount);
    }
}

class PaymentService {
    private PaymentStrategy strategy;

    public void setStrategy(PaymentStrategy strategy) {
        this.strategy = strategy;
    }

    public void processPayment(int amount) {
        strategy.pay(amount);  // ë‹¤í˜•ì„±!
    }
}
```

2. íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ (Factory Method Pattern)
- ê°ì²´ ìƒì„±ì„ ì„œë¸Œí´ë˜ìŠ¤ì— ìœ„ì„
```java
abstract class AnimalFactory {
    public abstract Animal createAnimal();

    public void makeAnimalSound() {
        Animal animal = createAnimal();  // ë‹¤í˜•ì„±!
        animal.makeSound();
    }
}

class DogFactory extends AnimalFactory {
    public Animal createAnimal() {
        return new Dog();
    }
}

class CatFactory extends AnimalFactory {
    public Animal createAnimal() {
        return new Cat();
    }
}
```

3. í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ (Template Method Pattern)
- ì•Œê³ ë¦¬ì¦˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³ , ì„¸ë¶€ ë‹¨ê³„ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„
```java
abstract class DataProcessor {
    // í…œí”Œë¦¿ ë©”ì„œë“œ
    public final void process() {
        readData();    // ë‹¤í˜•ì„±
        processData(); // ë‹¤í˜•ì„±
        saveData();    // ë‹¤í˜•ì„±
    }

    protected abstract void readData();
    protected abstract void processData();
    protected abstract void saveData();
}

class CSVProcessor extends DataProcessor {
    protected void readData() {
        System.out.println("CSV ì½ê¸°");
    }

    protected void processData() {
        System.out.println("CSV ì²˜ë¦¬");
    }

    protected void saveData() {
        System.out.println("CSV ì €ì¥");
    }
}
```
```

---

#### Q12. ë‹¤í˜•ì„± ì‚¬ìš© ì‹œ ì£¼ì˜í•´ì•¼ í•  ì ê³¼ ì•ˆí‹°íŒ¨í„´ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ì˜ˆì‹œ ë‹µë³€:**
```
ì£¼ì˜ì :

1. ë‹¤ìš´ìºìŠ¤íŒ… ë‚¨ë°œ ê¸ˆì§€
âŒ ì•ˆí‹°íŒ¨í„´:
```java
public void process(Animal animal) {
    if (animal instanceof Dog) {
        ((Dog) animal).bark();
    } else if (animal instanceof Cat) {
        ((Cat) animal).meow();
    }
    // ìƒˆ ë™ë¬¼ ì¶”ê°€ë§ˆë‹¤ if ì¶”ê°€ í•„ìš” - OCP ìœ„ë°˜!
}
```

âœ… ì˜¬ë°”ë¥¸ ë°©ë²•:
```java
public void process(Animal animal) {
    animal.makeSound();  // ë‹¤í˜•ì„±ìœ¼ë¡œ í•´ê²°
}
```

2. ë¶€ì ì ˆí•œ ìƒì† êµ¬ì¡°
âŒ ì•ˆí‹°íŒ¨í„´:
```java
class Circle {
    public void draw() { }
}

class ColoredCircle extends Circle {
    // Colorë¥¼ ìœ„í•´ ìƒì†? - ì˜ëª»ëœ ì„¤ê³„
}
```

âœ… ì˜¬ë°”ë¥¸ ë°©ë²•:
```java
class Circle {
    private Color color;  // êµ¬ì„±(Composition) ì‚¬ìš©
    public void draw() { }
}
```

3. LSP ìœ„ë°˜
- ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ì˜ ê³„ì•½ì„ ìœ„ë°˜
- ì˜ˆì™¸ ë˜ì§€ê¸°, ë°˜í™˜ íƒ€ì… ë³€ê²½ ë“±

4. ê³¼ë„í•œ ì¶”ìƒí™”
âŒ ì•ˆí‹°íŒ¨í„´:
```java
// ë„ˆë¬´ ë§ì€ ë ˆë²¨ì˜ ìƒì†
Animal â†’ Mammal â†’ Canine â†’ Dog â†’ Poodle
```

âœ… ì˜¬ë°”ë¥¸ ë°©ë²•:
- 3-4ë ˆë²¨ ì´ë‚´ë¡œ ì œí•œ
- í•„ìš”ì‹œ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©

5. instanceof ì²´í¬ í›„ ë³„ë„ ë¡œì§
âŒ ì•ˆí‹°íŒ¨í„´:
```java
if (payment instanceof CreditCard) {
    // ì‹ ìš©ì¹´ë“œë§Œì„ ìœ„í•œ ë³µì¡í•œ ë¡œì§ 200ì¤„
    // ...
}
```

âœ… ì˜¬ë°”ë¥¸ ë°©ë²•:
- í•´ë‹¹ ë¡œì§ì„ ìì‹ í´ë˜ìŠ¤ë¡œ ì´ë™
- ì „ëµ íŒ¨í„´ ê³ ë ¤
```

**ì‹¤ë¬´ íŒ:**
- Effective Javaì˜ "ìƒì†ë³´ë‹¤ ì¡°í•©(Composition)ì„ ì„ í˜¸í•˜ë¼" ì›ì¹™
- ë‹¤í˜•ì„±ì€ ë„êµ¬ì¼ ë¿, ë‚¨ìš©í•˜ì§€ ë§ ê²ƒ
- ì½”ë“œ ë¦¬ë·° ì‹œ ë‹¤í˜•ì„± ì„¤ê³„ ì ê²€

---

## ğŸ“š í•™ìŠµ ë§ˆë¬´ë¦¬

### í•µì‹¬ ìš”ì•½
1. **ë‹¤í˜•ì„±ì˜ ë³¸ì§ˆ**: í•˜ë‚˜ì˜ íƒ€ì…ìœ¼ë¡œ ì—¬ëŸ¬ ê°ì²´ë¥¼ ë‹¤ë£¨ëŠ” ëŠ¥ë ¥
2. **ì‹¤ì „ í™œìš©**: ê²°ì œ ì‹œìŠ¤í…œ, ì‡¼í•‘ëª°, ê²Œì„ ë“± ëª¨ë“  ê³³ì—ì„œ ì‚¬ìš©
3. **ì„¤ê³„ ì›ì¹™**: LSP, OCPë¥¼ ì§€í‚¤ë©° í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° ì„¤ê³„
4. **ì£¼ì˜ì‚¬í•­**: instanceof ë‚¨ë°œ ê¸ˆì§€, ë‹¤ìš´ìºìŠ¤íŒ… ìµœì†Œí™”

### ë‹¤ìŒ í•™ìŠµ ì£¼ì œ
- **Chapter 18**: ì¶”ìƒ í´ë˜ìŠ¤ (Abstract Class)
  - ë‹¤í˜•ì„±ì˜ ê¸°ë°˜ì´ ë˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ ì‹¬í™”
  - í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´
  - ì¶”ìƒ í´ë˜ìŠ¤ vs ì¸í„°í˜ì´ìŠ¤

---

**ì‘ì„±ì¼**: 2025-01-10
**ì±•í„°**: 17. ë‹¤í˜•ì„± (Polymorphism) - Part 3
