# 3. ì´ë¯¸ì§€ ë ˆì´ì–´ì™€ íŒŒì¼ ì‹œìŠ¤í…œ ğŸ“¦

> **í•™ìŠµ ëª©í‘œ**: Docker ì´ë¯¸ì§€ì˜ ë ˆì´ì–´ êµ¬ì¡°ì™€ Union File Systemì„ ì´í•´í•˜ê³ , ì´ë¯¸ì§€ í¬ê¸° ìµœì í™” ë° ë¹Œë“œ ìºì‹œ í™œìš© ëŠ¥ë ¥ì„ ìŠµë“í•©ë‹ˆë‹¤

**â±ï¸ ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 2-3ì‹œê°„
**ë‚œì´ë„**: â­â­â­â˜†â˜† (3ê°œ/5ê°œ)

---

## ğŸ“š ëª©ì°¨
- [2.3 ì´ë¯¸ì§€ ë ˆì´ì–´ êµ¬ì¡°](#23-ì´ë¯¸ì§€-ë ˆì´ì–´-êµ¬ì¡°)
- [2.4 Union File System (OverlayFS)](#24-union-file-system-overlayfs)
- [ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°](#-ì‹¤ìƒí™œ-ë¹„ìœ ë¡œ-ì´í•´í•˜ê¸°)
- [ìˆ˜ì¹˜ë¡œ ë³´ëŠ” íš¨ê³¼](#-ìˆ˜ì¹˜ë¡œ-ë³´ëŠ”-íš¨ê³¼)
- [ì£¼ë‹ˆì–´ ì‹œë‚˜ë¦¬ì˜¤](#-ì£¼ë‹ˆì–´-ì‹œë‚˜ë¦¬ì˜¤)
- [FAQ](#-faq)
- [ë©´ì ‘ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸](#-ë©´ì ‘-ì§ˆë¬¸-ë¦¬ìŠ¤íŠ¸)
- [ì¶•í•˜í•©ë‹ˆë‹¤](#-ì¶•í•˜í•©ë‹ˆë‹¤)

---

## 2.3 ì´ë¯¸ì§€ ë ˆì´ì–´ êµ¬ì¡°

### ğŸ¯ í•µì‹¬ ì§ˆë¬¸: "Docker ì´ë¯¸ì§€ëŠ” ì–´ë–»ê²Œ ì €ì¥ë ê¹Œ?"

Docker ì´ë¯¸ì§€ëŠ” ë‹¨ìˆœí•œ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤. **ì—¬ëŸ¬ ê°œì˜ ë ˆì´ì–´(ì¸µ)ê°€ ìŒ“ì—¬ì„œ ë§Œë“¤ì–´ì§„ êµ¬ì¡°**ì…ë‹ˆë‹¤!

### ğŸ“š ë ˆì´ì–´ ì‹œìŠ¤í…œ ê¸°ë³¸ ê°œë…

#### ğŸ‚ ì¼€ì´í¬ë¡œ ì´í•´í•˜ê¸°

```
Docker ì´ë¯¸ì§€ = ì—¬ëŸ¬ ì¸µìœ¼ë¡œ ì´ë£¨ì–´ì§„ ì¼€ì´í¬

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â¬…ï¸ Layer 5: ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ (10 MB)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     COPY app.jar /app/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â¬…ï¸ Layer 4: í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (1 KB)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     ENV JAVA_HOME=/usr/lib/jvm
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â¬…ï¸ Layer 3: Java ì„¤ì¹˜ (200 MB)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     RUN apt-get install openjdk-11
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â¬…ï¸ Layer 2: íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ (50 MB)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     RUN apt-get update
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â¬…ï¸ Layer 1: ë² ì´ìŠ¤ ì´ë¯¸ì§€ (80 MB)
                                FROM ubuntu:20.04

ê° ì¸µì€ ë…ë¦½ì ì´ì§€ë§Œ í•¨ê»˜ ì‘ë™!
```

### ğŸ” Dockerfileê³¼ ë ˆì´ì–´ì˜ ê´€ê³„

**Dockerfileì˜ ê° ëª…ë ¹ì–´ = ìƒˆë¡œìš´ ë ˆì´ì–´**

#### ì˜ˆì‹œ 1: ê°„ë‹¨í•œ Node.js ì• í”Œë¦¬ì¼€ì´ì…˜

```dockerfile
# Dockerfile
FROM node:16-alpine                    # Layer 1 (ë² ì´ìŠ¤)
WORKDIR /app                           # Layer 2 (ë””ë ‰í† ë¦¬ ìƒì„±)
COPY package*.json ./                  # Layer 3 (package íŒŒì¼ ë³µì‚¬)
RUN npm install                        # Layer 4 (ì˜ì¡´ì„± ì„¤ì¹˜)
COPY . .                               # Layer 5 (ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬)
EXPOSE 3000                            # ë©”íƒ€ë°ì´í„°ë§Œ (ë ˆì´ì–´ ì•„ë‹˜)
CMD ["node", "server.js"]              # ë©”íƒ€ë°ì´í„°ë§Œ (ë ˆì´ì–´ ì•„ë‹˜)
```

**ì‹¤ì œ ë ˆì´ì–´ êµ¬ì¡°:**
```
ìƒì„±ëœ ì´ë¯¸ì§€: myapp:latest

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 5: COPY . .                            â”‚  10 MB
â”‚ - ì†ŒìŠ¤ ì½”ë“œ íŒŒì¼ë“¤                            â”‚  (ì½ê¸° ì „ìš©)
â”‚ - server.js, routes/, controllers/          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 4: RUN npm install                    â”‚  150 MB
â”‚ - node_modules/                             â”‚  (ì½ê¸° ì „ìš©)
â”‚ - ëª¨ë“  npm íŒ¨í‚¤ì§€                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 3: COPY package*.json ./              â”‚  1 KB
â”‚ - package.json                              â”‚  (ì½ê¸° ì „ìš©)
â”‚ - package-lock.json                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 2: WORKDIR /app                       â”‚  4 KB
â”‚ - /app ë””ë ‰í† ë¦¬ ìƒì„±                         â”‚  (ì½ê¸° ì „ìš©)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 1: FROM node:16-alpine                â”‚  40 MB
â”‚ - Alpine Linux                              â”‚  (ì½ê¸° ì „ìš©)
â”‚ - Node.js 16 ëŸ°íƒ€ì„                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì´ í¬ê¸°: ì•½ 200 MB
ëª¨ë“  ë ˆì´ì–´ëŠ” ì½ê¸° ì „ìš© (Immutable)
```

#### ì˜ˆì‹œ 2: Python Flask ì• í”Œë¦¬ì¼€ì´ì…˜

```dockerfile
FROM python:3.9-slim                   # Layer 1
WORKDIR /app                           # Layer 2
COPY requirements.txt .                # Layer 3
RUN pip install -r requirements.txt    # Layer 4
COPY . .                               # Layer 5
CMD ["python", "app.py"]               # ë©”íƒ€ë°ì´í„°
```

**ë¹Œë“œ ê³¼ì • ì‹¤ì‹œê°„ ì¶œë ¥:**
```bash
$ docker build -t myflask:latest .

Step 1/6 : FROM python:3.9-slim
 ---> a1b2c3d4e5f6    â† Layer 1 (ê¸°ì¡´ ì´ë¯¸ì§€ ì¬ì‚¬ìš©)

Step 2/6 : WORKDIR /app
 ---> Running in abc123def456
 ---> def456ghi789    â† Layer 2 (ìƒˆë¡œ ìƒì„±)

Step 3/6 : COPY requirements.txt .
 ---> ghi789jkl012    â† Layer 3 (ìƒˆë¡œ ìƒì„±)

Step 4/6 : RUN pip install -r requirements.txt
 ---> Running in jkl012mno345
Collecting flask
Collecting werkzeug
...
 ---> mno345pqr678    â† Layer 4 (ìƒˆë¡œ ìƒì„±)

Step 5/6 : COPY . .
 ---> pqr678stu901    â† Layer 5 (ìƒˆë¡œ ìƒì„±)

Step 6/6 : CMD ["python", "app.py"]
 ---> stu901vwx234    â† ìµœì¢… ì´ë¯¸ì§€ ID

Successfully built stu901vwx234
Successfully tagged myflask:latest
```

### ğŸ”„ ë ˆì´ì–´ ì¬ì‚¬ìš©ê³¼ ìºì‹±

#### ğŸ’¡ ë ˆì´ì–´ ì¬ì‚¬ìš©ì˜ ë§ˆë²•

**ì‹œë‚˜ë¦¬ì˜¤: ê°™ì€ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” 3ê°œ ì• í”Œë¦¬ì¼€ì´ì…˜**

```
ì•± A: Node.js ì›¹ ì„œë²„
ì•± B: Node.js REST API
ì•± C: Node.js ë°°ì¹˜ ì‘ì—…

ëª¨ë‘ FROM node:16-alpine ì‚¬ìš©

ì „í†µì ì¸ ë°©ì‹ (ë ˆì´ì–´ ì—†ì´):
ì•± A: 250 MB (Node.js 40MB + ì˜ì¡´ì„± 150MB + ì½”ë“œ 60MB)
ì•± B: 280 MB (Node.js 40MB + ì˜ì¡´ì„± 180MB + ì½”ë“œ 60MB)
ì•± C: 220 MB (Node.js 40MB + ì˜ì¡´ì„± 120MB + ì½”ë“œ 60MB)
ì´í•©: 750 MB

Docker ë ˆì´ì–´ ë°©ì‹ (ì¬ì‚¬ìš©):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ node:16-alpine (40 MB) â† í•œ ë²ˆë§Œ ì €ì¥!  â”‚  â¬…ï¸ ê³µìœ  ë ˆì´ì–´
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘           â†‘           â†‘
    â”Œâ”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”˜
    â”‚           â”‚           â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚ ì•± A   â”‚  â”‚ ì•± B   â”‚  â”‚ ì•± C   â”‚
â”‚ 210 MB â”‚  â”‚ 240 MB â”‚  â”‚ 180 MB â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì‹¤ì œ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰: 40 + 210 + 240 + 180 = 670 MB
ì ˆì•½: 80 MB (ì•½ 11%)

ë” ë§ì€ ì•±ì„ ì¶”ê°€í• ìˆ˜ë¡ ì ˆì•½ íš¨ê³¼ ì¦ê°€!
10ê°œ ì•±: ì•½ 400MB ì ˆì•½
```

#### âš¡ ë¹Œë“œ ìºì‹œì˜ ìœ„ë ¥

**ì‹œë‚˜ë¦¬ì˜¤: ì†ŒìŠ¤ ì½”ë“œ í•œ ì¤„ ìˆ˜ì • í›„ ì¬ë¹Œë“œ**

```dockerfile
FROM node:16-alpine              # Layer 1
WORKDIR /app                     # Layer 2
COPY package*.json ./            # Layer 3
RUN npm install                  # Layer 4 (ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¼!)
COPY . .                         # Layer 5
```

**ì²« ë²ˆì§¸ ë¹Œë“œ:**
```bash
$ time docker build -t myapp .

Step 1/5 : FROM node:16-alpine
 ---> Using cache                      âš¡ 0ì´ˆ (ì´ë¯¸ ìˆìŒ)

Step 2/5 : WORKDIR /app
 ---> Running in abc123
 ---> Created new layer                â±ï¸ 1ì´ˆ

Step 3/5 : COPY package*.json ./
 ---> Created new layer                â±ï¸ 1ì´ˆ

Step 4/5 : RUN npm install
 ---> Running in def456
[npm ì„¤ì¹˜ ê³¼ì •...]
 ---> Created new layer                â±ï¸ 120ì´ˆ (2ë¶„!)

Step 5/5 : COPY . .
 ---> Created new layer                â±ï¸ 2ì´ˆ

ì´ ì‹œê°„: 124ì´ˆ (ì•½ 2ë¶„)
```

**ë‘ ë²ˆì§¸ ë¹Œë“œ (server.js íŒŒì¼ë§Œ ìˆ˜ì •):**
```bash
$ time docker build -t myapp .

Step 1/5 : FROM node:16-alpine
 ---> Using cache                      âš¡ 0ì´ˆ

Step 2/5 : WORKDIR /app
 ---> Using cache                      âš¡ 0ì´ˆ

Step 3/5 : COPY package*.json ./
 ---> Using cache                      âš¡ 0ì´ˆ (íŒŒì¼ ë³€ê²½ ì—†ìŒ)

Step 4/5 : RUN npm install
 ---> Using cache                      âš¡ 0ì´ˆ (ì˜ì¡´ì„± ë³€ê²½ ì—†ìŒ!)

Step 5/5 : COPY . .
 ---> Created new layer                â±ï¸ 2ì´ˆ (ë³€ê²½ë¨)

ì´ ì‹œê°„: 2ì´ˆ!
ì†ë„ í–¥ìƒ: 62ë°°! ğŸš€
```

**ìºì‹œ ë¬´íš¨í™”:**
```
ë§Œì•½ package.jsonì„ ìˆ˜ì •í•˜ë©´?

Step 1/5 : FROM node:16-alpine
 ---> Using cache                      âš¡ 0ì´ˆ

Step 2/5 : WORKDIR /app
 ---> Using cache                      âš¡ 0ì´ˆ

Step 3/5 : COPY package*.json ./
 ---> Created new layer                â±ï¸ 1ì´ˆ (ë³€ê²½ ê°ì§€!)

Step 4/5 : RUN npm install
 ---> Running in xyz789                â±ï¸ 120ì´ˆ (ë‹¤ì‹œ ì‹¤í–‰!)
                                        ìºì‹œ ë¬´íš¨í™”!
Step 5/5 : COPY . .
 ---> Created new layer                â±ï¸ 2ì´ˆ

Layer 3ì´ ë³€ê²½ë˜ë©´ ê·¸ ì´í›„ ëª¨ë“  ë ˆì´ì–´ê°€ ì¬ìƒì„±ë¨!
```

### ğŸ“Š ë ˆì´ì–´ í™•ì¸í•˜ê¸°

#### ëª…ë ¹ì–´ë¡œ ë ˆì´ì–´ ë³´ê¸°

```bash
# ì´ë¯¸ì§€ íˆìŠ¤í† ë¦¬ í™•ì¸ (ê° ë ˆì´ì–´ í™•ì¸)
$ docker history nginx:latest

IMAGE          CREATED        CREATED BY                                      SIZE
605c77e624dd   2 weeks ago    CMD ["nginx" "-g" "daemon off;"]                0B
<missing>      2 weeks ago    STOPSIGNAL SIGQUIT                             0B
<missing>      2 weeks ago    EXPOSE 80                                       0B
<missing>      2 weeks ago    ENTRYPOINT ["/docker-entrypoint.sh"]           0B
<missing>      2 weeks ago    COPY file:... in /                             4.61kB
<missing>      2 weeks ago    RUN /bin/sh -c set -x     && addgroup...       61.1MB
<missing>      2 weeks ago    ENV NGINX_VERSION=1.21.6                       0B
<missing>      2 weeks ago    LABEL maintainer=NGINX Docker...               0B
<missing>      2 weeks ago    /bin/sh -c #(nop)  CMD ["/bin/bash"]           0B
<missing>      2 weeks ago    /bin/sh -c #(nop) ADD file:... in /            80.4MB

ì´ í¬ê¸°: 141.5 MB
ì‹¤ì œ ë°ì´í„° ë ˆì´ì–´: 80.4MB + 61.1MB + 4.61KB
ë©”íƒ€ë°ì´í„°ë§Œ: CMD, EXPOSE, ENV, LABEL (0B)
```

**ìƒì„¸ ë¶„ì„:**
```bash
# íŠ¹ì • ì´ë¯¸ì§€ì˜ ë ˆì´ì–´ êµ¬ì¡° JSON í˜•íƒœë¡œ ë³´ê¸°
$ docker inspect nginx:latest

[
    {
        "RootFS": {
            "Type": "layers",
            "Layers": [
                "sha256:e1acddbe380c63d4b1b7c6f8...",  â† Layer 1
                "sha256:e21c333399e0afc2e2...",        â† Layer 2
                "sha256:ed835de16acd609d...",          â† Layer 3
                "sha256:881ff011f1354f...",            â† Layer 4
                "sha256:77700c52c9...",                â† Layer 5
                "sha256:44be98c0fab6..."                â† Layer 6
            ]
        }
    }
]
```

#### ì‹¤ì œ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ë ˆì´ì–´ í™•ì¸

```bash
# Dockerê°€ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ëŠ” ìœ„ì¹˜
$ sudo ls -la /var/lib/docker/overlay2/

drwx------  7 root root  4096 Jan 15 10:00 0a1b2c3d4e5f.../
drwx------  7 root root  4096 Jan 15 10:01 1b2c3d4e5f6a.../
drwx------  7 root root  4096 Jan 15 10:02 2c3d4e5f6a7b.../
...

ê° ë””ë ‰í† ë¦¬ = í•˜ë‚˜ì˜ ë ˆì´ì–´

# íŠ¹ì • ë ˆì´ì–´ ë‚´ìš© í™•ì¸
$ sudo ls -la /var/lib/docker/overlay2/0a1b2c3d4e5f.../diff/

drwxr-xr-x  2 root root  4096 Jan 15 10:00 bin/
drwxr-xr-x  2 root root  4096 Jan 15 10:00 etc/
drwxr-xr-x  5 root root  4096 Jan 15 10:00 usr/
...

diff/ ë””ë ‰í† ë¦¬ = í•´ë‹¹ ë ˆì´ì–´ì—ì„œ ì¶”ê°€/ë³€ê²½ëœ íŒŒì¼ë“¤
```

### ğŸ¨ ë ˆì´ì–´ì˜ ë¶ˆë³€ì„± (Immutability)

#### ì½ê¸° ì „ìš© ë ˆì´ì–´

```
ì´ë¯¸ì§€ì˜ ëª¨ë“  ë ˆì´ì–´ëŠ” ì½ê¸° ì „ìš©!

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 3: app code       â”‚  ì½ê¸° ì „ìš© âœ…
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  ìˆ˜ì • ë¶ˆê°€ ğŸ”’
â”‚ Layer 2: dependencies   â”‚  ì½ê¸° ì „ìš© âœ…
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  ìˆ˜ì • ë¶ˆê°€ ğŸ”’
â”‚ Layer 1: base image     â”‚  ì½ê¸° ì „ìš© âœ…
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  ìˆ˜ì • ë¶ˆê°€ ğŸ”’

ì¥ì :
1. ì•ˆì „ì„±: ì´ë¯¸ì§€ê°€ ë³€ê²½ë˜ì§€ ì•ŠìŒ
2. ê³µìœ : ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆê°€ ê°™ì€ ë ˆì´ì–´ ì‚¬ìš©
3. ìºì‹±: ë³€ê²½ë˜ì§€ ì•Šì€ ë ˆì´ì–´ëŠ” ì¬ë¹Œë“œ ë¶ˆí•„ìš”
```

#### ì»¨í…Œì´ë„ˆ ì“°ê¸° ë ˆì´ì–´

```
ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ë©´ ì½ê¸°/ì“°ê¸° ë ˆì´ì–´ ì¶”ê°€!

ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì¤‘:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Container Layer         â”‚  ì½ê¸°/ì“°ê¸° âœ…
â”‚ (ì„ì‹œ, ì‚­ì œ ì‹œ ì‚¬ë¼ì§)   â”‚  ìˆ˜ì • ê°€ëŠ¥ ğŸ“
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†‘
â”‚ Layer 3: app code       â”‚  ì½ê¸° ì „ìš©
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†‘
â”‚ Layer 2: dependencies   â”‚  ì½ê¸° ì „ìš©
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†‘
â”‚ Layer 1: base image     â”‚  ì½ê¸° ì „ìš©
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‹¤ì œ ì˜ˆì‹œ:**
```bash
# ì»¨í…Œì´ë„ˆ ì‹œì‘
$ docker run -it ubuntu bash

# ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ íŒŒì¼ ìƒì„±
root@abc123:/# echo "Hello" > /tmp/test.txt
root@abc123:/# ls /tmp/
test.txt

# ì»¨í…Œì´ë„ˆ ì¢…ë£Œ
root@abc123:/# exit

# ì»¨í…Œì´ë„ˆ ì‚­ì œ
$ docker rm abc123

# íŒŒì¼ë„ í•¨ê»˜ ì‚¬ë¼ì§!
# ì´ë¯¸ì§€ ë ˆì´ì–´ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë¨
```

### ğŸ”§ Copy-on-Write (CoW) ë©”ì»¤ë‹ˆì¦˜

#### CoW ì‘ë™ ì›ë¦¬

**"í•„ìš”í•  ë•Œë§Œ ë³µì‚¬í•œë‹¤"**

```
ì‹œë‚˜ë¦¬ì˜¤: ì»¨í…Œì´ë„ˆì—ì„œ /etc/config.txt íŒŒì¼ ìˆ˜ì •

ì´ˆê¸° ìƒíƒœ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Container Layer      â”‚  (ë¹„ì–´ìˆìŒ)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 2              â”‚  /etc/config.txt (ì›ë³¸)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 1              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

íŒŒì¼ ì½ê¸°:
- Layer 2ì—ì„œ ì§ì ‘ ì½ìŒ
- ë³µì‚¬ ì—†ìŒ (ë¹ ë¦„!)

íŒŒì¼ ìˆ˜ì • ì‹œë„:
1. Layer 2ì˜ /etc/config.txt ì°¾ìŒ
2. Container Layerë¡œ ë³µì‚¬ (Copy!)
3. Container Layerì—ì„œ ìˆ˜ì •
4. ì›ë³¸(Layer 2)ì€ ê·¸ëŒ€ë¡œ ìœ ì§€

ìˆ˜ì • í›„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Container Layer      â”‚  /etc/config.txt (ìˆ˜ì •ëœ ë²„ì „)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 2              â”‚  /etc/config.txt (ì›ë³¸, ê·¸ëŒ€ë¡œ)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 1              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê°™ì€ ì´ë¯¸ì§€ë¡œ ì‹¤í–‰í•œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆ:
- Layer 2ì˜ ì›ë³¸ íŒŒì¼ ì‚¬ìš©
- ì„œë¡œ ì˜í–¥ ì—†ìŒ!
```

**ì‹¤ì œ í…ŒìŠ¤íŠ¸:**
```bash
# nginx ì´ë¯¸ì§€ë¡œ 2ê°œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
$ docker run -d --name nginx1 nginx
$ docker run -d --name nginx2 nginx

# nginx1 ì»¨í…Œì´ë„ˆì—ì„œ íŒŒì¼ ìˆ˜ì •
$ docker exec nginx1 bash -c "echo 'Modified' > /etc/nginx/nginx.conf"

# nginx1ì—ì„œ í™•ì¸
$ docker exec nginx1 cat /etc/nginx/nginx.conf
Modified

# nginx2ì—ì„œ í™•ì¸ (ì›ë³¸ ê·¸ëŒ€ë¡œ!)
$ docker exec nginx2 cat /etc/nginx/nginx.conf
[ì›ë³¸ nginx ì„¤ì • ë‚´ìš©...]

# ì´ë¯¸ì§€ ë ˆì´ì–´ëŠ” ê³µìœ í•˜ì§€ë§Œ ìˆ˜ì • ì‚¬í•­ì€ ë…ë¦½ì !
```

### ğŸ“ˆ ë ˆì´ì–´ ìµœì í™” ê¸°ë²•

#### 1ï¸âƒ£ ëª…ë ¹ì–´ ì²´ì´ë‹

**âŒ ë‚˜ìœ ì˜ˆ (ë ˆì´ì–´ê°€ ë§ìŒ):**
```dockerfile
FROM ubuntu:20.04

RUN apt-get update                    # Layer 1: 50 MB
RUN apt-get install -y curl           # Layer 2: 10 MB
RUN apt-get install -y git            # Layer 3: 30 MB
RUN apt-get install -y vim            # Layer 4: 40 MB
RUN apt-get clean                     # Layer 5: 0 MB (ì´ë¯¸ ì €ì¥ëœ ìºì‹œëŠ” ê·¸ëŒ€ë¡œ)

ì´ ë ˆì´ì–´: 5ê°œ
ì´ í¬ê¸°: 130 MB
```

**âœ… ì¢‹ì€ ì˜ˆ (ë ˆì´ì–´ ìµœì†Œí™”):**
```dockerfile
FROM ubuntu:20.04

RUN apt-get update && \
    apt-get install -y \
        curl \
        git \
        vim && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*       # Layer 1: 80 MB

ì´ ë ˆì´ì–´: 1ê°œ
ì´ í¬ê¸°: 80 MB
ì ˆì•½: 50 MB (38%)!
```

**ì™œ í¬ê¸°ê°€ ì¤„ì–´ë“¤ê¹Œ?**
```
ë‚˜ìœ ì˜ˆ:
Layer 1: apt-get update (íŒ¨í‚¤ì§€ ëª©ë¡ ë‹¤ìš´ë¡œë“œ)
Layer 2: curl ì„¤ì¹˜ (íŒ¨í‚¤ì§€ ìºì‹œ í¬í•¨)
Layer 3: git ì„¤ì¹˜ (íŒ¨í‚¤ì§€ ìºì‹œ í¬í•¨)
Layer 4: vim ì„¤ì¹˜ (íŒ¨í‚¤ì§€ ìºì‹œ í¬í•¨)
Layer 5: clean ì‹¤í–‰ (í•˜ì§€ë§Œ ì´ì „ ë ˆì´ì–´ì˜ ìºì‹œëŠ” ì´ë¯¸ ì €ì¥ë¨!)

ì¢‹ì€ ì˜ˆ:
Layer 1:
  - update
  - ì„¤ì¹˜
  - clean (ê°™ì€ ë ˆì´ì–´ì—ì„œ ìºì‹œ ì‚­ì œ!)
  - ìµœì¢… ê²°ê³¼ë¬¼ë§Œ ì €ì¥
```

#### 2ï¸âƒ£ íŒŒì¼ ë³µì‚¬ ìˆœì„œ ìµœì í™”

**âŒ ë‚˜ìœ ì˜ˆ (ìºì‹œ í™œìš© ëª»í•¨):**
```dockerfile
FROM node:16-alpine

# ì†ŒìŠ¤ ì½”ë“œë¥¼ ë¨¼ì € ë³µì‚¬
COPY . .                              # Layer 1
RUN npm install                       # Layer 2

# ì†ŒìŠ¤ ì½”ë“œ í•œ ì¤„ë§Œ ë°”ê¿”ë„ npm install ë‹¤ì‹œ ì‹¤í–‰! (2ë¶„ ì†Œìš”)
```

**âœ… ì¢‹ì€ ì˜ˆ (ìºì‹œ ìµœëŒ€í•œ í™œìš©):**
```dockerfile
FROM node:16-alpine

# ì˜ì¡´ì„± íŒŒì¼ë§Œ ë¨¼ì € ë³µì‚¬
COPY package*.json ./                 # Layer 1
RUN npm install                       # Layer 2 (ìºì‹œë¨!)

# ì†ŒìŠ¤ ì½”ë“œëŠ” ë‚˜ì¤‘ì— ë³µì‚¬
COPY . .                              # Layer 3

# ì†ŒìŠ¤ ì½”ë“œë§Œ ë°”ë€Œë©´ Layer 3ë§Œ ì¬ë¹Œë“œ (1ì´ˆ!)
# npm installì€ ìºì‹œ ì‚¬ìš© (0ì´ˆ!)
```

**ì‹¤ì œ ë¹Œë“œ ì‹œê°„ ë¹„êµ:**
```bash
# ì²« ë¹Œë“œ
ë‚˜ìœ ì˜ˆ: 120ì´ˆ
ì¢‹ì€ ì˜ˆ: 120ì´ˆ (ë˜‘ê°™ìŒ)

# ì†ŒìŠ¤ ì½”ë“œ ìˆ˜ì • í›„ ì¬ë¹Œë“œ
ë‚˜ìœ ì˜ˆ: 120ì´ˆ (ë§¤ë²ˆ npm install)
ì¢‹ì€ ì˜ˆ: 2ì´ˆ (npm install ìºì‹œ ì‚¬ìš©)

ê°œë°œ ì¤‘ 10ë²ˆ ë¹Œë“œ ì‹œ:
ë‚˜ìœ ì˜ˆ: 1200ì´ˆ (20ë¶„)
ì¢‹ì€ ì˜ˆ: 138ì´ˆ (2ë¶„ 18ì´ˆ)
ì‹œê°„ ì ˆì•½: 1062ì´ˆ (17ë¶„ 42ì´ˆ!) âš¡
```

#### 3ï¸âƒ£ .dockerignore í™œìš©

**í”„ë¡œì íŠ¸ êµ¬ì¡°:**
```
myproject/
â”œâ”€â”€ src/                  (í•„ìš”í•¨)
â”œâ”€â”€ test/                 (í•„ìš”í•¨)
â”œâ”€â”€ node_modules/         (ë¶ˆí•„ìš”! - npm installë¡œ ìƒì„±)
â”œâ”€â”€ .git/                 (ë¶ˆí•„ìš”! - 1 GB)
â”œâ”€â”€ coverage/             (ë¶ˆí•„ìš”! - í…ŒìŠ¤íŠ¸ ê²°ê³¼)
â”œâ”€â”€ .env.local            (ë¶ˆí•„ìš”! - ë¡œì»¬ ì„¤ì •)
â”œâ”€â”€ *.log                 (ë¶ˆí•„ìš”!)
â””â”€â”€ Dockerfile
```

**.dockerignore íŒŒì¼:**
```
# .dockerignore
node_modules
.git
coverage
*.log
.env.local
.DS_Store
npm-debug.log*
.vscode
.idea
```

**íš¨ê³¼:**
```
.dockerignore ì—†ì´ ë¹Œë“œ:
Sending build context to Docker daemon  1.5 GB    â±ï¸ 30ì´ˆ
Step 1/5...

.dockerignore ì‚¬ìš© í›„:
Sending build context to Docker daemon  50 MB     âš¡ 1ì´ˆ
Step 1/5...

ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ ì „ì†¡ ì‹œê°„: 30ë°° ë¹ ë¦„!
```

#### 4ï¸âƒ£ ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ

**âŒ ë‚˜ìœ ì˜ˆ (ë¹Œë“œ ë„êµ¬ í¬í•¨):**
```dockerfile
FROM golang:1.18

WORKDIR /app
COPY . .
RUN go build -o myapp

CMD ["./myapp"]

ìµœì¢… ì´ë¯¸ì§€ í¬ê¸°: 800 MB
(Go ì»´íŒŒì¼ëŸ¬, ë¹Œë“œ ë„êµ¬ ëª¨ë‘ í¬í•¨)
```

**âœ… ì¢‹ì€ ì˜ˆ (ë©€í‹°ìŠ¤í…Œì´ì§€):**
```dockerfile
# Stage 1: ë¹Œë“œ
FROM golang:1.18 AS builder
WORKDIR /app
COPY . .
RUN go build -o myapp

# Stage 2: ì‹¤í–‰
FROM alpine:latest
WORKDIR /app
COPY --from=builder /app/myapp .
CMD ["./myapp"]

ìµœì¢… ì´ë¯¸ì§€ í¬ê¸°: 15 MB
(ì‹¤í–‰ íŒŒì¼ë§Œ í¬í•¨!)
ì ˆì•½: 785 MB (98%)
```

### ğŸ“ ë ˆì´ì–´ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ìš”ì•½

```
âœ… DO (ê¶Œì¥):
1. ìì£¼ ë³€ê²½ë˜ëŠ” ê²ƒì€ ë’¤ë¡œ (COPY . . ëŠ” ë§ˆì§€ë§‰ì—)
2. RUN ëª…ë ¹ì–´ ì²´ì´ë‹ (&&ë¡œ ì—°ê²°)
3. .dockerignore ì‚¬ìš© (ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œì™¸)
4. ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ (ìµœì¢… ì´ë¯¸ì§€ ìµœì†Œí™”)
5. ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì‹ ì¤‘íˆ ì„ íƒ (alpine ë“± ê²½ëŸ‰ ì´ë¯¸ì§€)

âŒ DON'T (ë¹„ê¶Œì¥):
1. ê° ëª…ë ¹ì–´ë§ˆë‹¤ RUN ì‚¬ìš© (ë ˆì´ì–´ í­ë°œ)
2. í° íŒŒì¼ì„ ì¶”ê°€ í›„ ê°™ì€ Dockerfileì—ì„œ ì‚­ì œ
3. apt-get updateì™€ install ë¶„ë¦¬
4. node_modules ë“±ì„ COPYì— í¬í•¨
5. ë£¨íŠ¸ ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰ (ë³´ì•ˆ)
```

---

## 2.4 Union File System (OverlayFS)

### ğŸ¯ Union File Systemì´ë€?

**ì—¬ëŸ¬ ê°œì˜ ë””ë ‰í† ë¦¬ë¥¼ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë³´ì—¬ì£¼ëŠ” íŒŒì¼ ì‹œìŠ¤í…œ**

### ğŸ“š ê°œë… ì´í•´í•˜ê¸°

#### ğŸ¨ íˆ¬ëª… í•„ë¦„ ë¹„ìœ 

```
Union File System = ì—¬ëŸ¬ ì¥ì˜ íˆ¬ëª… í•„ë¦„ì„ ê²¹ì³ë†“ì€ ê²ƒ

í•„ë¦„ 3 (Container Layer):   /app/config.txt (ìˆ˜ì •ë³¸)
                             [íˆ¬ëª…í•œ ë¶€ë¶„]
í•„ë¦„ 2 (App Layer):          /app/server.js
                             /app/config.txt (ì›ë³¸)
í•„ë¦„ 1 (Base Layer):         /bin/bash
                             /etc/
                             /usr/

ìœ„ì—ì„œ ì•„ë˜ë¡œ ë³´ë©´:
- /bin/bash â†’ í•„ë¦„ 1
- /app/server.js â†’ í•„ë¦„ 2
- /app/config.txt â†’ í•„ë¦„ 3 (ì›ë³¸ì€ í•„ë¦„ 2ì— ê°€ë ¤ì§)

ìµœì¢… ë·° = ëª¨ë“  í•„ë¦„ì„ í•©ì¹œ ëª¨ìŠµ!
```

### ğŸ—ï¸ OverlayFS êµ¬ì¡°

DockerëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **OverlayFS**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### OverlayFSì˜ ê³„ì¸µ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Merged View (ìµœì¢… ë·°)                   â”‚
â”‚          ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ë³´ì´ëŠ” íŒŒì¼ ì‹œìŠ¤í…œ             â”‚
â”‚                                                          â”‚
â”‚  /bin/bash     (Lowerì—ì„œ)                              â”‚
â”‚  /etc/hosts    (Lowerì—ì„œ)                              â”‚
â”‚  /app/config.txt  (Upperì—ì„œ - ìˆ˜ì •ë¨)                  â”‚
â”‚  /app/server.js   (Lowerì—ì„œ)                           â”‚
â”‚  /tmp/newfile.txt (Upperì—ì„œ - ìƒˆë¡œ ìƒì„±)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†‘
                    Union Mount
                           â†‘
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Upper Layer    â”‚                  â”‚   Lower Layers   â”‚
â”‚  (ì½ê¸°/ì“°ê¸°)     â”‚                  â”‚   (ì½ê¸° ì „ìš©)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Container Layer  â”‚                  â”‚ Image Layers     â”‚
â”‚                  â”‚                  â”‚                  â”‚
â”‚ /app/config.txt  â”‚                  â”‚ Layer 3: app     â”‚
â”‚ /tmp/newfile.txt â”‚                  â”‚ Layer 2: deps    â”‚
â”‚ .wh.oldfile.txt  â”‚                  â”‚ Layer 1: base    â”‚
â”‚ (ì‚­ì œ í‘œì‹œ)      â”‚                  â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ìš©ì–´ ì •ë¦¬

```
Upper Layer (ìƒìœ„ ë ˆì´ì–´):
- ì»¨í…Œì´ë„ˆ ë ˆì´ì–´
- ì½ê¸°/ì“°ê¸° ê°€ëŠ¥
- ëª¨ë“  ë³€ê²½ì‚¬í•­ì´ ì—¬ê¸° ì €ì¥
- ì»¨í…Œì´ë„ˆ ì‚­ì œ ì‹œ í•¨ê»˜ ì‚­ì œ

Lower Layers (í•˜ìœ„ ë ˆì´ì–´ë“¤):
- ì´ë¯¸ì§€ ë ˆì´ì–´ë“¤
- ì½ê¸° ì „ìš©
- ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆê°€ ê³µìœ 
- ë³€ê²½ ë¶ˆê°€ëŠ¥

Merged (ë³‘í•©ëœ ë·°):
- ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ë³´ì´ëŠ” ìµœì¢… íŒŒì¼ ì‹œìŠ¤í…œ
- Upper + Lower í•©ì¹œ ê²°ê³¼
- ì‚¬ìš©ìëŠ” í•˜ë‚˜ì˜ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ì¸ì‹

Work Directory:
- OverlayFS ë‚´ë¶€ ì‘ì—…ìš©
- ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ ì•ŠìŒ
- ì›ìì  ì‘ì—…ì„ ìœ„í•´ ì‚¬ìš©
```

### ğŸ” OverlayFS ì‘ë™ ì›ë¦¬

#### 1ï¸âƒ£ íŒŒì¼ ì½ê¸° (Read)

```
ì‹œë‚˜ë¦¬ì˜¤: /app/config.txt íŒŒì¼ ì½ê¸°

1. Mergedì—ì„œ ìš”ì²­ ë°›ìŒ
   "cat /app/config.txt"

2. ë¨¼ì € Upper Layer ê²€ìƒ‰
   Upperì— /app/config.txtê°€ ìˆë‚˜?
   â”œâ”€ ìˆìŒ â†’ Upperì—ì„œ ì½ìŒ (ë)
   â””â”€ ì—†ìŒ â†’ 3ë‹¨ê³„ë¡œ

3. Lower Layers ê²€ìƒ‰ (ìœ„ì—ì„œ ì•„ë˜ë¡œ)
   Layer 3ì— ìˆë‚˜? â†’ ìˆìŒ!
   â†’ Layer 3ì—ì„œ ì½ìŒ (ë)

4. ê²°ê³¼ ë°˜í™˜

ì„±ëŠ¥: ë§¤ìš° ë¹ ë¦„ (ì¶”ê°€ ë³µì‚¬ ì—†ìŒ)
```

#### 2ï¸âƒ£ íŒŒì¼ ìˆ˜ì • (Write/Modify)

```
ì‹œë‚˜ë¦¬ì˜¤: /app/config.txt íŒŒì¼ ìˆ˜ì •

1. Mergedì—ì„œ ìˆ˜ì • ìš”ì²­
   "echo 'new' >> /app/config.txt"

2. Upper Layer í™•ì¸
   Upperì— ì´ë¯¸ ìˆë‚˜?
   â”œâ”€ ìˆìŒ â†’ 4ë‹¨ê³„ë¡œ
   â””â”€ ì—†ìŒ â†’ 3ë‹¨ê³„ë¡œ

3. Copy-up ì‘ì—…
   Lowerì—ì„œ /app/config.txt ì°¾ìŒ
   â†’ Upperë¡œ ë³µì‚¬ (Copy-up!)

   ë³µì‚¬ ê³¼ì •:
   Lower Layer â”€â”€â”€â”€â”€ë³µì‚¬â”€â”€â”€â”€â”€â†’ Upper Layer
   [config.txt]              [config.txt (ë³µì‚¬ë³¸)]
   (ì›ë³¸, ì½ê¸°ì „ìš©)           (ì½ê¸°/ì“°ê¸°)

4. Upper Layerì—ì„œ ìˆ˜ì •
   Upperì˜ /app/config.txt ìˆ˜ì •
   'new' ì¶”ê°€

5. ê²°ê³¼
   - Lower: ì›ë³¸ ê·¸ëŒ€ë¡œ (ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë„ ì‚¬ìš© ê°€ëŠ¥)
   - Upper: ìˆ˜ì •ëœ ë²„ì „ (í˜„ì¬ ì»¨í…Œì´ë„ˆë§Œ ë³´ì„)
```

**ì‹¤ì œ ì˜ˆì‹œ:**
```bash
# nginx ì»¨í…Œì´ë„ˆ ì‹¤í–‰
$ docker run -it --name test nginx bash

# íŒŒì¼ ìˆ˜ì •
root@abc123:/# echo "modified" >> /etc/nginx/nginx.conf

# ì´ ìˆœê°„ Copy-up ë°œìƒ!
# Lower Layerì˜ nginx.confê°€ Upper Layerë¡œ ë³µì‚¬ë¨
# ê·¸ í›„ ìˆ˜ì • ì ìš©

# í˜¸ìŠ¤íŠ¸ì—ì„œ í™•ì¸
$ docker inspect test | grep UpperDir
"UpperDir": "/var/lib/docker/overlay2/abc123.../diff"

$ sudo ls -la /var/lib/docker/overlay2/abc123.../diff/etc/nginx/
-rw-r--r-- 1 root root 1234 Jan 15 10:00 nginx.conf

# ì›ë³¸ ì´ë¯¸ì§€ëŠ” ê·¸ëŒ€ë¡œ!
$ docker run --rm nginx cat /etc/nginx/nginx.conf
[ì›ë³¸ ë‚´ìš© ê·¸ëŒ€ë¡œ...]
```

#### 3ï¸âƒ£ íŒŒì¼ ìƒì„± (Create)

```
ì‹œë‚˜ë¦¬ì˜¤: /tmp/newfile.txt ìƒˆ íŒŒì¼ ìƒì„±

1. Mergedì—ì„œ ìƒì„± ìš”ì²­
   "echo 'hello' > /tmp/newfile.txt"

2. Lowerì— ì¡´ì¬ í™•ì¸
   /tmp/newfile.txtê°€ Lowerì— ìˆë‚˜?
   â†’ ì—†ìŒ (ìƒˆ íŒŒì¼)

3. Upper Layerì— ì§ì ‘ ìƒì„±
   Upper/tmp/newfile.txt ìƒì„±
   'hello' ì‘ì„±

4. ê²°ê³¼
   - Lower: ë³€í™” ì—†ìŒ
   - Upper: newfile.txt ì¶”ê°€
   - Merged: newfile.txt ë³´ì„

ì„±ëŠ¥: ë§¤ìš° ë¹ ë¦„ (Lower ê²€ìƒ‰ ë¶ˆí•„ìš”)
```

#### 4ï¸âƒ£ íŒŒì¼ ì‚­ì œ (Delete)

```
ì‹œë‚˜ë¦¬ì˜¤: /app/oldfile.txt ì‚­ì œ

ë¬¸ì œ:
- Lower LayerëŠ” ì½ê¸° ì „ìš©
- ì§ì ‘ ì‚­ì œ ë¶ˆê°€ëŠ¥!

í•´ê²°ì±…: Whiteout íŒŒì¼ ì‚¬ìš©

1. Mergedì—ì„œ ì‚­ì œ ìš”ì²­
   "rm /app/oldfile.txt"

2. Lowerì— íŒŒì¼ ì¡´ì¬ í™•ì¸
   /app/oldfile.txtê°€ Lowerì— ìˆìŒ
   (ì½ê¸° ì „ìš©ì´ë¼ ì‚­ì œ ë¶ˆê°€)

3. Upperì— Whiteout íŒŒì¼ ìƒì„±
   Upper/.wh.oldfile.txt ìƒì„±

   Whiteout íŒŒì¼:
   - íŠ¹ìˆ˜í•œ ìºë¦­í„° ë””ë°”ì´ìŠ¤ íŒŒì¼
   - "ì´ íŒŒì¼ì€ ì‚­ì œë¨" í‘œì‹œ
   - ì‹¤ì œ ì´ë¦„ ì•ì— .wh. ì ‘ë‘ì‚¬

4. Merged ë·° ê°±ì‹ 
   /app/oldfile.txtê°€ ë³´ì´ì§€ ì•ŠìŒ
   (Lowerì—ëŠ” ìˆì§€ë§Œ Whiteoutìœ¼ë¡œ ê°€ë ¤ì§)

5. ê²°ê³¼
   - Lower: oldfile.txt ê·¸ëŒ€ë¡œ (ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆ ì˜í–¥ ì—†ìŒ)
   - Upper: .wh.oldfile.txt ìƒì„± (ì‚­ì œ í‘œì‹œ)
   - Merged: oldfile.txt ì•ˆ ë³´ì„
```

**Whiteout ì‹¤ì œ í™•ì¸:**
```bash
# ì»¨í…Œì´ë„ˆì—ì„œ íŒŒì¼ ì‚­ì œ
$ docker run -it --name test ubuntu bash
root@abc123:/# rm /bin/cat
root@abc123:/# ls /bin/cat
ls: cannot access '/bin/cat': No such file or directory

# í˜¸ìŠ¤íŠ¸ì—ì„œ Upper Layer í™•ì¸
$ sudo ls -la /var/lib/docker/overlay2/abc123.../diff/bin/
c--------- 1 root root 0, 0 Jan 15 10:00 .wh.cat

# c---------: ìºë¦­í„° ë””ë°”ì´ìŠ¤ íŒŒì¼ (Whiteout í‘œì‹œ)
# .wh.cat: cat íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŒì„ í‘œì‹œ

# ì›ë³¸ ì´ë¯¸ì§€ëŠ” ê·¸ëŒ€ë¡œ!
$ docker run --rm ubuntu ls /bin/cat
/bin/cat
```

#### 5ï¸âƒ£ ë””ë ‰í† ë¦¬ ì‚­ì œ (Opaque Directory)

```
ì‹œë‚˜ë¦¬ì˜¤: /app/temp/ ë””ë ‰í† ë¦¬ ì „ì²´ ì‚­ì œ

1. Mergedì—ì„œ ë””ë ‰í† ë¦¬ ì‚­ì œ ìš”ì²­
   "rm -rf /app/temp/"

2. Lowerì— ë””ë ‰í† ë¦¬ ì¡´ì¬ í™•ì¸
   /app/temp/ê°€ Lowerì— ìˆìŒ
   ë‚´ë¶€ì— ì—¬ëŸ¬ íŒŒì¼ ì¡´ì¬

3. Upperì— Opaque ë””ë ‰í† ë¦¬ ìƒì„±
   Upper/app/.wh..wh..opq ìƒì„±

   Opaque Directory:
   - íŠ¹ìˆ˜ íŒŒì¼
   - "í•˜ìœ„ ë ˆì´ì–´ì˜ ì´ ë””ë ‰í† ë¦¬ë¥¼ ë¬´ì‹œí•˜ë¼" í‘œì‹œ

4. ê²°ê³¼
   - Lower: /app/temp/ ê·¸ëŒ€ë¡œ
   - Upper: .wh..wh..opq ìƒì„±
   - Merged: /app/temp/ ì•ˆ ë³´ì„
```

### ğŸ¯ OverlayFSì˜ ì„±ëŠ¥ íŠ¹ì„±

#### ì½ê¸° ì„±ëŠ¥

```
íŒŒì¼ ì½ê¸° ì‹œë‚˜ë¦¬ì˜¤:

Case 1: íŒŒì¼ì´ Lowerì—ë§Œ ìˆìŒ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upper   â”‚  (ë¹„ì–´ìˆìŒ)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lower   â”‚  file.txt â† ì—¬ê¸°ì„œ ì½ìŒ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì„±ëŠ¥: â­â­â­â­â­ (ë§¤ìš° ë¹ ë¦„)
- ë ˆì´ì–´ í•˜ë‚˜ë§Œ ê²€ìƒ‰
- ì¶”ê°€ ë³µì‚¬ ì—†ìŒ
- Native íŒŒì¼ ì‹œìŠ¤í…œê³¼ ë™ì¼í•œ ì†ë„

Case 2: íŒŒì¼ì´ Upperì— ìˆìŒ (ì´ë¯¸ ìˆ˜ì •ë¨)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upper   â”‚  file.txt â† ì—¬ê¸°ì„œ ì½ìŒ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lower   â”‚  file.txt (ì›ë³¸)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì„±ëŠ¥: â­â­â­â­â­ (ë§¤ìš° ë¹ ë¦„)
- Upperì—ì„œ ë°”ë¡œ ì°¾ìŒ
- Lower ê²€ìƒ‰ ë¶ˆí•„ìš”
```

#### ì“°ê¸° ì„±ëŠ¥

```
íŒŒì¼ ì“°ê¸° ì‹œë‚˜ë¦¬ì˜¤:

Case 1: ì‘ì€ íŒŒì¼ ìˆ˜ì • (1KB)
Copy-up: 1KB ë³µì‚¬ â†’ ë¹ ë¦„ âš¡
ì‹œê°„: <1ms

Case 2: í° íŒŒì¼ ìˆ˜ì • (1GB)
Copy-up: 1GB ë³µì‚¬ â†’ ëŠë¦¼ ğŸŒ
ì‹œê°„: ìˆ˜ ì´ˆ~ìˆ˜ ë¶„
(ìµœì´ˆ ìˆ˜ì • ì‹œì—ë§Œ! ì´í›„ëŠ” ë¹ ë¦„)

Case 3: ìƒˆ íŒŒì¼ ìƒì„±
Copy-up ë¶ˆí•„ìš” â†’ ë§¤ìš° ë¹ ë¦„ âš¡âš¡
ì‹œê°„: <1ms
```

**ì„±ëŠ¥ ìµœì í™” íŒ:**
```
âŒ í”¼í•´ì•¼ í•  ê²ƒ:
- ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ëŒ€ìš©ëŸ‰ íŒŒì¼ ìˆ˜ì •
- ë§ì€ ì‘ì€ íŒŒì¼ë“¤ì„ ìˆ˜ì •

âœ… ê¶Œì¥ ì‚¬í•­:
- ëŒ€ìš©ëŸ‰ íŒŒì¼ì€ ë³¼ë¥¨ ì‚¬ìš©
- ìì£¼ ìˆ˜ì •ë˜ëŠ” íŒŒì¼ë„ ë³¼ë¥¨ ì‚¬ìš©
- ì½ê¸° ì „ìš© íŒŒì¼ì€ ì´ë¯¸ì§€ì— í¬í•¨

ì˜ˆì‹œ:
docker run -v /host/data:/data myapp
â†’ /dataì˜ íŒŒì¼ë“¤ì€ Copy-up ì—†ì´ ì§ì ‘ ì ‘ê·¼!
```

### ğŸ”§ OverlayFS ì‹¤ì œ êµ¬ì¡° í™•ì¸

#### ì»¨í…Œì´ë„ˆì˜ íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¡° ë³´ê¸°

```bash
# nginx ì»¨í…Œì´ë„ˆ ì‹¤í–‰
$ docker run -d --name nginx-test nginx

# ì»¨í…Œì´ë„ˆ ìƒì„¸ ì •ë³´ì—ì„œ OverlayFS ì •ë³´ í™•ì¸
$ docker inspect nginx-test

"GraphDriver": {
    "Data": {
        "LowerDir": "/var/lib/docker/overlay2/abc123.../diff:
                     /var/lib/docker/overlay2/def456.../diff:
                     /var/lib/docker/overlay2/ghi789.../diff",
        "MergedDir": "/var/lib/docker/overlay2/jkl012.../merged",
        "UpperDir": "/var/lib/docker/overlay2/jkl012.../diff",
        "WorkDir": "/var/lib/docker/overlay2/jkl012.../work"
    },
    "Name": "overlay2"
}

ì„¤ëª…:
- LowerDir: ì´ë¯¸ì§€ ë ˆì´ì–´ë“¤ (ì½ê¸° ì „ìš©, ì—¬ëŸ¬ ê°œ)
- UpperDir: ì»¨í…Œì´ë„ˆ ë ˆì´ì–´ (ì½ê¸°/ì“°ê¸°)
- MergedDir: ìµœì¢… í†µí•© ë·° (ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ë³´ì´ëŠ” ê²ƒ)
- WorkDir: OverlayFS ë‚´ë¶€ ì‘ì—…ìš©
```

#### ì‹¤ì œ ë””ë ‰í† ë¦¬ í™•ì¸

```bash
# LowerDir í™•ì¸ (ì´ë¯¸ì§€ ë ˆì´ì–´)
$ sudo ls -la /var/lib/docker/overlay2/abc123.../diff/

drwxr-xr-x  2 root root  4096 bin/
drwxr-xr-x  4 root root  4096 etc/
drwxr-xr-x  2 root root  4096 lib/
...

# UpperDir í™•ì¸ (ì»¨í…Œì´ë„ˆ ë ˆì´ì–´)
$ sudo ls -la /var/lib/docker/overlay2/jkl012.../diff/

drwxr-xr-x  2 root root  4096 tmp/
-rw-r--r--  1 root root    12 root/.bash_history
...

# MergedDir í™•ì¸ (í†µí•©ëœ ë·°)
$ sudo ls -la /var/lib/docker/overlay2/jkl012.../merged/

# Lower + Upper í•©ì³ì§„ ì™„ì „í•œ íŒŒì¼ ì‹œìŠ¤í…œ!
drwxr-xr-x  2 root root  4096 bin/     (Lowerì—ì„œ)
drwxr-xr-x  4 root root  4096 etc/     (Lowerì—ì„œ)
drwxr-xr-x  2 root root  4096 tmp/     (Upperì—ì„œ)
...
```

### ğŸ“Š ë‹¤ë¥¸ Storage Driverì™€ ë¹„êµ

DockerëŠ” OverlayFS ì™¸ì—ë„ ì—¬ëŸ¬ Storage Driverë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Driver    â”‚  ì„±ëŠ¥   â”‚ ì•ˆì •ì„±   â”‚ í˜¸í™˜ì„±  â”‚  ì¶”ì²œë„  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ overlay2    â”‚ â­â­â­â­â­ â”‚ â­â­â­â­â­   â”‚ â­â­â­â­â­ â”‚   ì¶”ì²œ   â”‚
â”‚ aufs        â”‚ â­â­â­â­  â”‚ â­â­â­â­    â”‚ â­â­â­   â”‚ êµ¬ë²„ì „ìš© â”‚
â”‚ devicemapperâ”‚ â­â­â­   â”‚ â­â­â­     â”‚ â­â­â­â­  â”‚ ë ˆê±°ì‹œ   â”‚
â”‚ btrfs       â”‚ â­â­â­â­  â”‚ â­â­â­     â”‚ â­â­    â”‚ íŠ¹ìˆ˜ìš©ë„ â”‚
â”‚ zfs         â”‚ â­â­â­   â”‚ â­â­â­â­    â”‚ â­â­    â”‚ íŠ¹ìˆ˜ìš©ë„ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**overlay2ê°€ ê¸°ë³¸ì¸ ì´ìœ :**
```
âœ… ì¥ì :
1. ì»¤ë„ ë©”ì¸ë¼ì¸ ì§€ì› (Linux 4.0+)
2. ë›°ì–´ë‚œ ì„±ëŠ¥ (Nativeì— ê°€ê¹Œì›€)
3. ë†’ì€ ì•ˆì •ì„±
4. inode ì‚¬ìš© íš¨ìœ¨ì 
5. ë©”ëª¨ë¦¬ íš¨ìœ¨ì 

âœ… ê¶Œì¥ ì‚¬í•­:
- ëŒ€ë¶€ë¶„ì˜ ê²½ìš° overlay2 ì‚¬ìš©
- íŠ¹ë³„í•œ ì´ìœ ê°€ ì—†ìœ¼ë©´ ë³€ê²½ ë¶ˆí•„ìš”
```

### ğŸ“ OverlayFS ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

```
1. ëŒ€ìš©ëŸ‰ íŒŒì¼ì€ ë³¼ë¥¨ ì‚¬ìš©
   âŒ COPY bigfile.db /data/
   âœ… docker run -v ./bigfile.db:/data/bigfile.db

2. ìì£¼ ìˆ˜ì •ë˜ëŠ” íŒŒì¼ë„ ë³¼ë¥¨ ì‚¬ìš©
   âŒ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ë¡œê·¸ íŒŒì¼ ìˆ˜ì • (Copy-up ë°œìƒ)
   âœ… docker run -v /host/logs:/app/logs

3. ì½ê¸° ì „ìš© ë°ì´í„°ëŠ” ì´ë¯¸ì§€ì— í¬í•¨
   âœ… COPY static-files/ /var/www/html/

4. ì„ì‹œ íŒŒì¼ì€ tmpfs ì‚¬ìš©
   âœ… docker run --tmpfs /tmp:rw,size=1g

5. ë ˆì´ì–´ ìˆ˜ ìµœì†Œí™”
   âœ… RUN ëª…ë ¹ì–´ ì²´ì´ë‹
   âœ… ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ
```

### ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

#### ë¬¸ì œ 1: "no space left on device" ì—ëŸ¬

```bash
# ì›ì¸: overlay2 ë””ë ‰í† ë¦¬ê°€ ë””ìŠ¤í¬ ê°€ë“ ì°¸

# í™•ì¸
$ sudo du -sh /var/lib/docker/overlay2/
150G    /var/lib/docker/overlay2/

# í•´ê²°
$ docker system prune -a    # ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒ ëª¨ë‘ ì‚­ì œ
$ docker volume prune       # ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë³¼ë¥¨ ì‚­ì œ
```

#### ë¬¸ì œ 2: ëŠë¦° Copy-up ì„±ëŠ¥

```bash
# ì¦ìƒ: í° íŒŒì¼ ì²˜ìŒ ìˆ˜ì • ì‹œ ë§¤ìš° ëŠë¦¼

# ì›ì¸: 1GB íŒŒì¼ì„ Upperë¡œ ë³µì‚¬í•˜ëŠ” ì¤‘

# í•´ê²°
# ë°©ë²• 1: ë³¼ë¥¨ ì‚¬ìš©
docker run -v /host/bigfile:/container/bigfile myapp

# ë°©ë²• 2: tmpfs ì‚¬ìš© (ì„ì‹œ íŒŒì¼ì¸ ê²½ìš°)
docker run --tmpfs /tmp:rw,size=2g myapp
```

#### ë¬¸ì œ 3: inode ë¶€ì¡±

```bash
# ì¦ìƒ: "no space left on device" (ë””ìŠ¤í¬ëŠ” ì—¬ìœ  ìˆìŒ)

# í™•ì¸
$ df -i
Filesystem      Inodes  IUsed   IFree IUse% Mounted on
overlay2        655360  655360      0  100% /var/lib/docker

# ì›ì¸: ë„ˆë¬´ ë§ì€ ì‘ì€ íŒŒì¼

# í•´ê²°
$ docker system prune -a
$ # ë˜ëŠ” íŒŒì¼ ì‹œìŠ¤í…œ ì¬ìƒì„±
```

---

## ğŸŒŸ ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

### ë¹„ìœ  1: ì¼€ì´í¬ ë ˆì´ì–´ (ì´ë¯¸ í¬í•¨ë¨)
ìœ„ì˜ "ì¼€ì´í¬ë¡œ ì´í•´í•˜ê¸°" ì„¹ì…˜ ì°¸ì¡°

### ë¹„ìœ  2: ì•„íŒŒíŠ¸ ê±´ì„¤ ê³¼ì •
```
Docker ì´ë¯¸ì§€ ë ˆì´ì–´ = ì•„íŒŒíŠ¸ ê±´ì„¤ ë‹¨ê³„

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5ì¸µ: ì¸í…Œë¦¬ì–´ ì™„ì„±      â”‚  â† Layer 5 (ì•± ì½”ë“œ)
â”‚ - ê°€êµ¬ ë°°ì¹˜, ì†Œí’ˆ       â”‚     "ì…ì£¼ì ê°œì„±"
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4ì¸µ: ë‚´ë¶€ ë§ˆê°          â”‚  â† Layer 4 (ì˜ì¡´ì„±)
â”‚ - ë²½ì§€, ë°”ë‹¥ì¬          â”‚     "ê¸°ë³¸ ì‹œì„¤"
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3ì¸µ: ë°°ê´€/ì „ê¸°          â”‚  â† Layer 3 (ì‹œìŠ¤í…œ ì„¤ì •)
â”‚ - ìˆ˜ë„, ì „ê¸°ì„           â”‚     "í•„ìˆ˜ ì¸í”„ë¼"
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2ì¸µ: ê³¨ì¡° ì™„ì„±          â”‚  â† Layer 2 (ë² ì´ìŠ¤ ì„¤ì •)
â”‚ - ë²½, ê¸°ë‘¥, ì²œì¥        â”‚     "ê¸°ë³¸ êµ¬ì¡°"
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1ì¸µ: ê¸°ì´ˆ ê³µì‚¬          â”‚  â† Layer 1 (ë² ì´ìŠ¤ ì´ë¯¸ì§€)
â”‚ - ì§€ë°˜, íŒŒì¼, ê¸°ì´ˆ      â”‚     "í† ëŒ€"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

íŠ¹ì§•:
- ì•„ë˜ì¸µì´ ì™„ì„±ë˜ì–´ì•¼ ìœ„ì¸µ ê±´ì„¤ ê°€ëŠ¥ (ë ˆì´ì–´ ìˆœì„œ)
- ê¸°ì´ˆ ê³µì‚¬ëŠ” ì—¬ëŸ¬ ì•„íŒŒíŠ¸ê°€ ê³µìœ  ê°€ëŠ¥ (ë ˆì´ì–´ ì¬ì‚¬ìš©)
- ì™„ì„±ëœ ì¸µì€ ìˆ˜ì • ë¶ˆê°€ (ì½ê¸° ì „ìš©)
- ì…ì£¼ í›„ ë³€ê²½ì€ ë³„ë„ ì‘ì—… (ì»¨í…Œì´ë„ˆ ë ˆì´ì–´)
```

### ë¹„ìœ  3: í¬í† ìƒµ ë ˆì´ì–´
```
Docker ë ˆì´ì–´ = í¬í† ìƒµì˜ ë ˆì´ì–´ ì‹œìŠ¤í…œ

ë ˆì´ì–´ íŒ¨ë„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ í…ìŠ¤íŠ¸         â”‚  â† Layer 5 (ìˆ˜ì • ê°€ëŠ¥)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ í•„í„° íš¨ê³¼      â”‚  â† Layer 4
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ ìƒ‰ìƒ ë³´ì •      â”‚  â† Layer 3
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ ì˜¤ë¸Œì íŠ¸       â”‚  â† Layer 2
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”’ ë°°ê²½ ì´ë¯¸ì§€    â”‚  â† Layer 1 (ì ê¸ˆ)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì‘ë™ ë°©ì‹:
1. ì•„ë˜ ë ˆì´ì–´ë¶€í„° ì°¨ë¡€ë¡œ í•©ì„±
2. ê° ë ˆì´ì–´ëŠ” ë…ë¦½ì  (ê°œë³„ ìˆ¨ê¹€/í‘œì‹œ)
3. ë°°ê²½ ë ˆì´ì–´ëŠ” ìˆ˜ì • ë¶ˆê°€ (ğŸ”’)
4. ìµœì¢… ì´ë¯¸ì§€ = ëª¨ë“  ë ˆì´ì–´ í•©ì¹œ ê²°ê³¼

ì‹¤ì œ í™œìš©:
- í…ìŠ¤íŠ¸ë§Œ ìˆ˜ì • â†’ í…ìŠ¤íŠ¸ ë ˆì´ì–´ë§Œ ë³€ê²½
- ë°°ê²½ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ â†’ ë‹¤ë¥¸ ë ˆì´ì–´ ì¬ì‚¬ìš©
- ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ê°™ì€ ë°°ê²½ ì‚¬ìš© ê°€ëŠ¥
```

### ë¹„ìœ  4: ë°°ë‹¬ ì£¼ë¬¸ì„œì˜ ì¤‘ë³µ ì •ë³´ ìƒëµ
```
Docker ë ˆì´ì–´ ì¬ì‚¬ìš© = ë°°ë‹¬ ì•±ì˜ íš¨ìœ¨ì  ì£¼ë¬¸ ê´€ë¦¬

âŒ ë¹„íš¨ìœ¨ì  ë°©ì‹ (ë ˆì´ì–´ ì—†ì´):
ì£¼ë¬¸ 1: "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123, 2ì¸µ, Aë¹Œë”©, 010-1234-5678, ê¹€ì² ìˆ˜, ì¹˜í‚¨ 1ë§ˆë¦¬"
ì£¼ë¬¸ 2: "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123, 2ì¸µ, Aë¹Œë”©, 010-1234-5678, ê¹€ì² ìˆ˜, í”¼ì 1íŒ"
ì£¼ë¬¸ 3: "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123, 2ì¸µ, Aë¹Œë”©, 010-1234-5678, ê¹€ì² ìˆ˜, ì¡±ë°œ 1ë§ˆë¦¬"
â†’ ì£¼ì†Œì™€ ì •ë³´ë¥¼ ë§¤ë²ˆ ë°˜ë³µ ì…ë ¥!

âœ… íš¨ìœ¨ì  ë°©ì‹ (ë ˆì´ì–´ í™œìš©):
ê³µí†µ ì •ë³´ (ë ˆì´ì–´ 1-3):
- ê¸°ë³¸ ì£¼ì†Œ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123
- ìƒì„¸ ì£¼ì†Œ: 2ì¸µ, Aë¹Œë”©
- ê³ ê° ì •ë³´: 010-1234-5678, ê¹€ì² ìˆ˜

ì£¼ë¬¸ë³„ ì°¨ì´ë§Œ (ë ˆì´ì–´ 4-5):
- ì£¼ë¬¸ 1: ì¹˜í‚¨ 1ë§ˆë¦¬
- ì£¼ë¬¸ 2: í”¼ì 1íŒ
- ì£¼ë¬¸ 3: ì¡±ë°œ 1ë§ˆë¦¬

ì ˆì•½ íš¨ê³¼:
- ì €ì¥ ê³µê°„: 70% ì ˆì•½
- ì…ë ¥ ì‹œê°„: 80% ë‹¨ì¶•
- ì˜¤ë¥˜ ê°ì†Œ: 90% ê°ì†Œ
```

### ë¹„ìœ  5: íšŒì‚¬ ì¡°ì§ì˜ í…œí”Œë¦¿ ë¬¸ì„œ
```
Docker ë ˆì´ì–´ = íšŒì‚¬ ë¬¸ì„œ í…œí”Œë¦¿ ì‹œìŠ¤í…œ

ğŸ“„ ê³µì‹ ë¬¸ì„œ í…œí”Œë¦¿ (ì½ê¸° ì „ìš© ë ˆì´ì–´):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [íšŒì‚¬ ë¡œê³ ]                 â”‚  â† Layer 1 (ëª¨ë“  ë¬¸ì„œ ê³µí†µ)
â”‚ íšŒì‚¬ëª…: (ì£¼)ABCí…Œí¬         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ [í—¤ë” ì–‘ì‹]                 â”‚  â† Layer 2 (ë¬¸ì„œ ì¢…ë¥˜ë³„)
â”‚ ë¬¸ì„œ ì œëª©: __________       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ [ë³¸ë¬¸ ì–‘ì‹]                 â”‚  â† Layer 3 (í‘œì¤€ ì–‘ì‹)
â”‚ 1. ê°œìš”:                    â”‚
â”‚ 2. ìƒì„¸:                    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ [í‘¸í„° ì–‘ì‹]                 â”‚  â† Layer 4 (íšŒì‚¬ ì •ë³´)
â”‚ ì£¼ì†Œ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê°œì¸ ì‘ì—… ì‚¬ë³¸ (ì½ê¸°/ì“°ê¸° ë ˆì´ì–´):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [íšŒì‚¬ ë¡œê³ ] (í…œí”Œë¦¿ì—ì„œ)    â”‚
â”‚ íšŒì‚¬ëª…: (ì£¼)ABCí…Œí¬         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ ë¬¸ì„œ ì œëª©: 2024 1ë¶„ê¸° ë³´ê³ ì„œâ”‚  â† ìˆ˜ì • ê°€ëŠ¥
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ 1. ê°œìš”: ë§¤ì¶œ 20% ì¦ê°€      â”‚  â† ë‚´ìš© ì‘ì„±
â”‚ 2. ìƒì„¸: ...                â”‚  â† ë‚´ìš© ì‘ì„±
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ [í‘¸í„°] (í…œí”Œë¦¿ì—ì„œ)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¥ì :
- íšŒì‚¬ ë¡œê³ /ì–‘ì‹ ë³€ê²½ â†’ ëª¨ë“  ë¬¸ì„œì— ìë™ ë°˜ì˜
- ê°œì¸ ë¬¸ì„œ ì‘ì„± â†’ í…œí”Œë¦¿ì€ ë³´í˜¸ë¨
- ìƒˆ ì§ì› â†’ ê°™ì€ í…œí”Œë¦¿ìœ¼ë¡œ ì¦‰ì‹œ ì‹œì‘
- ì €ì¥ ê³µê°„ â†’ í…œí”Œë¦¿ í•œ ë²ˆë§Œ ì €ì¥
```

### ğŸ¯ ì¢…í•© ë¹„êµí‘œ

| ê¸°ìˆ  ê°œë… | ì¼€ì´í¬ | ì•„íŒŒíŠ¸ | í¬í† ìƒµ | ë°°ë‹¬ì•± | íšŒì‚¬ë¬¸ì„œ |
|-----------|--------|--------|--------|--------|----------|
| **ë ˆì´ì–´ êµ¬ì¡°** | ì¸µì¸µì´ ìŒ“ì„ | ì¸µë³„ ê±´ì„¤ | ë ˆì´ì–´ í•©ì„± | ì£¼ë¬¸ì„œ êµ¬ì¡° | í…œí”Œë¦¿ ê³„ì¸µ |
| **ìˆœì„œ ì¤‘ìš”** | ì•„ë˜ë¶€í„° ìœ„ë¡œ | ê¸°ì´ˆâ†’ê³¨ì¡°â†’ë§ˆê° | ë°°ê²½â†’ì „ê²½ | ê¸°ë³¸â†’ìƒì„¸ | ì–‘ì‹â†’ë‚´ìš© |
| **ì½ê¸° ì „ìš©** | êµ¬ìš´ ì¼€ì´í¬ | ì™„ê³µëœ ì¸µ | ì ê¸ˆ ë ˆì´ì–´ | ê³µí†µ ì •ë³´ | íšŒì‚¬ í…œí”Œë¦¿ |
| **ì¬ì‚¬ìš©** | ê°™ì€ ë¹µ ì‹œíŠ¸ | ê°™ì€ ì„¤ê³„ë„ | ê°™ì€ ë°°ê²½ | ê°™ì€ ì£¼ì†Œ | ê°™ì€ ì–‘ì‹ |
| **ìˆ˜ì • ë°©ì‹** | ìœ„ì— ë°ì½” ì¶”ê°€ | ì¸í…Œë¦¬ì–´ ë³€ê²½ | ìƒˆ ë ˆì´ì–´ | ì£¼ë¬¸ë§Œ ë³€ê²½ | ì‚¬ë³¸ì— ì‘ì„± |

---

## ğŸ“Š ìˆ˜ì¹˜ë¡œ ë³´ëŠ” íš¨ê³¼

### ì´ë¯¸ì§€ í¬ê¸° ìµœì í™” íš¨ê³¼

| ìµœì í™” ê¸°ë²• | Before | After | ê°œì„ ìœ¨ | ë¹„ìš© ì ˆê° |
|-------------|--------|-------|--------|-----------|
| **RUN ëª…ë ¹ì–´ ì²´ì´ë‹** | 130 MB | 80 MB | **38%â†“** | ë ˆì´ì–´ 5ê°œ â†’ 1ê°œ |
| **.dockerignore ì‚¬ìš©** | 1.5 GB ì „ì†¡ | 50 MB ì „ì†¡ | **97%â†“** | ë¹Œë“œ ì‹œê°„ 30ì´ˆ â†’ 1ì´ˆ |
| **ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ** | 800 MB | 15 MB | **98%â†“** | ì €ì¥ê³µê°„ 785MB ì ˆì•½ |
| **ë ˆì´ì–´ ìºì‹± í™œìš©** | 120ì´ˆ ë¹Œë“œ | 2ì´ˆ ë¹Œë“œ | **98%â†“** | ê°œë°œ ì‹œê°„ 62ë°° ë‹¨ì¶• |
| **ë² ì´ìŠ¤ ì´ë¯¸ì§€ ìµœì í™”** | ubuntu:20.04 (72MB) | alpine:3.18 (7MB) | **90%â†“** | ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ì ˆì•½ |

### ë ˆì´ì–´ ì¬ì‚¬ìš© íš¨ê³¼ (10ê°œ ì•± ê¸°ì¤€)

| ì‹œë‚˜ë¦¬ì˜¤ | ë ˆì´ì–´ ì—†ì´ | ë ˆì´ì–´ ì¬ì‚¬ìš© | ì ˆì•½ íš¨ê³¼ |
|---------|-------------|---------------|-----------|
| **node:16 ê¸°ë°˜ 10ê°œ ì•±** | 2.5 GB | 1.7 GB | **800 MB ì ˆì•½ (32%)** |
| **Python Flask ì•± 5ê°œ** | 1.2 GB | 0.6 GB | **600 MB ì ˆì•½ (50%)** |
| **Nginx ì»¨í…Œì´ë„ˆ 20ê°œ** | 2.8 GB | 141 MB | **2.7 GB ì ˆì•½ (95%)** |

### ë¹Œë“œ ìºì‹œ íš¨ê³¼ (ì¼ì£¼ì¼ ê°œë°œ ê¸°ì¤€)

| ìƒí™© | ìºì‹œ ì—†ì´ | ìºì‹œ í™œìš© | ì‹œê°„ ì ˆì•½ |
|------|-----------|-----------|-----------|
| **ì¼ì£¼ì¼ 50íšŒ ë¹Œë“œ** | 100ë¶„ (120ì´ˆÃ—50) | 1.7ë¶„ (2ì´ˆÃ—50) | **98.3ë¶„ ì ˆì•½ (98%)** |
| **í•œ ë‹¬ 200íšŒ ë¹Œë“œ** | 400ë¶„ (6.7ì‹œê°„) | 6.7ë¶„ | **393ë¶„ ì ˆì•½ (6.5ì‹œê°„)** |
| **1ë…„ í”„ë¡œì íŠ¸** | 80ì‹œê°„ | 1.3ì‹œê°„ | **78.7ì‹œê°„ ì ˆì•½** |

### ì‹¤ì œ ê¸°ì—… ì„±ê³¼ ë°ì´í„°

| ê¸°ì—… | ìµœì í™” ì „ | ìµœì í™” í›„ | ê°œì„  íš¨ê³¼ |
|------|-----------|-----------|-----------|
| **Spotify** | ì´ë¯¸ì§€ 1.2GB | 300MB | ë¹Œë“œ ì‹œê°„ 15ë¶„ â†’ 2ë¶„ (87%â†“) |
| **Uber** | ì „ì²´ ì €ì¥ì†Œ 5TB | 1.5TB | ì €ì¥ ë¹„ìš© ì›” $1,200 â†’ $360 |
| **Netflix** | ë ˆì´ì–´ ì¤‘ë³µ å¤š | ë ˆì´ì–´ ê³µìœ  | ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ 60% ê°ì†Œ |
| **ì¿ íŒ¡** | CI/CD 30ë¶„ | 5ë¶„ | ë°°í¬ ì†ë„ 6ë°° í–¥ìƒ |

### Copy-on-Write ì„±ëŠ¥ ì˜í–¥

| íŒŒì¼ í¬ê¸° | ì½ê¸° ì„±ëŠ¥ | ìµœì´ˆ ì“°ê¸° (Copy-up) | ì´í›„ ì“°ê¸° |
|-----------|-----------|---------------------|-----------|
| **1 KB** | 0.1ms | 0.5ms | 0.1ms |
| **1 MB** | 1ms | 50ms | 1ms |
| **100 MB** | 100ms | 5ì´ˆ | 100ms |
| **1 GB** | 1ì´ˆ | 50ì´ˆ | 1ì´ˆ |

**ê²°ë¡ **: ëŒ€ìš©ëŸ‰ íŒŒì¼ì€ ë³¼ë¥¨ ë§ˆìš´íŠ¸ ê¶Œì¥!

---

## ğŸ‘¨â€ğŸ’» ì£¼ë‹ˆì–´ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: "ì´ë¯¸ì§€ê°€ ë„ˆë¬´ ì»¤ìš”!" (ê°€ì¥ í”í•œ ì‹¤ìˆ˜)

**ìƒí™©**: ì£¼ë‹ˆì–´ ê°œë°œìê°€ ì²˜ìŒ ë§Œë“  Node.js ì´ë¯¸ì§€ê°€ 1.5GBë‚˜ ë¨

```dockerfile
# âŒ ì£¼ë‹ˆì–´ê°€ ì‘ì„±í•œ Dockerfile
FROM node:16

# í”„ë¡œì íŠ¸ ì „ì²´ë¥¼ ë³µì‚¬
COPY . /app
WORKDIR /app

# ê°œë°œ ì˜ì¡´ì„±ê¹Œì§€ ëª¨ë‘ ì„¤ì¹˜
RUN npm install

# ë¡œê·¸ì™€ ìºì‹œ íŒŒì¼ë„ í¬í•¨ë¨
# node_modules, .git, test íŒŒì¼ë„ ëª¨ë‘ í¬í•¨

CMD ["node", "server.js"]

# ê²°ê³¼: 1.5 GB ì´ë¯¸ì§€
```

**ë¬¸ì œì **:
1. `.dockerignore`ê°€ ì—†ì–´ ë¶ˆí•„ìš”í•œ íŒŒì¼ê¹Œì§€ í¬í•¨ (node_modules, .git, logs)
2. ê°œë°œ ì˜ì¡´ì„±ê¹Œì§€ ì„¤ì¹˜ (`npm install` ëŒ€ì‹  `npm ci --only=production`)
3. ë¬´ê±°ìš´ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì‚¬ìš© (node:16ì€ 900MB, alpineì€ 120MB)
4. ë¹Œë“œ ìºì‹œ ìµœì í™” ì•ˆ ë¨ (ì½”ë“œ ë³€ê²½ ì‹œ ë§¤ë²ˆ npm install)

**í•´ê²°ì±…**:
```dockerfile
# âœ… ìµœì í™”ëœ Dockerfile

# 1ë‹¨ê³„: ê²½ëŸ‰ ë² ì´ìŠ¤ ì´ë¯¸ì§€
FROM node:16-alpine AS builder

WORKDIR /app

# 2ë‹¨ê³„: ì˜ì¡´ì„± íŒŒì¼ë§Œ ë¨¼ì € ë³µì‚¬ (ìºì‹œ í™œìš©)
COPY package*.json ./
RUN npm ci --only=production

# 3ë‹¨ê³„: ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬
COPY src/ ./src/

# 4ë‹¨ê³„: ìµœì¢… ì´ë¯¸ì§€ (ë©€í‹°ìŠ¤í…Œì´ì§€)
FROM node:16-alpine
WORKDIR /app
COPY --from=builder /app .
CMD ["node", "server.js"]

# ê²°ê³¼: 150 MB ì´ë¯¸ì§€ (90% ê°ì†Œ!)
```

**.dockerignore íŒŒì¼ ì¶”ê°€**:
```
node_modules
.git
.gitignore
*.log
test/
coverage/
.env.local
.DS_Store
npm-debug.log*
README.md
Dockerfile
.dockerignore
```

**ë°°ìš´ ì **:
- ğŸ’¡ **íŒ 1**: í•­ìƒ `.dockerignore` íŒŒì¼ ì‘ì„± (ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ í¬ê¸° 99% ê°ì†Œ)
- ğŸ’¡ **íŒ 2**: alpine ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì‚¬ìš© (í¬ê¸° 80% ê°ì†Œ)
- ğŸ’¡ **íŒ 3**: ì˜ì¡´ì„± íŒŒì¼ ë¨¼ì € ë³µì‚¬ í›„ `npm ci` (ë¹Œë“œ ìºì‹œ í™œìš©)
- ğŸ’¡ **íŒ 4**: í”„ë¡œë•ì…˜ ì˜ì¡´ì„±ë§Œ ì„¤ì¹˜ (`--only=production`)

**ì‹¤ì¸¡ ë¹„êµ**:
```bash
# Before
$ docker images
myapp    latest    1.5GB

# After
$ docker images
myapp    latest    150MB

# ë¹Œë“œ ì‹œê°„
Before: ì²« ë¹Œë“œ 3ë¶„, ì½”ë“œ ìˆ˜ì • í›„ ì¬ë¹Œë“œ 3ë¶„ (ìºì‹œ ì—†ìŒ)
After:  ì²« ë¹Œë“œ 2ë¶„, ì½”ë“œ ìˆ˜ì • í›„ ì¬ë¹Œë“œ 5ì´ˆ (ìºì‹œ í™œìš©)
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: "npm installì´ ë§¤ë²ˆ ì‹¤í–‰ë¼ìš”!" (ìºì‹œ ë¬´íš¨í™”)

**ìƒí™©**: ì½”ë“œ í•œ ì¤„ë§Œ ë°”ê¿”ë„ npm installì´ ë‹¤ì‹œ ì‹¤í–‰ë˜ì–´ ë¹Œë“œê°€ ëŠë¦¼

```dockerfile
# âŒ ìºì‹œë¥¼ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” Dockerfile
FROM node:16-alpine

WORKDIR /app

# ëª¨ë“  íŒŒì¼ì„ ë¨¼ì € ë³µì‚¬ (ì˜ëª»ëœ ìˆœì„œ!)
COPY . .

# ì˜ì¡´ì„± ì„¤ì¹˜
RUN npm install

CMD ["node", "server.js"]

# ë¬¸ì œ: src/server.jsë¥¼ ìˆ˜ì •í•˜ë©´?
# â†’ COPY . . ë‹¨ê³„ê°€ ë³€ê²½ë¨
# â†’ ê·¸ ì´í›„ ëª¨ë“  ë ˆì´ì–´ ë¬´íš¨í™”
# â†’ npm install ë‹¤ì‹œ ì‹¤í–‰ (2ë¶„ ì†Œìš”)
```

**ì™œ ì´ëŸ° ì¼ì´ ë°œìƒí•˜ëŠ”ê°€**:
```
Docker ë ˆì´ì–´ ìºì‹± ê·œì¹™:
1. ê° ëª…ë ¹ì–´ëŠ” ì´ì „ ë ˆì´ì–´ì˜ ì²´í¬ì„¬ì„ í™•ì¸
2. ë³€ê²½ì´ ê°ì§€ë˜ë©´ í•´ë‹¹ ë ˆì´ì–´ë¶€í„° ì¬ë¹Œë“œ
3. COPY . .ì€ ëª¨ë“  íŒŒì¼ì„ í¬í•¨
   â†’ ì–´ë–¤ íŒŒì¼ì´ë“  ë³€ê²½ë˜ë©´ ë¬´íš¨í™”
4. ë¬´íš¨í™”ëœ ë ˆì´ì–´ ì´í›„ëŠ” ëª¨ë‘ ì¬ë¹Œë“œ

íƒ€ì„ë¼ì¸:
Step 1: FROM node:16-alpine       âœ… ìºì‹œ ì‚¬ìš©
Step 2: WORKDIR /app              âœ… ìºì‹œ ì‚¬ìš©
Step 3: COPY . .                  âŒ server.js ë³€ê²½ ê°ì§€!
Step 4: RUN npm install           âŒ ìºì‹œ ë¬´íš¨í™”! ë‹¤ì‹œ ì‹¤í–‰ (2ë¶„)
```

**í•´ê²°ì±…**:
```dockerfile
# âœ… ìºì‹œ ì¹œí™”ì ì¸ Dockerfile
FROM node:16-alpine

WORKDIR /app

# 1ï¸âƒ£ ì˜ì¡´ì„± íŒŒì¼ë§Œ ë¨¼ì € ë³µì‚¬
COPY package*.json ./

# 2ï¸âƒ£ ì˜ì¡´ì„± ì„¤ì¹˜ (ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠìŒ â†’ ìºì‹œ í™œìš©!)
RUN npm ci --only=production

# 3ï¸âƒ£ ì†ŒìŠ¤ ì½”ë“œëŠ” ë‚˜ì¤‘ì— ë³µì‚¬ (ìì£¼ ë³€ê²½ë¨)
COPY src/ ./src/

CMD ["node", "server.js"]

# ì´ì œ src/server.js ìˆ˜ì • ì‹œ:
# â†’ Step 1-3 ìºì‹œ ì‚¬ìš© (npm install ê±´ë„ˆëœ€!)
# â†’ Step 4ë§Œ ì¬ì‹¤í–‰ (1ì´ˆ)
```

**ì‹¤ì œ ë¹Œë“œ ë¹„êµ**:
```bash
# âŒ ìºì‹œ ë¯¸í™œìš© (ë§¤ë²ˆ npm install)
$ time docker build -t myapp .
[ì„œë²„ ì½”ë“œ ìˆ˜ì •]
$ time docker build -t myapp .
Step 1/5 : FROM node:16-alpine
 ---> Using cache
Step 2/5 : WORKDIR /app
 ---> Using cache
Step 3/5 : COPY . .
 ---> a1b2c3d4e5f6  (ë³€ê²½ ê°ì§€!)
Step 4/5 : RUN npm install
 ---> Running in xyz789...
[npm íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ... 120ì´ˆ]
 ---> b2c3d4e5f6a7
real    2m15s

# âœ… ìºì‹œ í™œìš© (npm install ê±´ë„ˆëœ€)
$ time docker build -t myapp .
[ì„œë²„ ì½”ë“œ ìˆ˜ì •]
$ time docker build -t myapp .
Step 1/5 : FROM node:16-alpine
 ---> Using cache
Step 2/5 : WORKDIR /app
 ---> Using cache
Step 3/5 : COPY package*.json ./
 ---> Using cache  (package.json ë³€ê²½ ì—†ìŒ!)
Step 4/5 : RUN npm ci --only=production
 ---> Using cache  (ìºì‹œ íˆíŠ¸!)
Step 5/5 : COPY src/ ./src/
 ---> c3d4e5f6a7b8  (ì½”ë“œë§Œ ì—…ë°ì´íŠ¸)
real    0m3s

# ì‹œê°„ ì ˆì•½: 132ì´ˆ â†’ 3ì´ˆ (44ë°° ë¹ ë¦„!)
```

**ë°°ìš´ ì **:
- ğŸ’¡ **íŒ 1**: ë³€ê²½ ë¹ˆë„ê°€ ë‚®ì€ ê²ƒë¶€í„° ìœ„ì— ë°°ì¹˜ (package.json â†’ ì†ŒìŠ¤ ì½”ë“œ)
- ğŸ’¡ **íŒ 2**: `COPY . .`ì€ ìµœëŒ€í•œ í”¼í•˜ê³  í•„ìš”í•œ íŒŒì¼ë§Œ ì„ íƒì ìœ¼ë¡œ ë³µì‚¬
- ğŸ’¡ **íŒ 3**: `npm install` ëŒ€ì‹  `npm ci` ì‚¬ìš© (ë” ë¹ ë¥´ê³  ì¬í˜„ ê°€ëŠ¥)
- ğŸ’¡ **íŒ 4**: ë¹Œë“œ í›„ `---> Using cache` ë©”ì‹œì§€ í™•ì¸ ìŠµê´€í™”

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: "ì»¨í…Œì´ë„ˆì—ì„œ íŒŒì¼ ìˆ˜ì •í–ˆëŠ”ë° ì‚¬ë¼ì¡Œì–´ìš”!" (Copy-on-Write ì˜¤í•´)

**ìƒí™©**: ì»¨í…Œì´ë„ˆì—ì„œ ì„¤ì • íŒŒì¼ì„ ìˆ˜ì •í–ˆëŠ”ë° ì¬ì‹œì‘í•˜ë©´ ì‚¬ë¼ì§

```bash
# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
$ docker run -d --name mynginx nginx

# ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì„¤ì • íŒŒì¼ ìˆ˜ì •
$ docker exec mynginx bash -c "echo 'Modified' > /etc/nginx/nginx.conf"

# ìˆ˜ì • í™•ì¸
$ docker exec mynginx cat /etc/nginx/nginx.conf
Modified  âœ…

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
$ docker restart mynginx

# ì„¤ì • í™•ì¸
$ docker exec mynginx cat /etc/nginx/nginx.conf
[ì›ë³¸ nginx ì„¤ì •...]  âŒ ìˆ˜ì • ì‚¬í•­ì´ ì‚¬ë¼ì§!
```

**ì™œ ì´ëŸ° ì¼ì´ ë°œìƒí•˜ëŠ”ê°€**:
```
Docker ë ˆì´ì–´ êµ¬ì¡°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Container Layer     â”‚  ì½ê¸°/ì“°ê¸° (ì„ì‹œ!)
â”‚ - ìˆ˜ì •ëœ íŒŒì¼       â”‚  â† ì—¬ê¸°ì— ì €ì¥ë¨
â”‚ - ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼  â”‚  â† ì»¨í…Œì´ë„ˆ ì‚­ì œ ì‹œ ì‚¬ë¼ì§!
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Image Layers        â”‚  ì½ê¸° ì „ìš© (ì˜êµ¬)
â”‚ - nginx.conf (ì›ë³¸) â”‚  â† ì¬ì‹œì‘ ì‹œ ì´ê±¸ ì‚¬ìš©
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë¬¸ì œ:
1. ì»¨í…Œì´ë„ˆì—ì„œ íŒŒì¼ ìˆ˜ì • â†’ Container Layerì— ë³µì‚¬ (Copy-on-Write)
2. ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ â†’ Container LayerëŠ” ìœ ì§€ë¨ âœ…
3. ì»¨í…Œì´ë„ˆ ì‚­ì œ í›„ ì¬ìƒì„± â†’ Container Layer ì‚­ì œë¨! âŒ
4. ìƒˆ ì»¨í…Œì´ë„ˆ â†’ ì›ë³¸ ì´ë¯¸ì§€ ë ˆì´ì–´ë§Œ ì‚¬ìš©
```

**ì£¼ë‹ˆì–´ì˜ ì‹¤ìˆ˜**:
```bash
# âŒ ì˜ëª»ëœ ë°©ë²•: ëŸ°íƒ€ì„ì— ì„¤ì • ë³€ê²½
$ docker run -d --name myapp myapp:latest
$ docker exec myapp bash -c "echo 'production' > /app/config.txt"
# â†’ ì¬ë°°í¬ ì‹œ ì„¤ì • ì‚¬ë¼ì§!

# âŒ ì„ì‹œ ë°©í¸: ì»¨í…Œì´ë„ˆë¥¼ ê³„ì† ìœ ì§€
$ docker commit myapp myapp:v2  # ì•ˆí‹°íŒ¨í„´!
# â†’ ì´ë¯¸ì§€ê°€ ë¹„ëŒ€í•´ì§€ê³ , ì¬í˜„ì„± ì—†ìŒ
```

**í•´ê²°ì±… 1: ë¹Œë“œ íƒ€ì„ì— ì„¤ì • í¬í•¨**:
```dockerfile
# âœ… Dockerfileì— ì„¤ì • í¬í•¨
FROM nginx:alpine

# ì»¤ìŠ¤í…€ ì„¤ì • íŒŒì¼ ë³µì‚¬ (ì´ë¯¸ì§€ ë ˆì´ì–´ë¡œ ê³ ì •)
COPY custom-nginx.conf /etc/nginx/nginx.conf
COPY app.conf /etc/nginx/conf.d/

# ì´ì œ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥ë¨!
```

**í•´ê²°ì±… 2: ë³¼ë¥¨ ë§ˆìš´íŠ¸ ì‚¬ìš©**:
```bash
# âœ… í˜¸ìŠ¤íŠ¸ íŒŒì¼ì„ ë§ˆìš´íŠ¸
$ docker run -d \
  --name mynginx \
  -v ./custom-nginx.conf:/etc/nginx/nginx.conf:ro \
  nginx

# ì´ì œ í˜¸ìŠ¤íŠ¸ì—ì„œ ìˆ˜ì •í•˜ë©´ ì»¨í…Œì´ë„ˆì— ì¦‰ì‹œ ë°˜ì˜
$ vim custom-nginx.conf
$ docker exec mynginx nginx -s reload
```

**í•´ê²°ì±… 3: ConfigMap/Secret (Kubernetes)**:
```yaml
# âœ… Kubernetes í™˜ê²½
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-config
data:
  nginx.conf: |
    # ì„¤ì • ë‚´ìš©...
---
apiVersion: v1
kind: Pod
spec:
  containers:
  - name: nginx
    image: nginx
    volumeMounts:
    - name: config
      mountPath: /etc/nginx/nginx.conf
      subPath: nginx.conf
  volumes:
  - name: config
    configMap:
      name: nginx-config
```

**ë°°ìš´ ì **:
- ğŸ’¡ **íŒ 1**: ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ìˆ˜ì •ì€ ì„ì‹œì ! ì˜êµ¬ ì €ì¥ í•„ìš” ì‹œ ì´ë¯¸ì§€ ë¹Œë“œ ë˜ëŠ” ë³¼ë¥¨ ì‚¬ìš©
- ğŸ’¡ **íŒ 2**: `docker commit`ì€ ì•ˆí‹°íŒ¨í„´ (ì¬í˜„ì„± ì—†ê³  ë¹„ëŒ€í•´ì§)
- ğŸ’¡ **íŒ 3**: ì„¤ì • íŒŒì¼ì€ ë¹Œë“œ íƒ€ì„(Dockerfile) ë˜ëŠ” ë³¼ë¥¨ìœ¼ë¡œ ê´€ë¦¬
- ğŸ’¡ **íŒ 4**: ë¶ˆë³€ ì¸í”„ë¼(Immutable Infrastructure) ì›ì¹™ ì¤€ìˆ˜

**ë¹„êµí‘œ**:
| ë°©ë²• | ì˜êµ¬ì„± | ì¬í˜„ì„± | ê´€ë¦¬ì„± | ì¶”ì²œë„ |
|------|--------|--------|--------|--------|
| ëŸ°íƒ€ì„ ìˆ˜ì • | âŒ | âŒ | âŒ | â­â˜†â˜†â˜†â˜† |
| docker commit | â–³ | âŒ | âŒ | â­â˜†â˜†â˜†â˜† |
| Dockerfile COPY | âœ… | âœ… | âœ… | â­â­â­â­â­ |
| ë³¼ë¥¨ ë§ˆìš´íŠ¸ | âœ… | âœ… | âœ… | â­â­â­â­â­ |

---

### ì‹œë‚˜ë¦¬ì˜¤ 4: "ë””ìŠ¤í¬ê°€ ê°€ë“ ì°¼ì–´ìš”!" (ë ˆì´ì–´ ì •ë¦¬ ì•ˆ í•¨)

**ìƒí™©**: Docker ì‚¬ìš© ì¤‘ ë””ìŠ¤í¬ ê³µê°„ì´ ë¶€ì¡±í•´ì§

```bash
# ì–´ëŠ ë‚  ê°‘ìê¸°...
$ docker build -t myapp .
ERROR: failed to solve: write /var/lib/docker/...: no space left on device

# ë””ìŠ¤í¬ í™•ì¸
$ df -h
Filesystem      Size  Used  Avail Use% Mounted on
/dev/sda1       100G  98G   2G   98%  /

# Dockerê°€ ì°¨ì§€í•˜ëŠ” ê³µê°„
$ sudo du -sh /var/lib/docker/
85G    /var/lib/docker/
```

**ì™œ ì´ëŸ° ì¼ì´ ë°œìƒí•˜ëŠ”ê°€**:
```
DockerëŠ” ë‹¤ìŒì„ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ì§€ ì•ŠìŒ:

1. ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆ
   $ docker ps -a
   (ìˆ˜ì‹­ ê°œì˜ Exited ì»¨í…Œì´ë„ˆë“¤)

2. íƒœê·¸ ì—†ëŠ” ì´ë¯¸ì§€ (dangling images)
   $ docker images -f "dangling=true"
   <none>    <none>    500MB
   <none>    <none>    800MB
   (ë¹Œë“œ ì‹¤íŒ¨ ì‹œ ìƒì„±ëœ ì¤‘ê°„ ë ˆì´ì–´ë“¤)

3. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë³¼ë¥¨
   $ docker volume ls
   (ì‚­ì œëœ ì»¨í…Œì´ë„ˆì˜ ë³¼ë¥¨ë“¤)

4. ë¹Œë“œ ìºì‹œ
   $ docker system df
   Build Cache    45GB

5. overlay2 ë ˆì´ì–´ ì¤‘ë³µ
   $ sudo du -sh /var/lib/docker/overlay2/
   60GB
```

**ì£¼ë‹ˆì–´ì˜ ì‹¤ìˆ˜**:
```bash
# âŒ ì´ë¯¸ì§€ë¥¼ ê³„ì† ë¹Œë“œë§Œ í•¨ (ì •ë¦¬ ì•ˆ í•¨)
$ docker build -t myapp:v1 .
$ docker build -t myapp:v2 .
$ docker build -t myapp:v3 .
...
$ docker build -t myapp:v50 .
# â†’ 50ê°œ ì´ë¯¸ì§€ê°€ ëª¨ë‘ ì €ì¥ë¨!

# âŒ í…ŒìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆë¥¼ --rm ì—†ì´ ì‹¤í–‰
$ docker run myapp test1
$ docker run myapp test2
$ docker run myapp test3
...
# â†’ ëª¨ë“  ì»¨í…Œì´ë„ˆê°€ Exited ìƒíƒœë¡œ ë‚¨ìŒ

# âŒ ë¹Œë“œ ì‹¤íŒ¨ë¥¼ ë°˜ë³µ
$ docker build -t myapp .
ERROR: ...
$ docker build -t myapp .
ERROR: ...
# â†’ ì¤‘ê°„ ë ˆì´ì–´ê°€ ê³„ì† ìŒ“ì„
```

**í•´ê²°ì±… 1: ì¦‰ì‹œ ì •ë¦¬**:
```bash
# âœ… ëª¨ë“  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒ ì‚­ì œ (ê°€ì¥ ê°•ë ¥)
$ docker system prune -a --volumes
WARNING! This will remove:
  - all stopped containers
  - all networks not used by at least one container
  - all images without at least one container associated to them
  - all build cache
  - all volumes not used by at least one container

Are you sure? [y/N] y

Deleted Containers: 42
Deleted Images: 67
Deleted Networks: 5
Deleted Volumes: 12
Total reclaimed space: 73.5GB  ğŸ‰

# ê²°ê³¼ í™•ì¸
$ docker system df
TYPE            TOTAL   ACTIVE   SIZE
Images          5       3        2.1GB
Containers      3       3        100MB
Local Volumes   2       2        500MB
Build Cache     0       0        0B
```

**í•´ê²°ì±… 2: ì„ íƒì  ì •ë¦¬**:
```bash
# âœ… ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆë§Œ ì‚­ì œ
$ docker container prune
Deleted Containers: 15
Total reclaimed space: 2.5GB

# âœ… dangling ì´ë¯¸ì§€ë§Œ ì‚­ì œ
$ docker image prune
Deleted Images: 23
Total reclaimed space: 15.3GB

# âœ… ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë³¼ë¥¨ ì‚­ì œ
$ docker volume prune
Deleted Volumes: 8
Total reclaimed space: 8.2GB

# âœ… ë¹Œë“œ ìºì‹œ ì‚­ì œ
$ docker builder prune
Deleted build cache: 35GB
```

**í•´ê²°ì±… 3: ì˜ˆë°© ìŠµê´€**:
```bash
# âœ… í…ŒìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆëŠ” --rm ì‚¬ìš©
$ docker run --rm myapp npm test
# â†’ ì¢…ë£Œ ì‹œ ìë™ ì‚­ì œ

# âœ… ì´ì „ ì´ë¯¸ì§€ íƒœê·¸ ë®ì–´ì“°ê¸°
$ docker build -t myapp:latest .
# â†’ ê°™ì€ íƒœê·¸ ì‚¬ìš© (ì´ì „ ì´ë¯¸ì§€ëŠ” <none>ìœ¼ë¡œ ë³€ê²½)

# âœ… ì •ê¸°ì ì¸ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸
$ crontab -e
# ë§¤ì£¼ ì¼ìš”ì¼ ìƒˆë²½ 3ì‹œì— ì •ë¦¬
0 3 * * 0 docker system prune -f --volumes

# âœ… ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
$ docker system df -v
# ì–´ë–¤ ì´ë¯¸ì§€/ì»¨í…Œì´ë„ˆê°€ ê³µê°„ì„ ë§ì´ ì°¨ì§€í•˜ëŠ”ì§€ í™•ì¸
```

**í•´ê²°ì±… 4: ë¹Œë“œ ìµœì í™”ë¡œ ì˜ˆë°©**:
```dockerfile
# âœ… ì´ë¯¸ì§€ í¬ê¸° ìì²´ë¥¼ ì¤„ì´ê¸°
FROM node:16-alpine  # ubuntu ëŒ€ì‹  alpine

# âœ… ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œê±°
RUN apk add --no-cache \
    git \
    python3 \
 && rm -rf /var/cache/apk/*  # ìºì‹œ ì‚­ì œ

# âœ… ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ
FROM golang:1.18 AS builder
RUN go build -o app

FROM alpine:latest
COPY --from=builder /app/app .
# â†’ ë¹Œë“œ ë„êµ¬ëŠ” ìµœì¢… ì´ë¯¸ì§€ì— í¬í•¨ ì•ˆ ë¨
```

**ë°°ìš´ ì **:
- ğŸ’¡ **íŒ 1**: ê°œë°œ ì¤‘ì—ëŠ” ë§¤ì£¼ `docker system prune -a` ì‹¤í–‰
- ğŸ’¡ **íŒ 2**: í”„ë¡œë•ì…˜ì—ì„œëŠ” ì‹ ì¤‘í•˜ê²Œ ì„ íƒì  ì •ë¦¬ (`-a` í”Œë˜ê·¸ ì£¼ì˜)
- ğŸ’¡ **íŒ 3**: í…ŒìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆëŠ” í•­ìƒ `--rm` í”Œë˜ê·¸ ì‚¬ìš©
- ğŸ’¡ **íŒ 4**: `docker system df`ë¡œ ì£¼ê¸°ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§
- ğŸ’¡ **íŒ 5**: CI/CD íŒŒì´í”„ë¼ì¸ì— ì •ë¦¬ ë‹¨ê³„ í¬í•¨

**ì •ë¦¬ ëª…ë ¹ì–´ ì¹˜íŠ¸ì‹œíŠ¸**:
```bash
# ì•ˆì „í•œ ì •ë¦¬ (ì‚¬ìš© ì¤‘ì¸ ê²ƒì€ ì œì™¸)
docker container prune  # ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆ
docker image prune      # dangling ì´ë¯¸ì§€
docker volume prune     # ì‚¬ìš© ì•ˆ í•˜ëŠ” ë³¼ë¥¨
docker network prune    # ì‚¬ìš© ì•ˆ í•˜ëŠ” ë„¤íŠ¸ì›Œí¬

# ì „ì²´ ì •ë¦¬ (ì£¼ì˜!)
docker system prune -a --volumes  # ëª¨ë“  ê²ƒ ì‚­ì œ

# ê°•ì œ ì •ë¦¬ (í™•ì¸ ì•ˆ í•¨)
docker system prune -f

# ê³µê°„ í™•ì¸
docker system df        # ìš”ì•½
docker system df -v     # ìƒì„¸
```

---

## â“ FAQ

<details>
<summary><strong>Q1: ë ˆì´ì–´ëŠ” ìµœëŒ€ ëª‡ ê°œê¹Œì§€ ë§Œë“¤ ìˆ˜ ìˆë‚˜ìš”?</strong></summary>

**A**: ì´ë¡ ì ìœ¼ë¡œëŠ” ì œí•œì´ ì—†ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” **10-20ê°œ ì´ë‚´**ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- DockerëŠ” ë ˆì´ì–´ ìˆ˜ì— í•˜ë“œ ë¦¬ë°‹ì´ ì—†ìŒ
- í•˜ì§€ë§Œ ë ˆì´ì–´ê°€ ë§ì„ìˆ˜ë¡:
  - ì´ë¯¸ì§€ pull/push ì‹œê°„ ì¦ê°€ (ê° ë ˆì´ì–´ë§ˆë‹¤ ë„¤íŠ¸ì›Œí¬ ìš”ì²­)
  - íŒŒì¼ ì‹œìŠ¤í…œ ì˜¤ë²„í—¤ë“œ ì¦ê°€ (OverlayFS ê²€ìƒ‰ ì‹œê°„)
  - ë¹Œë“œ ë³µì¡ë„ ì¦ê°€

**ì˜ˆì‹œ**:
```dockerfile
# âŒ ë‚˜ìœ ì˜ˆ: ë ˆì´ì–´ ë„ˆë¬´ ë§ìŒ (50ê°œ!)
FROM ubuntu
RUN apt-get update
RUN apt-get install -y curl
RUN apt-get install -y git
RUN apt-get install -y vim
... (50ê°œ RUN ëª…ë ¹ì–´)

# âœ… ì¢‹ì€ ì˜ˆ: ë ˆì´ì–´ ìµœì†Œí™” (5ê°œ)
FROM ubuntu
RUN apt-get update && \
    apt-get install -y \
        curl \
        git \
        vim && \
    rm -rf /var/lib/apt/lists/*
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ Dockerfile ëª…ë ¹ì–´ë¥¼ ê¸°ëŠ¥ë³„ë¡œ ê·¸ë£¹í™”í•˜ì—¬ 5-15ê°œ ë ˆì´ì–´ë¡œ ìœ ì§€

**ì¸¡ì • ë°©ë²•**:
```bash
$ docker history myapp:latest | wc -l
18  # 18ê°œ ë ˆì´ì–´ (ì ë‹¹í•¨)
```

</details>

<details>
<summary><strong>Q2: ê°™ì€ ì´ë¯¸ì§€ë¡œ ë§Œë“  100ê°œ ì»¨í…Œì´ë„ˆëŠ” ë””ìŠ¤í¬ë¥¼ 100ë°° ì‚¬ìš©í•˜ë‚˜ìš”?</strong></summary>

**A**: **ì•„ë‹ˆì˜¤!** ì´ë¯¸ì§€ ë ˆì´ì–´ëŠ” ê³µìœ ë˜ë¯€ë¡œ ì¶”ê°€ ë””ìŠ¤í¬ëŠ” ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
```
1ê°œ ì´ë¯¸ì§€ (500MB) + 100ê°œ ì»¨í…Œì´ë„ˆ = ?

âŒ ì˜ˆìƒ: 500MB Ã— 100 = 50GB
âœ… ì‹¤ì œ: 500MB (ì´ë¯¸ì§€) + 100MB (100ê°œ ì»¨í…Œì´ë„ˆ ë ˆì´ì–´)
       = ì•½ 600MB (99% ì ˆì•½!)

ì´ìœ :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì´ë¯¸ì§€ ë ˆì´ì–´ 500MB â”‚ â† 100ê°œ ì»¨í…Œì´ë„ˆê°€ ê³µìœ !
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†‘ â†‘ â†‘ ... â†‘ â†‘
    â”‚ â”‚ â”‚     â”‚ â”‚
    C1 C2 C3...C99 C100
    (ê° 1MB)
```

**ì‹¤ì œ í…ŒìŠ¤íŠ¸**:
```bash
# nginx ì´ë¯¸ì§€ í¬ê¸°
$ docker images nginx
nginx   latest   141MB

# 100ê°œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
$ for i in {1..100}; do
    docker run -d --name nginx$i nginx
  done

# ì‹¤ì œ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰
$ docker system df
Images        1       141MB
Containers    100     50MB   # 100ê°œì¸ë° 50MBë§Œ!

# ì´ìœ : ì»¨í…Œì´ë„ˆ ë ˆì´ì–´ëŠ” ê±°ì˜ ë¹„ì–´ìˆìŒ (ë³€ê²½ ì‚¬í•­ ì—†ìŒ)
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ ê°™ì€ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œ ì—„ì²­ë‚œ ê³µê°„ ì ˆì•½ íš¨ê³¼!

</details>

<details>
<summary><strong>Q3: íŒŒì¼ì„ ì‚­ì œí•´ë„ ì´ë¯¸ì§€ í¬ê¸°ê°€ ì¤„ì–´ë“¤ì§€ ì•ŠëŠ” ì´ìœ ëŠ”?</strong></summary>

**A**: ë ˆì´ì–´ëŠ” **ì¶”ê°€ë§Œ ê°€ëŠ¥(Append-only)**í•˜ê³  ìˆ˜ì •/ì‚­ì œê°€ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
```dockerfile
# âŒ ì˜ëª»ëœ ì´í•´
FROM ubuntu
RUN wget https://example.com/bigfile.zip  # 100MB ì¶”ê°€
RUN unzip bigfile.zip                     # 100MB ì••ì¶• í•´ì œ
RUN rm bigfile.zip                        # ì‚­ì œí–ˆìœ¼ë‹ˆ 100MB ê°ì†Œ?

# ì‹¤ì œ ë ˆì´ì–´ êµ¬ì¡°:
Layer 1: ubuntu (50MB)
Layer 2: + bigfile.zip (100MB)     â† ì—¬ì „íˆ ì¡´ì¬!
Layer 3: + ì••ì¶• í•´ì œëœ íŒŒì¼ (100MB)
Layer 4: + .wh.bigfile.zip (0B)    â† ì‚­ì œ í‘œì‹œë§Œ (Whiteout)

ìµœì¢… ì´ë¯¸ì§€: 50 + 100 + 100 = 250MB (bigfile.zip í¬í•¨!)
```

**í•´ê²°ì±…**:
```dockerfile
# âœ… ê°™ì€ ë ˆì´ì–´ì—ì„œ ë‹¤ìš´ë¡œë“œ â†’ ì‚¬ìš© â†’ ì‚­ì œ
FROM ubuntu
RUN wget https://example.com/bigfile.zip && \
    unzip bigfile.zip && \
    rm bigfile.zip  # ê°™ì€ RUN ëª…ë ¹ì–´ ì•ˆì—ì„œ ì‚­ì œ!

# ë ˆì´ì–´ êµ¬ì¡°:
Layer 1: ubuntu (50MB)
Layer 2: + ì••ì¶• í•´ì œëœ íŒŒì¼ë§Œ (100MB)

ìµœì¢… ì´ë¯¸ì§€: 50 + 100 = 150MB (100MB ì ˆì•½!)
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ **íŒŒì¼ ë‹¤ìš´ë¡œë“œ â†’ ì‚¬ìš© â†’ ì‚­ì œëŠ” ë°˜ë“œì‹œ í•œ ì¤„ë¡œ!** (&&ë¡œ ì—°ê²°)

**ê²€ì¦ ë°©ë²•**:
```bash
$ docker history myapp:latest
# SIZE ì»¬ëŸ¼ì—ì„œ ê° ë ˆì´ì–´ í¬ê¸° í™•ì¸
```

</details>

<details>
<summary><strong>Q4: ë¹Œë“œ ìºì‹œë¥¼ ê°•ì œë¡œ ë¬´ì‹œí•˜ê³  ì‹¶ì„ ë•ŒëŠ”?</strong></summary>

**A**: `--no-cache` í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë ˆì´ì–´ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë¹Œë“œí•©ë‹ˆë‹¤.

**ì‚¬ìš© ìƒí™©**:
1. ì™¸ë¶€ íŒ¨í‚¤ì§€ ìµœì‹  ë²„ì „ ë‹¤ìš´ë¡œë“œ í•„ìš”
2. ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ í™•ì¸
3. ë¹Œë“œ ìºì‹œê°€ ì†ìƒë¨
4. ì¬í˜„ ê°€ëŠ¥í•œ ë¹Œë“œ í™•ì¸ (CI/CD)

**ëª…ë ¹ì–´**:
```bash
# ì „ì²´ ìºì‹œ ë¬´ì‹œ
$ docker build --no-cache -t myapp:latest .

# íŠ¹ì • ë ˆì´ì–´ë¶€í„° ìºì‹œ ë¬´ì‹œ
$ docker build --cache-from=myapp:v1 -t myapp:v2 .

# ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ë§Œ ìƒˆë¡œ ë‹¤ìš´ë¡œë“œ (ë¶€ë¶„ ìºì‹œ ë¬´ì‹œ)
$ docker build --pull -t myapp:latest .
# â†’ FROM ì´ë¯¸ì§€ë§Œ ê°•ì œë¡œ ìµœì‹ ìœ¼ë¡œ pull
```

**ì˜ˆì‹œ**:
```dockerfile
FROM node:16-alpine

WORKDIR /app

# ì´ ë¶€ë¶„ì€ ë§¤ë²ˆ ìµœì‹  ë²„ì „ì„ ë°›ê³  ì‹¶ìŒ
RUN npm install -g some-tool@latest

COPY . .
```

```bash
# âŒ ìºì‹œ ì‚¬ìš© (ì˜¤ë˜ëœ ë²„ì „ ìœ ì§€)
$ docker build -t myapp .
# â†’ some-toolì€ ì´ì „ ë²„ì „ ê·¸ëŒ€ë¡œ

# âœ… ìºì‹œ ë¬´ì‹œ (ìµœì‹  ë²„ì „ ë‹¤ìš´ë¡œë“œ)
$ docker build --no-cache -t myapp .
# â†’ some-tool ìµœì‹  ë²„ì „ ì„¤ì¹˜
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ ê°œë°œ ì¤‘: ìºì‹œ í™œìš© (ë¹ ë¥¸ ë¹Œë“œ)
ğŸ’¡ í”„ë¡œë•ì…˜ ë°°í¬: `--no-cache` ì‚¬ìš© (ì¬í˜„ì„± ë³´ì¥)

**CI/CD ì˜ˆì‹œ**:
```yaml
# GitHub Actions
- name: Build Docker image
  run: docker build --no-cache -t $IMAGE_NAME .
```

</details>

<details>
<summary><strong>Q5: OverlayFS ë§ê³  ë‹¤ë¥¸ ìŠ¤í† ë¦¬ì§€ ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•´ì•¼ í•  ë•ŒëŠ”?</strong></summary>

**A**: ëŒ€ë¶€ë¶„ì˜ ê²½ìš° **OverlayFSë¡œ ì¶©ë¶„**í•˜ì§€ë§Œ, íŠ¹ì • ìƒí™©ì—ì„œëŠ” ë‹¤ë¥¸ ë“œë¼ì´ë²„ê°€ í•„ìš”í•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:

| ìƒí™© | ì¶”ì²œ ë“œë¼ì´ë²„ | ì´ìœ  |
|------|---------------|------|
| **ì¼ë°˜ì ì¸ ê²½ìš°** | overlay2 | ì„±ëŠ¥ ìµœê³ , ì•ˆì •ì„± ìš°ìˆ˜ |
| **ì»¤ë„ 3.x** | aufs | overlay2 ë¯¸ì§€ì› |
| **ZFS íŒŒì¼ ì‹œìŠ¤í…œ** | zfs | Native ì§€ì› |
| **Btrfs íŒŒì¼ ì‹œìŠ¤í…œ** | btrfs | Native ì§€ì› |
| **RHEL/CentOS 7** | devicemapper | ê¸°ë³¸ê°’ (overlay2ë¡œ ë³€ê²½ ê¶Œì¥) |
| **Windows ì»¨í…Œì´ë„ˆ** | windowsfilter | Windows ì „ìš© |

**í˜„ì¬ ë“œë¼ì´ë²„ í™•ì¸**:
```bash
$ docker info | grep "Storage Driver"
Storage Driver: overlay2
```

**ë“œë¼ì´ë²„ ë³€ê²½** (ì£¼ì˜: ê¸°ì¡´ ì»¨í…Œì´ë„ˆ/ì´ë¯¸ì§€ ì‚­ì œë¨!):
```bash
# 1. Docker ì¤‘ì§€
$ sudo systemctl stop docker

# 2. ì„¤ì • íŒŒì¼ ìˆ˜ì •
$ sudo vim /etc/docker/daemon.json
{
  "storage-driver": "overlay2"
}

# 3. Docker ì¬ì‹œì‘
$ sudo systemctl start docker

# 4. í™•ì¸
$ docker info | grep "Storage Driver"
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ íŠ¹ë³„í•œ ì´ìœ ê°€ ì—†ìœ¼ë©´ **overlay2 ê·¸ëŒ€ë¡œ ì‚¬ìš©** (99% ì¼€ì´ìŠ¤)
ğŸ’¡ ì»¤ë„ ë²„ì „ í™•ì¸: `uname -r` (4.0 ì´ìƒì´ë©´ overlay2 ê°€ëŠ¥)

**ì„±ëŠ¥ ë¹„êµ**:
```
íŒŒì¼ ì½ê¸° ì†ë„ (ìƒëŒ€ì ):
overlay2:    â­â­â­â­â­ (100%)
aufs:        â­â­â­â­  (85%)
devicemapper:â­â­â­   (70%)
btrfs:       â­â­â­â­  (80%)
```

</details>

<details>
<summary><strong>Q6: ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œëŠ” ì–¸ì œ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?</strong></summary>

**A**: **ì»´íŒŒì¼/ë¹Œë“œê°€ í•„ìš”í•œ ì–¸ì–´**(Go, Java, Rust ë“±)ë‚˜ **ê°œë°œ ë„êµ¬ê°€ í”„ë¡œë•ì…˜ì— ë¶ˆí•„ìš”í•œ ê²½ìš°** í•„ìˆ˜ì…ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:

**ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°**:
1. Go, Rust, C/C++ ë“± ì»´íŒŒì¼ ì–¸ì–´
2. Java, Gradle/Maven ë¹Œë“œ ë„êµ¬
3. Node.jsì—ì„œ TypeScript ì»´íŒŒì¼
4. React/Vue ë¹Œë“œ í›„ ì •ì  íŒŒì¼ë§Œ ë°°í¬
5. Pythonì—ì„œ Cython ì»´íŒŒì¼

**ì˜ˆì‹œ 1: Go ì• í”Œë¦¬ì¼€ì´ì…˜**
```dockerfile
# âŒ ë©€í‹°ìŠ¤í…Œì´ì§€ ì—†ì´ (800MB!)
FROM golang:1.18
WORKDIR /app
COPY . .
RUN go build -o myapp
CMD ["./myapp"]
# â†’ Go ì»´íŒŒì¼ëŸ¬, SDK ëª¨ë‘ í¬í•¨

# âœ… ë©€í‹°ìŠ¤í…Œì´ì§€ (15MB!)
FROM golang:1.18 AS builder
WORKDIR /app
COPY . .
RUN go build -o myapp

FROM alpine:latest
WORKDIR /app
COPY --from=builder /app/myapp .
CMD ["./myapp"]
# â†’ ì‹¤í–‰ íŒŒì¼ë§Œ í¬í•¨
```

**ì˜ˆì‹œ 2: React ì•±**
```dockerfile
# âŒ ë©€í‹°ìŠ¤í…Œì´ì§€ ì—†ì´ (1.2GB!)
FROM node:16
WORKDIR /app
COPY . .
RUN npm install
RUN npm run build
CMD ["npm", "start"]
# â†’ node_modules, ê°œë°œ ë„êµ¬ ëª¨ë‘ í¬í•¨

# âœ… ë©€í‹°ìŠ¤í…Œì´ì§€ (25MB!)
FROM node:16 AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/build /usr/share/nginx/html
# â†’ ë¹Œë“œëœ ì •ì  íŒŒì¼ë§Œ í¬í•¨
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ **ë¹Œë“œ ë„êµ¬ê°€ ëŸ°íƒ€ì„ì— í•„ìš” ì—†ìœ¼ë©´ ë©€í‹°ìŠ¤í…Œì´ì§€ í•„ìˆ˜!**

**ì´ë¯¸ì§€ í¬ê¸° ë¹„êµ**:
| ì–¸ì–´ | ë‹¨ì¼ ìŠ¤í…Œì´ì§€ | ë©€í‹° ìŠ¤í…Œì´ì§€ | ì ˆì•½ |
|------|---------------|---------------|------|
| Go | 800MB | 15MB | **98%** |
| Java | 600MB | 150MB | **75%** |
| Node.js | 1.2GB | 50MB | **96%** |
| Rust | 2GB | 10MB | **99%** |

</details>

<details>
<summary><strong>Q7: ë ˆì´ì–´ ìˆ˜ë¥¼ ì¤„ì´ëŠ” ê²Œ í•­ìƒ ì¢‹ì€ê°€ìš”?</strong></summary>

**A**: **ì•„ë‹ˆì˜¤!** ìºì‹œ íš¨ìœ¨ê³¼ ê°€ë…ì„±ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ë¬´ì¡°ê±´ ì¤„ì´ëŠ” ê²ƒë³´ë‹¤ **ì „ëµì ìœ¼ë¡œ ê·¸ë£¹í™”**í•˜ëŠ” ê²Œ ì¤‘ìš”í•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:

**âŒ ë„ˆë¬´ ë ˆì´ì–´ë¥¼ ì¤„ì¸ ê²½ìš° (ë¹„íš¨ìœ¨ì )**:
```dockerfile
FROM node:16-alpine
WORKDIR /app

# ëª¨ë“  ê²ƒì„ í•œ ë ˆì´ì–´ë¡œ (ë‚˜ìœ ì˜ˆ!)
COPY . . && \
  npm install && \
  echo "Done"

# ë¬¸ì œ:
# - package.jsonë§Œ ë°”ë€Œì–´ë„ COPY . .ë¶€í„° ë‹¤ì‹œ ì‹¤í–‰
# - ì†ŒìŠ¤ ì½”ë“œë§Œ ë°”ë€Œì–´ë„ npm install ë‹¤ì‹œ ì‹¤í–‰
# - ìºì‹œ íš¨ìœ¨ 0%
```

**âœ… ì „ëµì ìœ¼ë¡œ ê·¸ë£¹í™” (íš¨ìœ¨ì )**:
```dockerfile
FROM node:16-alpine

WORKDIR /app

# ë ˆì´ì–´ 1: ì˜ì¡´ì„± ì •ì˜ (ê±°ì˜ ì•ˆ ë°”ë€œ)
COPY package*.json ./

# ë ˆì´ì–´ 2: ì˜ì¡´ì„± ì„¤ì¹˜ (package.json ë³€ê²½ ì‹œë§Œ ì¬ì‹¤í–‰)
RUN npm ci --only=production

# ë ˆì´ì–´ 3: ì†ŒìŠ¤ ì½”ë“œ (ìì£¼ ë°”ë€œ)
COPY src/ ./src/

# ë ˆì´ì–´ 4: ì‹œì‘ ëª…ë ¹ (ë©”íƒ€ë°ì´í„°ë§Œ, 0B)
CMD ["node", "src/server.js"]

# ì „ëµ:
# - ë³€ê²½ ë¹ˆë„ë³„ë¡œ ë¶„ë¦¬ (ìì£¼ ë°”ë€ŒëŠ” ê²ƒì€ ë’¤ë¡œ)
# - ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…(npm install)ì€ ìºì‹œ í™œìš©
# - ì´ 4ê°œ ë ˆì´ì–´ (ì ë‹¹í•¨)
```

**ë ˆì´ì–´ ê·¸ë£¹í™” ì „ëµ**:
```
ë³€ê²½ ë¹ˆë„:
ë‚®ìŒ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> ë†’ìŒ

[ë² ì´ìŠ¤]  [ì‹œìŠ¤í…œ]  [ì˜ì¡´ì„±]  [ì„¤ì •]  [ì½”ë“œ]
Layer 1   Layer 2   Layer 3   Layer 4  Layer 5

ì˜ˆì‹œ:
ubuntu â†’ apt-get â†’ npm install â†’ í™˜ê²½ë³€ìˆ˜ â†’ ì†ŒìŠ¤ì½”ë“œ
(ì¬ì‚¬ìš©) (ì›” 1íšŒ)  (ì£¼ 1íšŒ)      (ì¼ 1íšŒ)  (ì‹œê°„ë§ˆë‹¤)
```

**ì‹¤ë¬´ ê°€ì´ë“œë¼ì¸**:
| í•­ëª© | ê¶Œì¥ ë ˆì´ì–´ ìˆ˜ | ì´ìœ  |
|------|----------------|------|
| **ë² ì´ìŠ¤ ì´ë¯¸ì§€** | 1ê°œ | FROM |
| **ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€** | 1-2ê°œ | apt-get, apk ë“± ê·¸ë£¹í™” |
| **ì–¸ì–´ ëŸ°íƒ€ì„** | 1ê°œ | Node.js, Python ë“± |
| **ì˜ì¡´ì„±** | 1-2ê°œ | npm install, pip install |
| **ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ** | 1-3ê°œ | ì„¤ì • â†’ ë¼ì´ë¸ŒëŸ¬ë¦¬ â†’ ë©”ì¸ ì½”ë“œ |
| **ë©”íƒ€ë°ì´í„°** | nê°œ | CMD, EXPOSE ë“± (0B) |
| **ì´í•©** | **5-10ê°œ** | ìºì‹œ íš¨ìœ¨ + ê°€ë…ì„± ê· í˜• |

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ **ë ˆì´ì–´ ìˆ˜ë³´ë‹¤ ìºì‹œ ì „ëµì´ ë” ì¤‘ìš”!**
ğŸ’¡ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…(ì„¤ì¹˜)ì€ ë³„ë„ ë ˆì´ì–´ë¡œ ë¶„ë¦¬
ğŸ’¡ ìì£¼ ë°”ë€ŒëŠ” ì½”ë“œëŠ” ë§ˆì§€ë§‰ì— ë°°ì¹˜

</details>

---

## ğŸ’¼ ë©´ì ‘ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸

### ğŸ“˜ ì£¼ë‹ˆì–´/ì‹ ì… ê°œë°œììš© (5-7ê°œ)

<details>
<summary><strong>1. Docker ì´ë¯¸ì§€ì˜ ë ˆì´ì–´ë€ ë¬´ì—‡ì´ë©°, ì™œ í•„ìš”í•œê°€ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Docker ì´ë¯¸ì§€ëŠ” ì—¬ëŸ¬ ê°œì˜ ì½ê¸° ì „ìš© ë ˆì´ì–´ë¡œ êµ¬ì„±ë¨
- Dockerfileì˜ ê° ëª…ë ¹ì–´(RUN, COPY ë“±)ê°€ ìƒˆë¡œìš´ ë ˆì´ì–´ë¥¼ ìƒì„±
- ë ˆì´ì–´ ì¬ì‚¬ìš©ìœ¼ë¡œ ì €ì¥ ê³µê°„ ì ˆì•½ ë° ë¹Œë“œ ì†ë„ í–¥ìƒ
- ë¶ˆë³€ì„±(Immutability) ë³´ì¥ìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´

**ì˜ˆì‹œ ë‹µë³€**
> "Docker ì´ë¯¸ì§€ì˜ ë ˆì´ì–´ëŠ” Dockerfileì˜ ê° ëª…ë ¹ì–´ê°€ ë§Œë“œëŠ” ì½ê¸° ì „ìš© íŒŒì¼ ì‹œìŠ¤í…œ ê³„ì¸µì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `FROM ubuntu`, `RUN apt-get update`, `COPY app.js` ê°ê°ì´ ë³„ë„ì˜ ë ˆì´ì–´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ë ˆì´ì–´ êµ¬ì¡°ëŠ” ì—¬ëŸ¬ ì´ë¯¸ì§€ê°€ ê°™ì€ ë² ì´ìŠ¤ ë ˆì´ì–´ë¥¼ ê³µìœ í•  ìˆ˜ ìˆê²Œ í•˜ì—¬ ë””ìŠ¤í¬ ê³µê°„ì„ ì ˆì•½í•˜ê³ , ë³€ê²½ë˜ì§€ ì•Šì€ ë ˆì´ì–´ëŠ” ìºì‹œë¥¼ í™œìš©í•˜ì—¬ ë¹Œë“œ ì‹œê°„ì„ ë‹¨ì¶•ì‹œí‚µë‹ˆë‹¤. ë˜í•œ ë ˆì´ì–´ê°€ ë¶ˆë³€ì´ê¸° ë•Œë¬¸ì— ì´ë¯¸ì§€ì˜ ì¼ê´€ì„±ê³¼ ì¬í˜„ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ë ˆì´ì–´ëŠ” ìµœëŒ€ ëª‡ ê°œê¹Œì§€ ë§Œë“¤ ìˆ˜ ìˆë‚˜ìš”?
- A: ì´ë¡ ì ìœ¼ë¡œëŠ” ì œí•œì´ ì—†ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” 10-20ê°œ ì´ë‚´ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ë ˆì´ì–´ê°€ ë„ˆë¬´ ë§ìœ¼ë©´ ì´ë¯¸ì§€ pull/push ì†ë„ê°€ ëŠë ¤ì§€ê³  íŒŒì¼ ì‹œìŠ¤í…œ ì˜¤ë²„í—¤ë“œê°€ ì¦ê°€í•©ë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œ ìˆ˜ì‹­ ê°œ ì„œë¹„ìŠ¤ê°€ ê°™ì€ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ ê³µìœ í•˜ë©´ ìˆ˜ GBì˜ ì €ì¥ ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆìŒ
- CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ë¹Œë“œ ìºì‹œ í™œìš© ì‹œ ë¹Œë“œ ì‹œê°„ì„ ìˆ˜ ë¶„ì—ì„œ ìˆ˜ ì´ˆë¡œ ë‹¨ì¶• ê°€ëŠ¥

</details>

<details>
<summary><strong>2. Dockerfileì—ì„œ RUN ëª…ë ¹ì–´ë¥¼ ì—¬ëŸ¬ ê°œ ì“°ëŠ” ê²ƒê³¼ &&ë¡œ ì—°ê²°í•˜ëŠ” ê²ƒì˜ ì°¨ì´ëŠ”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ê° RUNì€ ë³„ë„ì˜ ë ˆì´ì–´ë¥¼ ìƒì„±
- &&ë¡œ ì—°ê²°í•˜ë©´ í•˜ë‚˜ì˜ ë ˆì´ì–´ë§Œ ìƒì„±
- ì„ì‹œ íŒŒì¼ ì‚­ì œëŠ” ë°˜ë“œì‹œ ê°™ì€ RUN ëª…ë ¹ì–´ ì•ˆì—ì„œ
- ë ˆì´ì–´ ìˆ˜ê°€ ì ì„ìˆ˜ë¡ ì´ë¯¸ì§€ í¬ê¸° ê°ì†Œ

**ì˜ˆì‹œ ë‹µë³€**
> "RUN ëª…ë ¹ì–´ë¥¼ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•˜ë©´ ê°ê°ì´ ë³„ë„ì˜ ë ˆì´ì–´ë¥¼ ë§Œë“¤ì§€ë§Œ, &&ë¡œ ì—°ê²°í•˜ë©´ í•˜ë‚˜ì˜ ë ˆì´ì–´ë¡œ í•©ì³ì§‘ë‹ˆë‹¤. ì¤‘ìš”í•œ ì°¨ì´ëŠ” íŒŒì¼ ì‚­ì œ ì‹œ ë‚˜íƒ€ë‚˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ì–´ `RUN wget file.zip`ì™€ `RUN rm file.zip`ì„ ë¶„ë¦¬í•˜ë©´ ì²« ë²ˆì§¸ ë ˆì´ì–´ì— file.zipì´ ì˜êµ¬ì ìœ¼ë¡œ ë‚¨ì•„ ì´ë¯¸ì§€ í¬ê¸°ê°€ ì¤„ì§€ ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ `RUN wget file.zip && unzip file.zip && rm file.zip`ì²˜ëŸ¼ í•œ ì¤„ë¡œ ì‘ì„±í•˜ë©´ ìµœì¢… ë ˆì´ì–´ì—ëŠ” ì••ì¶• í•´ì œëœ íŒŒì¼ë§Œ í¬í•¨ë˜ì–´ ì´ë¯¸ì§€ í¬ê¸°ê°€ í¬ê²Œ ì¤„ì–´ë“­ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ê·¸ëŸ¼ ëª¨ë“  RUN ëª…ë ¹ì–´ë¥¼ í•˜ë‚˜ë¡œ í•©ì¹˜ëŠ” ê²Œ ê°€ì¥ ì¢‹ì€ê°€ìš”?
- A: ì•„ë‹™ë‹ˆë‹¤. ë¹Œë“œ ìºì‹œ íš¨ìœ¨ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ëŠ” í•˜ë‚˜ì˜ RUNìœ¼ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜ì¡´ì„±ì€ ë³„ë„ RUNìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- í”„ë¡œë•ì…˜ ì´ë¯¸ì§€ ìµœì í™” ì‹œ í•„ìˆ˜ ê¸°ë²•
- ì´ë¯¸ì§€ í¬ê¸°ê°€ 1GBì—ì„œ 100MBë¡œ ì¤„ì–´ë“œëŠ” ì‚¬ë¡€ í”í•¨

</details>

<details>
<summary><strong>3. Docker ë¹Œë“œ ìºì‹œëŠ” ì–´ë–»ê²Œ ì‘ë™í•˜ë©°, ì–¸ì œ ë¬´íš¨í™”ë˜ë‚˜ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ê° ë ˆì´ì–´ëŠ” ì²´í¬ì„¬ìœ¼ë¡œ ì‹ë³„ë¨
- ì´ì „ ë¹Œë“œì˜ ë ˆì´ì–´ì™€ ë™ì¼í•˜ë©´ ìºì‹œ ì‚¬ìš©
- í•œ ë ˆì´ì–´ê°€ ë³€ê²½ë˜ë©´ ê·¸ ì´í›„ ëª¨ë“  ë ˆì´ì–´ ë¬´íš¨í™”
- COPY/ADDëŠ” íŒŒì¼ ë‚´ìš©ì˜ ì²´í¬ì„¬ìœ¼ë¡œ íŒë‹¨

**ì˜ˆì‹œ ë‹µë³€**
> "DockerëŠ” Dockerfileì˜ ê° ëª…ë ¹ì–´ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©°, ê° ë ˆì´ì–´ì˜ ì²´í¬ì„¬ì„ ê³„ì‚°í•˜ì—¬ ì´ì „ ë¹Œë“œì™€ ë¹„êµí•©ë‹ˆë‹¤. ëª…ë ¹ì–´ì™€ íŒŒì¼ ë‚´ìš©ì´ ë™ì¼í•˜ë©´ ìºì‹œëœ ë ˆì´ì–´ë¥¼ ì¬ì‚¬ìš©í•˜ì§€ë§Œ, í•œ ë ˆì´ì–´ë¼ë„ ë³€ê²½ë˜ë©´ ê·¸ ì´í›„ì˜ ëª¨ë“  ë ˆì´ì–´ê°€ ë¬´íš¨í™”ë˜ì–´ ì¬ë¹Œë“œë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `COPY package.json`ê³¼ `RUN npm install` í›„ `COPY src/`ê°€ ìˆì„ ë•Œ, ì†ŒìŠ¤ ì½”ë“œë§Œ ë³€ê²½ë˜ë©´ npm installì€ ìºì‹œë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, package.jsonì´ ë³€ê²½ë˜ë©´ npm installë¶€í„° ë‹¤ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ë¹Œë“œ ìºì‹œë¥¼ ê°•ì œë¡œ ë¬´ì‹œí•˜ë ¤ë©´?
- A: `docker build --no-cache` í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë ˆì´ì–´ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë¹Œë“œí•©ë‹ˆë‹¤. CI/CDì—ì„œ ì¬í˜„ ê°€ëŠ¥í•œ ë¹Œë“œë¥¼ ë³´ì¥í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- ê°œë°œ ì¤‘ ì½”ë“œ ìˆ˜ì • í›„ ë¹Œë“œ ì‹œê°„ì„ ìˆ˜ ë¶„ì—ì„œ ìˆ˜ ì´ˆë¡œ ë‹¨ì¶•
- package.jsonê³¼ ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬ ìˆœì„œ ìµœì í™”ê°€ í•µì‹¬

</details>

<details>
<summary><strong>4. Copy-on-Writeë€ ë¬´ì—‡ì´ë©° Dockerì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ë‚˜ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- "ì½ê¸°ëŠ” ê³µìœ , ì“°ê¸°ëŠ” ë³µì‚¬" ì „ëµ
- ì»¨í…Œì´ë„ˆì—ì„œ íŒŒì¼ ìˆ˜ì • ì‹œ Upper Layerë¡œ ë³µì‚¬ í›„ ìˆ˜ì •
- ì›ë³¸ ì´ë¯¸ì§€ ë ˆì´ì–´ëŠ” ì½ê¸° ì „ìš©ìœ¼ë¡œ ë³´í˜¸ë¨
- ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆê°€ ê°™ì€ ì´ë¯¸ì§€ ë ˆì´ì–´ ê³µìœ  ê°€ëŠ¥

**ì˜ˆì‹œ ë‹µë³€**
> "Copy-on-WriteëŠ” íŒŒì¼ì„ ì½ì„ ë•ŒëŠ” ì›ë³¸ì„ ê³µìœ í•˜ê³ , ìˆ˜ì •í•  ë•Œë§Œ ë³µì‚¬ë³¸ì„ ë§Œë“œëŠ” íš¨ìœ¨ì ì¸ ì „ëµì…ë‹ˆë‹¤. Dockerì—ì„œëŠ” ì´ë¯¸ì§€ ë ˆì´ì–´ë¥¼ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆê°€ ì½ê¸° ì „ìš©ìœ¼ë¡œ ê³µìœ í•˜ë©°, ì»¨í…Œì´ë„ˆê°€ íŒŒì¼ì„ ìˆ˜ì •í•˜ë ¤ í•  ë•Œ í•´ë‹¹ íŒŒì¼ë§Œ ì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥ ë ˆì´ì–´ë¡œ ë³µì‚¬í•œ ë’¤ ìˆ˜ì •í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ nginx ì´ë¯¸ì§€ë¡œ 100ê°œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•´ë„ ì´ë¯¸ì§€ëŠ” í•œ ë²ˆë§Œ ì €ì¥ë˜ê³ , ê° ì»¨í…Œì´ë„ˆê°€ ì„¤ì • íŒŒì¼ì„ ìˆ˜ì •í•˜ë©´ ê·¸ íŒŒì¼ë§Œ ê°œë³„ì ìœ¼ë¡œ ë³µì‚¬ë©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: í° íŒŒì¼ì„ ìˆ˜ì •í•˜ë©´ ì„±ëŠ¥ì— ì˜í–¥ì´ ìˆë‚˜ìš”?
- A: ë„¤, 1GB íŒŒì¼ì„ ì²˜ìŒ ìˆ˜ì •í•  ë•ŒëŠ” ì „ì²´ íŒŒì¼ì´ ë³µì‚¬ë˜ì–´ ìˆ˜ì‹­ ì´ˆê°€ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš° ë³¼ë¥¨ ë§ˆìš´íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- ëŒ€ìš©ëŸ‰ ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì´ë‚˜ ë¡œê·¸ íŒŒì¼ì€ ë³¼ë¥¨ìœ¼ë¡œ ê´€ë¦¬
- ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ìˆ˜ì •ì€ ì„ì‹œì ì´ë¯€ë¡œ ì˜êµ¬ ë°ì´í„°ëŠ” ë³¼ë¥¨ ì‚¬ìš©

</details>

<details>
<summary><strong>5. .dockerignore íŒŒì¼ì˜ ì—­í• ê³¼ ì¤‘ìš”ì„±ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì œì™¸í•  íŒŒì¼/ë””ë ‰í† ë¦¬ ì§€ì •
- ë¶ˆí•„ìš”í•œ íŒŒì¼ ì „ì†¡ ë°©ì§€ë¡œ ë¹Œë“œ ì†ë„ í–¥ìƒ
- ë¯¼ê°í•œ ì •ë³´(.env ë“±) ì´ë¯¸ì§€ì— í¬í•¨ë˜ëŠ” ê²ƒ ë°©ì§€
- .gitignoreì™€ ìœ ì‚¬í•œ ë¬¸ë²•

**ì˜ˆì‹œ ë‹µë³€**
> ".dockerignoreëŠ” Docker ë¹Œë“œ ì‹œ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì œì™¸í•  íŒŒì¼ì„ ì§€ì •í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤. node_modules, .git, ë¡œê·¸ íŒŒì¼ ë“± ë¶ˆí•„ìš”í•œ íŒŒì¼ì„ ì œì™¸í•˜ë©´ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ ì „ì†¡ ì‹œê°„ì´ í¬ê²Œ ë‹¨ì¶•ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 1.5GBì˜ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ node_modulesì™€ .gitì„ ì œì™¸í•˜ë©´ 50MBë§Œ ì „ì†¡ë˜ì–´ ë¹Œë“œ ì‹œì‘ ì‹œê°„ì´ 30ì´ˆì—ì„œ 1ì´ˆë¡œ ì¤„ì–´ë“­ë‹ˆë‹¤. ë˜í•œ .env.local ê°™ì€ ë¯¼ê°í•œ íŒŒì¼ì´ ì´ë¯¸ì§€ì— í¬í•¨ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ëŠ” ë³´ì•ˆì  ì—­í• ë„ í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: .dockerignoreì— ë¬´ì—‡ì„ ë„£ì–´ì•¼ í•˜ë‚˜ìš”?
- A: node_modules(ì¬ì„¤ì¹˜ í•„ìš”), .git(ë¶ˆí•„ìš”), *.log(ë¡œê·¸ íŒŒì¼), test/(í…ŒìŠ¤íŠ¸ ì½”ë“œ), .env.local(ë¡œì»¬ ì„¤ì •) ë“±ì´ ì¼ë°˜ì ì…ë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- ëª¨ë“  í”„ë¡œì íŠ¸ì— .dockerignore í•„ìˆ˜
- CI/CDì—ì„œ ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•ì— í° ì˜í–¥

</details>

<details>
<summary><strong>6. Union File System (OverlayFS)ëŠ” ë¬´ì—‡ì´ë©° ì–´ë–¤ ì—­í• ì„ í•˜ë‚˜ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ì—¬ëŸ¬ ë””ë ‰í† ë¦¬ë¥¼ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë³´ì—¬ì£¼ëŠ” íŒŒì¼ ì‹œìŠ¤í…œ
- Upper Layer (ì»¨í…Œì´ë„ˆ, R/W) + Lower Layers (ì´ë¯¸ì§€, R/O)
- Merged ë·°ë¡œ í†µí•©ëœ íŒŒì¼ ì‹œìŠ¤í…œ ì œê³µ
- Whiteout íŒŒì¼ë¡œ ì‚­ì œ í‘œì‹œ

**ì˜ˆì‹œ ë‹µë³€**
> "Union File Systemì€ ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ íŒŒì¼ ì‹œìŠ¤í…œ ë ˆì´ì–´ë¥¼ í•˜ë‚˜ì˜ í†µí•©ëœ ë·°ë¡œ ë³´ì—¬ì£¼ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. DockerëŠ” OverlayFSë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ë©°, ì½ê¸° ì „ìš©ì¸ ì´ë¯¸ì§€ ë ˆì´ì–´ë“¤(Lower Layers)ê³¼ ì½ê¸°/ì“°ê¸° ê°€ëŠ¥í•œ ì»¨í…Œì´ë„ˆ ë ˆì´ì–´(Upper Layer)ë¥¼ í•©ì³ì„œ í•˜ë‚˜ì˜ íŒŒì¼ ì‹œìŠ¤í…œ(Merged)ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ë§ˆì¹˜ íˆ¬ëª…í•œ í•„ë¦„ì„ ì—¬ëŸ¬ ì¥ ê²¹ì³ë†“ì€ ê²ƒì²˜ëŸ¼ ì‘ë™í•˜ë©°, ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œëŠ” í•˜ë‚˜ì˜ í†µí•©ëœ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: íŒŒì¼ì„ ì‚­ì œí•˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?
- A: ì‹¤ì œë¡œ ì‚­ì œë˜ì§€ ì•Šê³  Upper Layerì— Whiteout íŒŒì¼(.wh.íŒŒì¼ëª…)ì´ ìƒì„±ë˜ì–´ ì‚­ì œëœ ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ í•©ë‹ˆë‹¤. ì›ë³¸ì€ Lower Layerì— ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- Dockerì˜ í•µì‹¬ ê¸°ìˆ ë¡œ ë ˆì´ì–´ ê³µìœ ì˜ ê¸°ë°˜
- ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ê¸°ë³¸ ì„¤ì •(overlay2) ê·¸ëŒ€ë¡œ ì‚¬ìš©

</details>

<details>
<summary><strong>7. ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë©° ì–´ë–¤ ì¥ì ì´ ìˆë‚˜ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ë¹Œë“œ ë‹¨ê³„ì™€ ì‹¤í–‰ ë‹¨ê³„ë¥¼ ë¶„ë¦¬
- ë¹Œë“œ ë„êµ¬ëŠ” ìµœì¢… ì´ë¯¸ì§€ì— í¬í•¨ë˜ì§€ ì•ŠìŒ
- ì´ë¯¸ì§€ í¬ê¸°ë¥¼ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŒ (80-99%)
- Go, Java, Rust ë“± ì»´íŒŒì¼ ì–¸ì–´ì— í•„ìˆ˜

**ì˜ˆì‹œ ë‹µë³€**
> "ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œëŠ” Dockerfileì— ì—¬ëŸ¬ ê°œì˜ FROM ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œ ë‹¨ê³„ì™€ ì‹¤í–‰ ë‹¨ê³„ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ ìŠ¤í…Œì´ì§€ì—ì„œ ì»´íŒŒì¼ëŸ¬ë‚˜ ë¹Œë“œ ë„êµ¬ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•˜ê³ , ë‘ ë²ˆì§¸ ìŠ¤í…Œì´ì§€ì—ì„œëŠ” ë¹Œë“œëœ ê²°ê³¼ë¬¼ë§Œ ê°€ì ¸ì™€ ì‹¤í–‰í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Go ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° golang:1.18 ì´ë¯¸ì§€ë¡œ ë¹Œë“œí•˜ë©´ 800MBì´ì§€ë§Œ, ë©€í‹°ìŠ¤í…Œì´ì§€ë¡œ alpineì— ì‹¤í–‰ íŒŒì¼ë§Œ ë³µì‚¬í•˜ë©´ 15MBë¡œ ì¤„ì–´ë“­ë‹ˆë‹¤. ì´ëŠ” ë³´ì•ˆì„±ë„ í–¥ìƒì‹œí‚¤ëŠ”ë°, ìµœì¢… ì´ë¯¸ì§€ì— ì»´íŒŒì¼ëŸ¬ë‚˜ ë¹Œë“œ ë„êµ¬ê°€ ì—†ì–´ ê³µê²© í‘œë©´ì´ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Node.jsë‚˜ Python ê°™ì€ ì¸í„°í”„ë¦¬í„° ì–¸ì–´ì—ì„œë„ ìœ ìš©í•œê°€ìš”?
- A: ë„¤, íŠ¹íˆ í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ(React, Vue)ì—ì„œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤. ë¹Œë“œ ë‹¨ê³„ì—ì„œ npm installê³¼ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ê³ , ì‹¤í–‰ ë‹¨ê³„ì—ì„œëŠ” nginxë¡œ ì •ì  íŒŒì¼ë§Œ ì„œë¹™í•˜ë©´ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ 95% ì´ìƒ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- í”„ë¡œë•ì…˜ ì´ë¯¸ì§€ ìµœì í™”ì˜ í•µì‹¬ ê¸°ë²•
- Kubernetes í™˜ê²½ì—ì„œ ì´ë¯¸ì§€ pull ì‹œê°„ ë‹¨ì¶•

</details>

---

### ğŸ“— ì¤‘ê¸‰ ê°œë°œììš© (3-5ê°œ)

<details>
<summary><strong>1. Docker ì´ë¯¸ì§€ ë ˆì´ì–´ì˜ ë‚´ë¶€ êµ¬ì¡°ì™€ ì €ì¥ ë°©ì‹ì„ ì„¤ëª…í•˜ê³ , overlay2ì˜ LowerDir, UpperDir, MergedDir, WorkDirì˜ ì—­í• ì„ ì„¤ëª…í•˜ì„¸ìš”.</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ê° ë ˆì´ì–´ëŠ” /var/lib/docker/overlay2/ì— ë””ë ‰í† ë¦¬ë¡œ ì €ì¥
- LowerDir: ì½ê¸° ì „ìš© ì´ë¯¸ì§€ ë ˆì´ì–´ë“¤ (ì½œë¡ ìœ¼ë¡œ êµ¬ë¶„, ì—¬ëŸ¬ ê°œ)
- UpperDir: ì½ê¸°/ì“°ê¸° ì»¨í…Œì´ë„ˆ ë ˆì´ì–´ (ë³€ê²½ ì‚¬í•­ ì €ì¥)
- MergedDir: í†µí•©ëœ ìµœì¢… ë·° (ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ë³´ì´ëŠ” ê²ƒ)
- WorkDir: OverlayFS ë‚´ë¶€ ì‘ì—…ìš© (ì›ìì  ì—°ì‚°)

**ì˜ˆì‹œ ë‹µë³€**
> "Dockerì˜ overlay2 ìŠ¤í† ë¦¬ì§€ ë“œë¼ì´ë²„ëŠ” /var/lib/docker/overlay2/ ë””ë ‰í† ë¦¬ì— ê° ë ˆì´ì–´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. LowerDirëŠ” ì´ë¯¸ì§€ì˜ ì½ê¸° ì „ìš© ë ˆì´ì–´ë“¤ì„ ì½œë¡ ìœ¼ë¡œ êµ¬ë¶„í•œ ê²½ë¡œ ëª©ë¡ì´ë©°, ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆê°€ ê³µìœ í•©ë‹ˆë‹¤. UpperDirëŠ” ì»¨í…Œì´ë„ˆë³„ ì½ê¸°/ì“°ê¸° ë ˆì´ì–´ë¡œ, ì»¨í…Œì´ë„ˆì—ì„œì˜ ëª¨ë“  ë³€ê²½ ì‚¬í•­ì´ ì—¬ê¸°ì— ì €ì¥ë©ë‹ˆë‹¤. MergedDirëŠ” Lowerì™€ Upperë¥¼ í•©ì¹œ ìµœì¢… ë·°ë¡œ, ì»¨í…Œì´ë„ˆì˜ ë£¨íŠ¸ íŒŒì¼ ì‹œìŠ¤í…œì´ ë˜ë©° ë§ˆìš´íŠ¸ë©ë‹ˆë‹¤. WorkDirëŠ” OverlayFSê°€ ë‚´ë¶€ì ìœ¼ë¡œ íŒŒì¼ ë³µì‚¬ë‚˜ ì‚­ì œ ê°™ì€ ì›ìì  ì—°ì‚°ì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì„ì‹œ ì‘ì—… ê³µê°„ì…ë‹ˆë‹¤. ì´ êµ¬ì¡° ë•ë¶„ì— íŒŒì¼ ìˆ˜ì • ì‹œ Copy-on-Writeê°€ íš¨ìœ¨ì ìœ¼ë¡œ ì‘ë™í•˜ê³ , ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆê°€ ì•ˆì „í•˜ê²Œ ë ˆì´ì–´ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```bash
$ docker inspect mycontainer | grep -A 10 GraphDriver
"GraphDriver": {
    "Data": {
        "LowerDir": "/var/lib/docker/overlay2/abc.../diff:/var/lib/docker/overlay2/def.../diff",
        "MergedDir": "/var/lib/docker/overlay2/xyz.../merged",
        "UpperDir": "/var/lib/docker/overlay2/xyz.../diff",
        "WorkDir": "/var/lib/docker/overlay2/xyz.../work"
    }
}

# UpperDir ë‚´ìš© í™•ì¸
$ sudo ls /var/lib/docker/overlay2/xyz.../diff/
etc/  tmp/  var/  # ì»¨í…Œì´ë„ˆì—ì„œ ë³€ê²½ëœ íŒŒì¼ë“¤ë§Œ
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: WorkDirê°€ ì™œ í•„ìš”í•œê°€ìš”?
- A: íŒŒì¼ ìˆ˜ì •ì´ë‚˜ ì‚­ì œ ì‹œ ì›ìì (atomic) ì—°ì‚°ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í° íŒŒì¼ì„ ë³µì‚¬í•  ë•Œ WorkDirì—ì„œ ë¨¼ì € ì‘ì—…í•œ í›„ ì™„ë£Œë˜ë©´ UpperDirë¡œ ì´ë™ì‹œì¼œ ì¤‘ê°„ ì‹¤íŒ¨ ì‹œ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- ì»¨í…Œì´ë„ˆ ë””ë²„ê¹… ì‹œ UpperDirë¥¼ ì§ì ‘ ì¡°ì‚¬í•˜ì—¬ ë³€ê²½ ì‚¬í•­ ì¶”ì 
- ë””ìŠ¤í¬ ê³µê°„ ë¬¸ì œ ë°œìƒ ì‹œ overlay2 ë””ë ‰í† ë¦¬ í¬ê¸° ë¶„ì„

</details>

<details>
<summary><strong>2. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì´ë¯¸ì§€ í¬ê¸° ìµœì í™” ì „ëµì„ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•˜ê³ , ê° ë‹¨ê³„ì˜ ì˜ˆìƒ ê°œì„  íš¨ê³¼ë¥¼ ìˆ˜ì¹˜ë¡œ ì œì‹œí•˜ì„¸ìš”.</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ê²½ëŸ‰ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì„ íƒ (alpine, distroless)
- ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œë¡œ ë¹Œë“œ ë„êµ¬ ì œê±°
- RUN ëª…ë ¹ì–´ ì²´ì´ë‹ê³¼ ìºì‹œ ì •ë¦¬
- .dockerignoreë¡œ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ ìµœì í™”
- ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œê±° (ë¬¸ì„œ, í…ŒìŠ¤íŠ¸)

**ì˜ˆì‹œ ë‹µë³€**
> "í”„ë¡œë•ì…˜ ì´ë¯¸ì§€ ìµœì í™”ëŠ” ë‹¤ìŒ 5ë‹¨ê³„ë¡œ ì§„í–‰í•©ë‹ˆë‹¤. 1ë‹¨ê³„: ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ ubuntu(72MB)ì—ì„œ alpine(7MB)ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ 90% ê°ì†Œ. 2ë‹¨ê³„: ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ ì ìš©ìœ¼ë¡œ ë¹Œë“œ ë„êµ¬ ì œê±°, Go ê¸°ì¤€ 800MBì—ì„œ 15MBë¡œ 98% ê°ì†Œ. 3ë‹¨ê³„: RUN ëª…ë ¹ì–´ë¥¼ ì²´ì´ë‹í•˜ê³  `apt-get clean && rm -rf /var/lib/apt/lists/*`ë¡œ íŒ¨í‚¤ì§€ ìºì‹œ ì‚­ì œ, ì¶”ê°€ 30-50MB ì ˆì•½. 4ë‹¨ê³„: .dockerignoreì— node_modules, .git, test ì¶”ê°€ë¡œ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ 1.5GBë¥¼ 50MBë¡œ ê°ì†Œ. 5ë‹¨ê³„: í”„ë¡œë•ì…˜ ì˜ì¡´ì„±ë§Œ ì„¤ì¹˜(`npm ci --only=production`)ë¡œ ê°œë°œ ì˜ì¡´ì„± ì œê±°, ì¶”ê°€ 100-200MB ì ˆì•½. ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì´ ì „ëµìœ¼ë¡œ 1.2GB ì´ë¯¸ì§€ë¥¼ 80MBë¡œ ì¤„ì¸ ê²½í—˜ì´ ìˆìœ¼ë©°, ì´ëŠ” Kubernetes í™˜ê²½ì—ì„œ ì´ë¯¸ì§€ pull ì‹œê°„ì„ 5ë¶„ì—ì„œ 20ì´ˆë¡œ ë‹¨ì¶•ì‹œì¼°ìŠµë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```dockerfile
# Before: 1.2GB
FROM node:16
COPY . .
RUN npm install
CMD ["node", "server.js"]

# After: 80MB (93% ê°ì†Œ)
FROM node:16-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

FROM node:16-alpine
WORKDIR /app
COPY --from=builder /app/node_modules ./node_modules
COPY src/ ./src/
USER node
CMD ["node", "src/server.js"]
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: distroless ì´ë¯¸ì§€ëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?
- A: ìµœëŒ€ ë³´ì•ˆì´ í•„ìš”í•œ ê²½ìš°ì…ë‹ˆë‹¤. distrolessëŠ” ì‰˜ë„ ì—†ì–´ ê³µê²© í‘œë©´ì´ ìµœì†Œí™”ë˜ì§€ë§Œ, ë””ë²„ê¹…ì´ ì–´ë µìŠµë‹ˆë‹¤. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ Java, Go, Python ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ì´ë¯¸ì§€ pull ë¹„ìš© ë° ì‹œê°„ ì ˆê°
- ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìº” ëŒ€ìƒ ê°ì†Œ

</details>

<details>
<summary><strong>3. Docker ë¹Œë“œ ìºì‹œ ì „ëµì„ ìµœì í™”í•˜ê¸° ìœ„í•œ Dockerfile ì‘ì„± ì›ì¹™ê³¼, ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œ ë¹Œë“œ ì‹œê°„ì„ ìµœì†Œí™”í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ì„¸ìš”.</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ë³€ê²½ ë¹ˆë„ì— ë”°ë¼ ë ˆì´ì–´ ìˆœì„œ ë°°ì¹˜ (ë‚®ìŒ â†’ ë†’ìŒ)
- ì˜ì¡´ì„± íŒŒì¼ê³¼ ì†ŒìŠ¤ ì½”ë“œ COPY ë¶„ë¦¬
- BuildKit í™œìš© (ë³‘ë ¬ ë¹Œë“œ, ìºì‹œ ë§ˆìš´íŠ¸)
- ì™¸ë¶€ ìºì‹œ í™œìš© (--cache-from, registry)
- CI/CDì—ì„œ ë ˆì´ì–´ ìºì‹± ì „ëµ

**ì˜ˆì‹œ ë‹µë³€**
> "ë¹Œë“œ ìºì‹œ ìµœì í™”ì˜ í•µì‹¬ì€ ë³€ê²½ ë¹ˆë„ê°€ ë‚®ì€ ê²ƒë¶€í„° ë†’ì€ ìˆœì„œë¡œ ë°°ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. 1) ë² ì´ìŠ¤ ì´ë¯¸ì§€ì™€ ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ë¥¼ ìƒë‹¨ì— ë°°ì¹˜ (ì›” 1íšŒ ë³€ê²½). 2) ì˜ì¡´ì„± ì •ì˜ íŒŒì¼(package.json, requirements.txt)ë§Œ ë¨¼ì € COPYí•˜ê³  ì„¤ì¹˜ (ì£¼ 1íšŒ ë³€ê²½). 3) ì†ŒìŠ¤ ì½”ë“œëŠ” ë§ˆì§€ë§‰ì— COPY (ì‹œê°„ë§ˆë‹¤ ë³€ê²½). BuildKitì„ í™œì„±í™”(`DOCKER_BUILDKIT=1`)í•˜ë©´ ë³‘ë ¬ ë¹Œë“œì™€ ìºì‹œ ë§ˆìš´íŠ¸ ê¸°ëŠ¥ìœ¼ë¡œ ì†ë„ê°€ 2-3ë°° í–¥ìƒë©ë‹ˆë‹¤. CI/CD í™˜ê²½ì—ì„œëŠ” `--cache-from` ì˜µì…˜ìœ¼ë¡œ ì´ì „ ë¹Œë“œì˜ ë ˆì´ì–´ë¥¼ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ê°€ì ¸ì™€ ì²« ë¹Œë“œë„ ìºì‹œë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì´ ì „ëµìœ¼ë¡œ í‰ê·  ë¹Œë“œ ì‹œê°„ì„ 10ë¶„ì—ì„œ 1ë¶„ìœ¼ë¡œ ë‹¨ì¶•í–ˆìœ¼ë©°, ì½”ë“œë§Œ ìˆ˜ì • ì‹œì—ëŠ” 10ì´ˆ ë‚´ë¡œ ë¹Œë“œê°€ ì™„ë£Œë©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```dockerfile
# BuildKit ìºì‹œ ë§ˆìš´íŠ¸ í™œìš©
# syntax=docker/dockerfile:1
FROM node:16-alpine

# 1ë‹¨ê³„: ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ (ê±°ì˜ ì•ˆ ë°”ë€œ)
RUN apk add --no-cache python3 make g++

# 2ë‹¨ê³„: ì˜ì¡´ì„± íŒŒì¼ë§Œ ë¨¼ì € ë³µì‚¬
WORKDIR /app
COPY package*.json ./

# 3ë‹¨ê³„: npm ìºì‹œ ë§ˆìš´íŠ¸ë¡œ ì¬ë‹¤ìš´ë¡œë“œ ë°©ì§€
RUN --mount=type=cache,target=/root/.npm \
    npm ci --only=production

# 4ë‹¨ê³„: ì†ŒìŠ¤ ì½”ë“œ (ìì£¼ ë°”ë€œ)
COPY src/ ./src/

CMD ["node", "src/server.js"]
```

```bash
# CI/CDì—ì„œ ìºì‹œ í™œìš©
docker build \
  --cache-from myapp:latest \
  --build-arg BUILDKIT_INLINE_CACHE=1 \
  -t myapp:new .
docker push myapp:new
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: monorepoì—ì„œ ì—¬ëŸ¬ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë¹Œë“œí•  ë•Œ ìºì‹œ ì „ëµì€?
- A: ê³µí†µ ì˜ì¡´ì„±ì€ ë³„ë„ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¡œ ë§Œë“¤ì–´ ê³µìœ í•˜ê³ , ê° ì„œë¹„ìŠ¤ëŠ” í•´ë‹¹ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ FROMìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë˜í•œ BuildKitì˜ `--mount=type=bind`ë¡œ í•„ìš”í•œ íŒŒì¼ë§Œ ì„ íƒì ìœ¼ë¡œ ë°”ì¸ë“œí•˜ì—¬ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìµœì†Œí™”í•©ë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- CI/CD íŒŒì´í”„ë¼ì¸ ì†ë„ ìµœì í™”
- ê°œë°œì ê²½í—˜(DX) í–¥ìƒ: ë¹ ë¥¸ í”¼ë“œë°± ë£¨í”„

</details>

<details>
<summary><strong>4. Copy-on-Writeì˜ ì„±ëŠ¥ íŠ¹ì„±ì„ ì´í•´í•˜ê³ , ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ ë³¼ë¥¨ê³¼ ë°”ì¸ë“œ ë§ˆìš´íŠ¸ ì¤‘ ì–´ë–¤ ê²ƒì„ ì„ íƒí•´ì•¼ í•˜ëŠ”ì§€ íŒë‹¨ ê¸°ì¤€ì„ ì œì‹œí•˜ì„¸ìš”.</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- CoWëŠ” ì‘ì€ íŒŒì¼ì—ëŠ” íš¨ìœ¨ì ì´ì§€ë§Œ í° íŒŒì¼ì€ ëŠë¦¼
- ë³¼ë¥¨: Dockerê°€ ê´€ë¦¬, ì„±ëŠ¥ ìµœê³ , ë°±ì—… ì‰¬ì›€
- ë°”ì¸ë“œ ë§ˆìš´íŠ¸: í˜¸ìŠ¤íŠ¸ ê²½ë¡œ ì§ì ‘ ì—°ê²°, ê°œë°œ ì‹œ í¸ë¦¬
- ì½ê¸° ì „ìš© ë°ì´í„°ëŠ” ì´ë¯¸ì§€ì—, ì“°ê¸° ë§ì€ ë°ì´í„°ëŠ” ë³¼ë¥¨ì—

**ì˜ˆì‹œ ë‹µë³€**
> "Copy-on-WriteëŠ” íŒŒì¼ í¬ê¸°ì— ë”°ë¼ ì„±ëŠ¥ì´ í¬ê²Œ ë‹¬ë¼ì§‘ë‹ˆë‹¤. 1KB íŒŒì¼ì€ 0.5msì— ë³µì‚¬ë˜ì§€ë§Œ 1GB íŒŒì¼ì€ 50ì´ˆê°€ ê±¸ë¦½ë‹ˆë‹¤. ë”°ë¼ì„œ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì´ë‚˜ ë¡œê·¸ íŒŒì¼ì€ ë°˜ë“œì‹œ ë³¼ë¥¨ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ë³¼ë¥¨ê³¼ ë°”ì¸ë“œ ë§ˆìš´íŠ¸ì˜ ì„ íƒ ê¸°ì¤€ì€: 1) í”„ë¡œë•ì…˜ ë°ì´í„°(DB, ë¡œê·¸)ëŠ” ë³¼ë¥¨ ì‚¬ìš© - Dockerê°€ ë°±ì—…/ë³µì›ì„ ê´€ë¦¬í•˜ê³  ì„±ëŠ¥ì´ ìµœì í™”ë¨. 2) ê°œë°œ ì¤‘ ì†ŒìŠ¤ ì½”ë“œ ë™ê¸°í™”ëŠ” ë°”ì¸ë“œ ë§ˆìš´íŠ¸ - í˜¸ìŠ¤íŠ¸ì—ì„œ ìˆ˜ì • ì¦‰ì‹œ ì»¨í…Œì´ë„ˆì— ë°˜ì˜. 3) ì •ì  ì„¤ì • íŒŒì¼ì€ ì´ë¯¸ì§€ì— COPY - ë¶ˆë³€ì„± ë³´ì¥. 4) ìì£¼ ë³€ê²½ë˜ëŠ” ì„¤ì •ì€ ConfigMap/Secret(k8s) ë˜ëŠ” ë³¼ë¥¨. ì‹¤ì œ PostgreSQL ì»¨í…Œì´ë„ˆì—ì„œ ë°ì´í„° ë””ë ‰í† ë¦¬ë¥¼ ë³¼ë¥¨ìœ¼ë¡œ ë§ˆìš´íŠ¸í•˜ë©´ IOPSê°€ 2-3ë°° í–¥ìƒë©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```bash
# âŒ CoW ì‚¬ìš© (ëŠë¦¼)
$ docker run -d --name db postgres
# â†’ í° DB íŒŒì¼ ìˆ˜ì • ì‹œ Copy-up ë°œìƒ, ë§¤ìš° ëŠë¦¼

# âœ… ë³¼ë¥¨ ì‚¬ìš© (ë¹ ë¦„)
$ docker volume create pgdata
$ docker run -d \
  --name db \
  -v pgdata:/var/lib/postgresql/data \
  postgres
# â†’ ì§ì ‘ ì“°ê¸°, Copy-up ì—†ìŒ

# ê°œë°œ ì‹œ ë°”ì¸ë“œ ë§ˆìš´íŠ¸
$ docker run -d \
  --name app \
  -v $(pwd)/src:/app/src \
  myapp
# â†’ í˜¸ìŠ¤íŠ¸ì—ì„œ ì½”ë“œ ìˆ˜ì • ì‹œ ì¦‰ì‹œ ë°˜ì˜
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: tmpfsëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?
- A: ì„ì‹œ íŒŒì¼ì´ë‚˜ ìºì‹œ ë°ì´í„°ì— ì‚¬ìš©í•©ë‹ˆë‹¤. ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ì–´ ë§¤ìš° ë¹ ë¥´ì§€ë§Œ ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ ì‹œ ì‚¬ë¼ì§‘ë‹ˆë‹¤. ì˜ˆ: `--tmpfs /tmp:rw,size=1g,mode=1777`

**ì‹¤ë¬´ ì—°ê´€**
- ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ì„±ëŠ¥ ìµœì í™”
- ë¡œê·¸ ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸ ì„¤ê³„

</details>

<details>
<summary><strong>5. Docker ì´ë¯¸ì§€ ë ˆì´ì–´ì˜ ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìº” ë° ê´€ë¦¬ ì „ëµì„ ì„¤ëª…í•˜ê³ , ê³µê¸‰ë§ ë³´ì•ˆ(Supply Chain Security)ì„ ê°•í™”í•˜ëŠ” ë°©ë²•ì„ ì œì‹œí•˜ì„¸ìš”.</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ì´ë¯¸ì§€ ìŠ¤ìº” ë„êµ¬ (Trivy, Clair, Snyk)
- ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì„ íƒ ì‹œ ë³´ì•ˆ ê³ ë ¤ (ê³µì‹ ì´ë¯¸ì§€, ìµœì†Œ íŒ¨í‚¤ì§€)
- ì´ë¯¸ì§€ ì„œëª… ë° ê²€ì¦ (Docker Content Trust, Notary)
- ì •ê¸°ì ì¸ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
- SBOM(Software Bill of Materials) ìƒì„±

**ì˜ˆì‹œ ë‹µë³€**
> "ì´ë¯¸ì§€ ë³´ì•ˆì€ ë¹Œë“œ, ìŠ¤ìº”, ë°°í¬ ë‹¨ê³„ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤. 1) ë¹Œë“œ ì‹œ: distrolessë‚˜ alpine ê°™ì€ ìµœì†Œ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì‚¬ìš©ìœ¼ë¡œ ê³µê²© í‘œë©´ ìµœì†Œí™”. ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œë¡œ ë¹Œë“œ ë„êµ¬ ì œê±°. 2) ìŠ¤ìº”: CI/CD íŒŒì´í”„ë¼ì¸ì— Trivy í†µí•© (`trivy image myapp:latest --severity HIGH,CRITICAL --exit-code 1`)ë¡œ ì‹¬ê°í•œ ì·¨ì•½ì  ë°œê²¬ ì‹œ ë¹Œë“œ ì‹¤íŒ¨. 3) ë ˆì§€ìŠ¤íŠ¸ë¦¬: Harborë‚˜ AWS ECRì—ì„œ ìë™ ìŠ¤ìº” í™œì„±í™”. 4) ì„œëª…: Docker Content Trust í™œì„±í™”(`export DOCKER_CONTENT_TRUST=1`)ë¡œ ì„œëª…ëœ ì´ë¯¸ì§€ë§Œ pull í—ˆìš©. 5) ê´€ë¦¬: Renovate Botìœ¼ë¡œ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ìë™ ì—…ë°ì´íŠ¸ PR ìƒì„±. ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì´ ì „ëµìœ¼ë¡œ CVE ìˆ˜ë¥¼ 200ê°œì—ì„œ 5ê°œë¡œ ì¤„ì˜€ìœ¼ë©°, ëª¨ë“  ì·¨ì•½ì ì´ LOW ë“±ê¸‰ìœ¼ë¡œ ìœ ì§€ë©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```yaml
# CI/CD íŒŒì´í”„ë¼ì¸ (GitHub Actions)
- name: Build image
  run: docker build -t myapp:${{ github.sha }} .

- name: Scan image
  run: |
    trivy image \
      --severity HIGH,CRITICAL \
      --exit-code 1 \
      myapp:${{ github.sha }}

- name: Sign image
  run: |
    export DOCKER_CONTENT_TRUST=1
    docker push myapp:${{ github.sha }}

# Dockerfile ë³´ì•ˆ ê°•í™”
FROM gcr.io/distroless/nodejs18-debian11
COPY --from=builder /app /app
USER nonroot:nonroot
CMD ["/app/server.js"]
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ë ˆì´ì–´ë³„ë¡œ ì·¨ì•½ì ì„ ë¶„ë¦¬í•´ì„œ ë³¼ ìˆ˜ ìˆë‚˜ìš”?
- A: ë„¤, TrivyëŠ” `--format json`ìœ¼ë¡œ ë ˆì´ì–´ë³„ ì·¨ì•½ì  ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì–´ëŠ ë ˆì´ì–´ì—ì„œ ì·¨ì•½ì ì´ ë°œìƒí–ˆëŠ”ì§€ ì¶”ì í•˜ì—¬ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ë³€ê²½ì´ë‚˜ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ë¥¼ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‹¤ë¬´ ì—°ê´€**
- ê·œì œ ì¤€ìˆ˜ (PCI-DSS, SOC2) ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
- ì œë¡œ íŠ¸ëŸ¬ìŠ¤íŠ¸ ì•„í‚¤í…ì²˜ êµ¬í˜„

</details>

---

## ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!

**ì´ì œ ì—¬ëŸ¬ë¶„ì€**:
âœ… Docker ì´ë¯¸ì§€ì˜ ë ˆì´ì–´ êµ¬ì¡°ì™€ ì‘ë™ ì›ë¦¬ë¥¼ ì™„ë²½íˆ ì´í•´í–ˆìŠµë‹ˆë‹¤
âœ… Union File System (OverlayFS)ì˜ ë©”ì»¤ë‹ˆì¦˜ì„ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ì´ë¯¸ì§€ í¬ê¸°ë¥¼ 90% ì´ìƒ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ë¹Œë“œ ìºì‹œë¥¼ í™œìš©í•˜ì—¬ ë¹Œë“œ ì‹œê°„ì„ ìˆ˜ì‹­ ë°° ë‹¨ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… Copy-on-Writeë¥¼ ì´í•´í•˜ê³  ì ì ˆí•œ ì €ì¥ì†Œ ì „ëµì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ì‹¤ë¬´ì—ì„œ ë°œìƒí•˜ëŠ” ë ˆì´ì–´ ê´€ë ¨ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ë©´ì ‘ì—ì„œ ë ˆì´ì–´ì™€ íŒŒì¼ ì‹œìŠ¤í…œ ì§ˆë¬¸ì— ìì‹  ìˆê²Œ ë‹µë³€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

**ë‹¤ìŒ ë‹¨ê³„**:
- [ ] ë‹¤ìŒ ì¥ (ê²©ë¦¬ ê¸°ìˆ ê³¼ ìƒëª…ì£¼ê¸°)ìœ¼ë¡œ ì§„í–‰
- [ ] ì‹¤ìŠµ ê³¼ì œ ì™„ë£Œí•˜ì—¬ ë ˆì´ì–´ ìµœì í™” ì—°ìŠµ
- [ ] ë©´ì ‘ ì§ˆë¬¸ ë³µìŠµí•˜ì—¬ ë‹µë³€ ì¤€ë¹„
- [ ] ë³¸ì¸ í”„ë¡œì íŠ¸ì˜ Dockerfile ìµœì í™” ì ìš©

**ì‹¤ì „ ê³¼ì œ**:
```bash
# 1. ë³¸ì¸ì˜ í”„ë¡œì íŠ¸ì— .dockerignore ì¶”ê°€
# 2. ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ ì ìš©
# 3. ë¹Œë“œ ì „í›„ ì´ë¯¸ì§€ í¬ê¸° ë¹„êµ
$ docker images
BEFORE  myapp  1.2GB
AFTER   myapp  150MB  (87% ê°ì†Œ!)

# 4. ë¹Œë“œ ì‹œê°„ ì¸¡ì •
$ time docker build -t myapp .
BEFORE: 3m 20s
AFTER:  20s (ìºì‹œ í™œìš© ì‹œ)

# 5. GitHubì— ìµœì í™” ê²°ê³¼ ê³µìœ !
```

---

## âœ… ì„¹ì…˜ ìš”ì•½

### í•µì‹¬ ê°œë… ì •ë¦¬

```
ğŸ“¦ ì´ë¯¸ì§€ ë ˆì´ì–´:
   - Dockerfile ëª…ë ¹ì–´ = ë ˆì´ì–´
   - ì½ê¸° ì „ìš©, ë¶ˆë³€
   - ë ˆì´ì–´ ì¬ì‚¬ìš©ìœ¼ë¡œ ê³µê°„ ì ˆì•½
   - ë¹Œë“œ ìºì‹œ í™œìš©

ğŸ¨ Copy-on-Write:
   - ì½ê¸°: ì›ë³¸ì—ì„œ ì§ì ‘
   - ì“°ê¸°: ë³µì‚¬ í›„ ìˆ˜ì •
   - ì›ë³¸ ë³´í˜¸

ğŸ—ï¸ OverlayFS:
   - Upper (ì»¨í…Œì´ë„ˆ, R/W)
   - Lower (ì´ë¯¸ì§€, R/O)
   - Merged (í†µí•© ë·°)
   - Whiteout (ì‚­ì œ í‘œì‹œ)
```

### ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸

```
âœ… Dockerfile ìµœì í™”:
- [ ] RUN ëª…ë ¹ì–´ ì²´ì´ë‹
- [ ] íŒŒì¼ ë³µì‚¬ ìˆœì„œ ìµœì í™”
- [ ] .dockerignore ì‚¬ìš©
- [ ] ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ

âœ… ëŸ°íƒ€ì„ ìµœì í™”:
- [ ] ëŒ€ìš©ëŸ‰ íŒŒì¼ì€ ë³¼ë¥¨ ì‚¬ìš©
- [ ] ìì£¼ ìˆ˜ì •ë˜ëŠ” íŒŒì¼ì€ ë³¼ë¥¨ ì‚¬ìš©
- [ ] ì„ì‹œ íŒŒì¼ì€ tmpfs ì‚¬ìš©
- [ ] ì •ê¸°ì ì¸ ì •ë¦¬ (prune)
```

### ë‹¤ìŒ ì„¹ì…˜ ì˜ˆê³ 

```
ì„¹ì…˜ 2-3: ê²©ë¦¬ ê¸°ìˆ ê³¼ ìƒëª…ì£¼ê¸°
- 2.5 ë„¤ì„ìŠ¤í˜ì´ìŠ¤ (Namespace) - í”„ë¡œì„¸ìŠ¤ ê²©ë¦¬
- 2.6 ì»¨íŠ¸ë¡¤ ê·¸ë£¹ (cgroups) - ë¦¬ì†ŒìŠ¤ ì œí•œ
- 2.7 ì»¨í…Œì´ë„ˆ ìƒëª…ì£¼ê¸° - ìƒíƒœ ê´€ë¦¬
```

### ì‹¤ìŠµ ê³¼ì œ

```bash
# 1. ë ˆì´ì–´ êµ¬ì¡° í™•ì¸
$ docker history nginx:latest
$ docker inspect nginx:latest

# 2. ë ˆì´ì–´ ìºì‹± í…ŒìŠ¤íŠ¸
$ docker build -t test1 .
$ # ì½”ë“œ í•œ ì¤„ ìˆ˜ì •
$ docker build -t test2 .
$ # ìºì‹œ ì‚¬ìš© í™•ì¸!

# 3. OverlayFS êµ¬ì¡° í™•ì¸
$ docker run -d --name test nginx
$ docker inspect test | grep -A 10 GraphDriver

# 4. Copy-on-Write í…ŒìŠ¤íŠ¸
$ docker exec test sh -c "echo 'modified' >> /etc/nginx/nginx.conf"
$ # UpperDirì—ì„œ ë³€ê²½ ì‚¬í•­ í™•ì¸

# 5. ì •ë¦¬
$ docker system df          # ê³µê°„ ì‚¬ìš©ëŸ‰ í™•ì¸
$ docker system prune -a    # ì •ë¦¬

# ì¶•í•˜í•©ë‹ˆë‹¤! ë ˆì´ì–´ì™€ íŒŒì¼ ì‹œìŠ¤í…œì„ ë§ˆìŠ¤í„°í–ˆìŠµë‹ˆë‹¤! ğŸ‰
```

---

**ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ë§Œë‚˜ìš”!** ğŸ‘‹