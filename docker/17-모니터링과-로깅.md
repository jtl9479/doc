# 17ì¥: ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

> **í•™ìŠµ ëª©í‘œ**: Docker í™˜ê²½ì˜ ëª¨ë‹ˆí„°ë§ê³¼ ë¡œê¹… ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³ , Prometheus + Grafanaë¡œ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ë©°, ELK ìŠ¤íƒìœ¼ë¡œ ë¡œê·¸ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**â±ï¸ ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 3-4ì‹œê°„
**ë‚œì´ë„**: â­â­â­â­â˜† (4ê°œ/5ê°œ)

---

## ğŸ“š ëª©ì°¨
- [ì™œ ëª¨ë‹ˆí„°ë§ê³¼ ë¡œê¹…ì´ í•„ìš”í•œê°€](#ì™œ-ëª¨ë‹ˆí„°ë§ê³¼-ë¡œê¹…ì´-í•„ìš”í•œê°€)
- [ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°](#ì‹¤ìƒí™œ-ë¹„ìœ ë¡œ-ì´í•´í•˜ê¸°)
- [í•µì‹¬ ê°œë…](#í•µì‹¬-ê°œë…)
- [Prometheus + Grafana ì„¤ì •](#prometheus--grafana-ì„¤ì •)
- [ELK ìŠ¤íƒ ë¡œê¹…](#elk-ìŠ¤íƒ-ë¡œê¹…)
- [ì‹¤í–‰ ë° ì‚¬ìš©](#ì‹¤í–‰-ë°-ì‚¬ìš©)
- [ì£¼ë‹ˆì–´ ì‹œë‚˜ë¦¬ì˜¤](#ì£¼ë‹ˆì–´-ì‹œë‚˜ë¦¬ì˜¤)
- [FAQ](#faq)
- [ë©´ì ‘ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸](#ë©´ì ‘-ì§ˆë¬¸-ë¦¬ìŠ¤íŠ¸)
- [í•µì‹¬ ì •ë¦¬](#í•µì‹¬-ì •ë¦¬)

---

## ğŸ¤” ì™œ ëª¨ë‹ˆí„°ë§ê³¼ ë¡œê¹…ì´ í•„ìš”í•œê°€?

### ì‹¤ë¬´ ë°°ê²½
**ëŒ€ê·œëª¨ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œëŠ” ìˆ˜ì‹­ ê°œì˜ ì»¨í…Œì´ë„ˆê°€ ë™ì‹œì— ì‹¤í–‰ë©ë‹ˆë‹¤. ì–´ëŠ ì»¨í…Œì´ë„ˆì—ì„œ ì¥ì• ê°€ ë°œìƒí–ˆëŠ”ì§€, ì–´ë–¤ ì„œë¹„ìŠ¤ê°€ ëŠë ¤ì¡ŒëŠ”ì§€ ì‹¤ì‹œê°„ìœ¼ë¡œ íŒŒì•…í•˜ì§€ ëª»í•˜ë©´ ì‚¬ìš©ìì—ê²Œ ì§ì ‘ì ì¸ í”¼í•´ê°€ ë°œìƒí•©ë‹ˆë‹¤.**

#### âŒ ëª¨ë‹ˆí„°ë§/ë¡œê¹…ì´ ì—†ìœ¼ë©´ ë°œìƒí•˜ëŠ” ë¬¸ì œ
```
ë¬¸ì œ 1: ì¥ì•  ë°œê²¬ ì§€ì—°
- ì¦ìƒ: ì‚¬ìš©ìê°€ ë¶ˆë§Œì„ ì œê¸°í•œ í›„ì—ì•¼ ì¥ì•  ì¸ì§€
- ì˜í–¥: í‰ê·  ì¥ì•  ì¸ì§€ ì‹œê°„ 30ë¶„ ì´ìƒ
- ë¹„ìš©: ì‹œê°„ë‹¹ ë§¤ì¶œ ì†ì‹¤ $10,000

ë¬¸ì œ 2: ì›ì¸ ë¶„ì„ ë¶ˆê°€
- ì¦ìƒ: ì–´ëŠ ì„œë¹„ìŠ¤ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ì§€ ëª¨ë¦„
- ì˜í–¥: ì¥ì•  ë³µêµ¬ ì‹œê°„ 2-4ì‹œê°„
- ë¹„ìš©: ê°œë°œì 3ëª…ì´ 4ì‹œê°„ ë™ì•ˆ ì›ì¸ ë¶„ì„

ë¬¸ì œ 3: ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ í™•ì¥
- ì¦ìƒ: ê°‘ì‘ìŠ¤ëŸ¬ìš´ íŠ¸ë˜í”½ ì¦ê°€ì— ëŒ€ì‘ ëª»í•¨
- ì˜í–¥: ì„œë²„ ë‹¤ìš´, ì„œë¹„ìŠ¤ ì¤‘ë‹¨
- ë¹„ìš©: ê³ ê° ì´íƒˆ, ë¸Œëœë“œ ì‹ ë¢°ë„ í•˜ë½
```

#### âœ… ëª¨ë‹ˆí„°ë§/ë¡œê¹…ì„ ì‚¬ìš©í•˜ë©´
```
í•´ê²°ì±… 1: ì‹¤ì‹œê°„ ì¥ì•  ê°ì§€
- ë°©ë²•: Prometheus ì•Œë¦¼ìœ¼ë¡œ 1ë¶„ ì´ë‚´ ê°ì§€
- íš¨ê³¼: ì¥ì•  ì¸ì§€ ì‹œê°„ 1ë¶„ ì´ë‚´
- ì ˆê°: ë§¤ì¶œ ì†ì‹¤ 97% ê°ì†Œ

í•´ê²°ì±… 2: ë¹ ë¥¸ ì›ì¸ ë¶„ì„
- ë°©ë²•: Grafana ëŒ€ì‹œë³´ë“œì™€ Kibana ë¡œê·¸ ë¶„ì„
- íš¨ê³¼: ì¥ì•  ë³µêµ¬ ì‹œê°„ 15ë¶„ ì´ë‚´
- ì ˆê°: ê°œë°œì ì‹œê°„ 75% ì ˆê°

í•´ê²°ì±… 3: ì˜ˆì¸¡ ê°€ëŠ¥í•œ í™•ì¥
- ë°©ë²•: ë©”íŠ¸ë¦­ íŠ¸ë Œë“œ ë¶„ì„ìœ¼ë¡œ ì‚¬ì „ ìŠ¤ì¼€ì¼ë§
- íš¨ê³¼: ì„œë¹„ìŠ¤ ì•ˆì •ì„± 99.9% ìœ ì§€
- ì ˆê°: ê¸´ê¸‰ ëŒ€ì‘ ë¹„ìš© 80% ê°ì†Œ
```

### ğŸ“Š ìˆ˜ì¹˜ë¡œ ë³´ëŠ” íš¨ê³¼

| ì§€í‘œ | Before | After | ê°œì„ ìœ¨ |
|------|--------|-------|--------|
| ì¥ì•  ì¸ì§€ ì‹œê°„ | 30ë¶„ | 1ë¶„ | **97%â†“** |
| ì¥ì•  ë³µêµ¬ ì‹œê°„ | 4ì‹œê°„ | 15ë¶„ | **94%â†“** |
| ë¡œê·¸ ê²€ìƒ‰ ì‹œê°„ | 1ì‹œê°„ | 10ì´ˆ | **99%â†“** |
| ì„œë¹„ìŠ¤ ê°€ìš©ì„± | 99% | 99.9% | **0.9%pâ†‘** |
| ìš´ì˜ ë¹„ìš© | $5,000/ì›” | $1,500/ì›” | **70%â†“** |

---

## ğŸŒŸ ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

### ë¹„ìœ  1: ìë™ì°¨ ê³„ê¸°íŒ (ëª¨ë‹ˆí„°ë§)
```
Docker ëª¨ë‹ˆí„°ë§ = ìë™ì°¨ ê³„ê¸°íŒ

ìš´ì „ ì¤‘ í™•ì¸í•˜ëŠ” ê²ƒ:
- ì†ë„ê³„ (CPU ì‚¬ìš©ë¥ ) = í˜„ì¬ ì–¼ë§ˆë‚˜ ë¹ ë¥´ê²Œ ë‹¬ë¦¬ëŠ”ê°€?
- ì—°ë£Œ ê²Œì´ì§€ (ë©”ëª¨ë¦¬) = ì–¼ë§ˆë‚˜ ë‚¨ì•˜ëŠ”ê°€?
- ì—”ì§„ ì˜¨ë„ (ì‹œìŠ¤í…œ ì˜¨ë„) = ê³¼ì—´ë˜ì§€ ì•Šì•˜ëŠ”ê°€?
- ê²½ê³ ë“± (ì•Œë¦¼) = ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ê°€?

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš— ìë™ì°¨ ê³„ê¸°íŒ                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ 80  â”‚ â”‚ ğŸ”‹  â”‚ â”‚ ğŸŒ¡ï¸  â”‚        â”‚
â”‚  â”‚km/h â”‚ â”‚ 60% â”‚ â”‚ 90Â° â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  âš ï¸ ê²½ê³ ë“±: ì ê²€ í•„ìš”             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ëª¨ë‹ˆí„°ë§ ì—†ì´ ìš´ì „ = ê³„ê¸°íŒ ì—†ì´ ìš´ì „
â†’ ì—°ë£Œê°€ ë–¨ì–´ì§ˆ ë•Œê¹Œì§€ ëª¨ë¦„
â†’ ì—”ì§„ì´ ê³¼ì—´ë˜ì–´ë„ ëª¨ë¦„
â†’ ê°‘ì‘ìŠ¤ëŸ¬ìš´ ê³ ì¥ ë°œìƒ
```

### ë¹„ìœ  2: ë³‘ì› í™˜ì ëª¨ë‹ˆí„°ë§ (ì•Œë¦¼)
**ì¤‘í™˜ìì‹¤ì˜ ìƒì²´ ì‹ í˜¸ ëª¨ë‹ˆí„°**

ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ í•˜ëŠ” ì¼:
- ì‹¬ë°•ìˆ˜ â†’ ì´ˆë‹¹ ìš”ì²­ ìˆ˜ (RPS)
- í˜ˆì•• â†’ ì‘ë‹µ ì‹œê°„ (Latency)
- ì‚°ì†Œ í¬í™”ë„ â†’ ì—ëŸ¬ìœ¨
- ì²´ì˜¨ â†’ CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 

**ê²½ê³  ì‹œë‚˜ë¦¬ì˜¤**:
- ì •ìƒ ë²”ìœ„ ì´íƒˆ â†’ ì‚ì‚ì‚ ê²½ê³ ìŒ â†’ ì¦‰ì‹œ ëŒ€ì‘
- Docker ì•Œë¦¼ â†’ Slack ë©”ì‹œì§€ â†’ ê°œë°œì ëŒ€ì‘

### ë¹„ìœ  3: ë¹„í–‰ê¸° ë¸”ë™ë°•ìŠ¤ (ë¡œê¹…)
**ì‚¬ê³  ë°œìƒ ì‹œ ì›ì¸ ë¶„ì„**

```
ë¹„í–‰ê¸° ë¸”ë™ë°•ìŠ¤ = Docker ë¡œê·¸

ê¸°ë¡í•˜ëŠ” ì •ë³´:
- ê³ ë„, ì†ë„, ë°©í–¥ = API ìš”ì²­, ì‘ë‹µ, ì‹œê°„
- ì¡°ì¢…ì‚¬ ëŒ€í™” = ì„œë¹„ìŠ¤ ê°„ í†µì‹ 
- ì‹œìŠ¤í…œ ê²½ê³  = ì—ëŸ¬ ë©”ì‹œì§€
- ê¸°ìƒ ì¡°ê±´ = ë„¤íŠ¸ì›Œí¬ ìƒíƒœ

ì‚¬ê³  ë°œìƒ â†’ ë¸”ë™ë°•ìŠ¤ ë¶„ì„ â†’ ì›ì¸ íŒŒì•…
ì¥ì•  ë°œìƒ â†’ ë¡œê·¸ ë¶„ì„ â†’ ì›ì¸ íŒŒì•…

ë¸”ë™ë°•ìŠ¤ ì—†ìœ¼ë©´?
â†’ ì›ì¸ íŒŒì•… ë¶ˆê°€
â†’ ì¬ë°œ ë°©ì§€ ë¶ˆê°€
â†’ ì±…ì„ ì†Œì¬ ë¶ˆë¶„ëª…
```

### ë¹„ìœ  4: CCTV ì‹œìŠ¤í…œ (ë¡œê·¸ ë³´ê´€)
**ë³´ì•ˆ ë° ì‚¬í›„ ë¶„ì„**

```
CCTV = ELK ë¡œê·¸ ì‹œìŠ¤í…œ

ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§:
- ì—¬ëŸ¬ í™”ë©´ ë™ì‹œ ê´€ì°° = Kibana ëŒ€ì‹œë³´ë“œ
- íŠ¹ì • ì‹œê°„ëŒ€ ì¬ìƒ = ë¡œê·¸ ì‹œê°„ëŒ€ í•„í„°ë§
- íŠ¹ì • ì¸ë¬¼ ì¶”ì  = íŠ¹ì • ì‚¬ìš©ì ë¡œê·¸ ì¶”ì 
- ì´ìƒ í–‰ë™ ê°ì§€ = ì—ëŸ¬ íŒ¨í„´ ê°ì§€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¹ CCTV ê´€ì œ ì„¼í„°               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚í™”ë©´1â”‚ â”‚í™”ë©´2â”‚ â”‚í™”ë©´3â”‚        â”‚
â”‚  â”‚ë¡œë¹„ â”‚ â”‚ì£¼ì°¨ì¥â”‚ â”‚ì…êµ¬ â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  ğŸ”´ ë…¹í™” ì¤‘ | ğŸ“… 30ì¼ ë³´ê´€      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì‚¬ê³  ë°œìƒ â†’ CCTV í™•ì¸ â†’ ë²”ì¸ ì¶”ì 
ì¥ì•  ë°œìƒ â†’ ë¡œê·¸ í™•ì¸ â†’ ì›ì¸ ì¶”ì 
```

### ë¹„ìœ  5: ê¸°ìƒì²­ ë°ì´í„° ìˆ˜ì§‘ (ë©”íŠ¸ë¦­ ìˆ˜ì§‘)
**ì „êµ­ ê´€ì¸¡ì†Œì˜ ë°ì´í„°ë¥¼ ì¤‘ì•™ì—ì„œ ì·¨í•©**

```
ê¸°ìƒì²­ ì‹œìŠ¤í…œ = Prometheus + Grafana

ê´€ì¸¡ì†Œ (Exporter):
- ì„œìš¸ ê¸°ìƒëŒ€ â†’ user-service
- ë¶€ì‚° ê¸°ìƒëŒ€ â†’ account-service
- ì œì£¼ ê¸°ìƒëŒ€ â†’ trade-service

ìˆ˜ì§‘í•˜ëŠ” ë°ì´í„°:
- ì˜¨ë„, ìŠµë„, í’ì† â†’ CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬
- 15ë¶„ë§ˆë‹¤ ìˆ˜ì§‘ â†’ 15ì´ˆë§ˆë‹¤ ìŠ¤í¬ë˜í•‘
- ì¤‘ì•™ ì„œë²„ì— ì €ì¥ â†’ Prometheus ì €ì¥ì†Œ

ë°ì´í„° í™œìš©:
- ê¸°ìƒ ì˜ˆë³´ â†’ ë¦¬ì†ŒìŠ¤ ì˜ˆì¸¡
- ì´ìƒ ê¸°í›„ ê°ì§€ â†’ ì¥ì•  ê°ì§€
- ë‚ ì”¨ ì§€ë„ â†’ Grafana ëŒ€ì‹œë³´ë“œ
```

### ğŸ¯ ì¢…í•© ë¹„êµí‘œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê¸°ìˆ          â”‚ ì‹¤ìƒí™œ ë¹„ìœ    â”‚ ì£¼ìš” ê¸°ëŠ¥     â”‚ í•µì‹¬ ê°€ì¹˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Prometheus   â”‚ ê¸°ìƒì²­       â”‚ ë©”íŠ¸ë¦­ ìˆ˜ì§‘   â”‚ ì‹¤ì‹œê°„ ê°ì‹œ   â”‚
â”‚ Grafana      â”‚ ê³„ê¸°íŒ       â”‚ ì‹œê°í™”       â”‚ ì§ê´€ì  ì´í•´   â”‚
â”‚ Alertmanager â”‚ ê²½ê³ ë“±       â”‚ ì•Œë¦¼ ë°œì†¡     â”‚ ì¦‰ì‹œ ëŒ€ì‘     â”‚
â”‚ ELK Stack    â”‚ CCTV+ë¸”ë™ë°•ìŠ¤â”‚ ë¡œê·¸ ë¶„ì„     â”‚ ì‚¬í›„ ë¶„ì„     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– í•µì‹¬ ê°œë…

### ê°œë… ì„¤ëª… (3ë‹¨ê³„ ê¹Šì´)

#### 1ï¸âƒ£ ì´ˆë³´ì ìˆ˜ì¤€ ì„¤ëª…
**ëª¨ë‹ˆí„°ë§ì€ ì‹œìŠ¤í…œì´ ì˜ ëŒì•„ê°€ëŠ”ì§€ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•˜ëŠ” ê²ƒì´ê³ , ë¡œê¹…ì€ ë¬´ìŠ¨ ì¼ì´ ìˆì—ˆëŠ”ì§€ ê¸°ë¡í•´ë‘ëŠ” ê²ƒì…ë‹ˆë‹¤.**

ëª¨ë‹ˆí„°ë§ = ì§€ê¸ˆ ìƒíƒœ í™•ì¸
ë¡œê¹… = ê³¼ê±° ê¸°ë¡ í™•ì¸

#### 2ï¸âƒ£ ì¤‘ê¸‰ì ìˆ˜ì¤€ ì„¤ëª…
**ëª¨ë‹ˆí„°ë§ì€ ë©”íŠ¸ë¦­(ìˆ«ì ë°ì´í„°)ì„ ì£¼ê¸°ì ìœ¼ë¡œ ìˆ˜ì§‘í•˜ì—¬ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ì¶”ì í•˜ê³ , ì„ê³„ê°’ì„ ì´ˆê³¼í•˜ë©´ ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤. ë¡œê¹…ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì‹œìŠ¤í…œì˜ ì´ë²¤íŠ¸ë¥¼ í…ìŠ¤íŠ¸ë¡œ ê¸°ë¡í•˜ì—¬ ë¬¸ì œ ë°œìƒ ì‹œ ì›ì¸ì„ ë¶„ì„í•©ë‹ˆë‹¤.**

Prometheusê°€ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ë©´ â†’ Grafanaê°€ ì‹œê°í™”í•˜ê³  â†’ Alertmanagerê°€ ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.

#### 3ï¸âƒ£ ê³ ê¸‰ì ìˆ˜ì¤€ ì„¤ëª…
**PrometheusëŠ” Pull ë°©ì‹ì˜ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ, HTTP ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìŠ¤í¬ë˜í•‘í•˜ì—¬ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê³  PromQLë¡œ ì¿¼ë¦¬í•©ë‹ˆë‹¤. ELKëŠ” Filebeatê°€ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•˜ì—¬ Logstashê°€ íŒŒì‹±/ë³€í™˜í•˜ê³ , Elasticsearchì— ì¸ë±ì‹±í•œ í›„ Kibanaë¡œ ê²€ìƒ‰/ì‹œê°í™”í•˜ëŠ” íŒŒì´í”„ë¼ì¸ì…ë‹ˆë‹¤.**

### 4ê°€ì§€ ê³¨ë“  ì‹œê·¸ë„

```
1. Latency (ì§€ì—° ì‹œê°„)
   - ìš”ì²­ ì²˜ë¦¬ ì‹œê°„
   - ëª©í‘œ: API ì‘ë‹µ < 200ms
   - ì¸¡ì •: histogram_quantile(0.95, ...)

2. Traffic (íŠ¸ë˜í”½)
   - ì´ˆë‹¹ ìš”ì²­ ìˆ˜ (RPS)
   - ëª©í‘œ: 1000 RPS ì²˜ë¦¬
   - ì¸¡ì •: rate(http_requests_total[5m])

3. Errors (ì—ëŸ¬ìœ¨)
   - ì‹¤íŒ¨í•œ ìš”ì²­ ë¹„ìœ¨
   - ëª©í‘œ: ì—ëŸ¬ìœ¨ < 0.1%
   - ì¸¡ì •: rate(http_errors[5m]) / rate(http_requests[5m])

4. Saturation (í¬í™”ë„)
   - ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ 
   - ëª©í‘œ: CPU < 70%, ë©”ëª¨ë¦¬ < 80%
   - ì¸¡ì •: container_cpu_usage / container_cpu_limit
```

### ì£¼ìš” ìš©ì–´ ì •ë¦¬

| ìš©ì–´ | ì˜ë¬¸ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|------|
| ë©”íŠ¸ë¦­ | Metric | ìˆ«ìë¡œ í‘œí˜„ë˜ëŠ” ì¸¡ì •ê°’ | CPU ì‚¬ìš©ë¥  75% |
| ìŠ¤í¬ë˜í•‘ | Scraping | ì£¼ê¸°ì ìœ¼ë¡œ ë°ì´í„° ìˆ˜ì§‘ | 15ì´ˆë§ˆë‹¤ /metrics í˜¸ì¶œ |
| ì‹œê³„ì—´ | Time Series | ì‹œê°„ì— ë”°ë¥¸ ë°ì´í„° ë³€í™” | ì‹œê°„ë³„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ |
| í”„ë¡œë©”í…Œìš°ìŠ¤ ì¿¼ë¦¬ | PromQL | ë©”íŠ¸ë¦­ ì¡°íšŒ ì–¸ì–´ | `rate(requests[5m])` |
| ìµìŠ¤í¬í„° | Exporter | ë©”íŠ¸ë¦­ì„ ë…¸ì¶œí•˜ëŠ” ì—ì´ì „íŠ¸ | node-exporter, postgres-exporter |
| ì•Œë¦¼ ê·œì¹™ | Alert Rule | ì•Œë¦¼ ë°œì†¡ ì¡°ê±´ | CPU > 80% 5ë¶„ ì§€ì† ì‹œ |
| ì¸ë±ì‹± | Indexing | ë¡œê·¸ë¥¼ ê²€ìƒ‰ ê°€ëŠ¥í•˜ê²Œ ì €ì¥ | Elasticsearch ì¸ë±ìŠ¤ |
| íŒŒì´í”„ë¼ì¸ | Pipeline | ë¡œê·¸ ì²˜ë¦¬ íë¦„ | ìˆ˜ì§‘â†’íŒŒì‹±â†’ì €ì¥â†’ê²€ìƒ‰ |

### ê¸°ìˆ  ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   LK-Trade ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì‹œìŠ¤í…œ            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ - Prometheus + Grafana]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Grafana    â”‚ â† ì‚¬ìš©ìê°€ ëŒ€ì‹œë³´ë“œë¡œ í™•ì¸
â”‚  (ì‹œê°í™”)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ PromQL ì¿¼ë¦¬
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Prometheus                     â”‚
â”‚  (ë©”íŠ¸ë¦­ ìˆ˜ì§‘, ì €ì¥, ì¿¼ë¦¬)             â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
   â”‚    â”‚    â”‚    â”‚    â”‚    â””â”€â†’ [cAdvisor] ì»¨í…Œì´ë„ˆ ë©”íŠ¸ë¦­
   â”‚    â”‚    â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â†’ [Node Exp] í˜¸ìŠ¤íŠ¸ ë©”íŠ¸ë¦­
   â”‚    â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [PG Exp] PostgreSQL ë©”íŠ¸ë¦­
   â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Redis Exp] Redis ë©”íŠ¸ë¦­
   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [trade-svc] Spring Actuator
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [user-svc] Spring Actuator

[ë¡œê¹… ìŠ¤íƒ - ELK]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Kibana    â”‚ â† ì‚¬ìš©ìê°€ ë¡œê·¸ ê²€ìƒ‰/ë¶„ì„
â”‚  (ê²€ìƒ‰/ì‹œê°í™”)â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Elasticsearch           â”‚
â”‚  (ë¡œê·¸ ì €ì¥, ì¸ë±ì‹±, ê²€ìƒ‰)   â”‚
â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Logstash              â”‚
â”‚  (ë¡œê·¸ íŒŒì‹±, ë³€í™˜, í•„í„°ë§)   â”‚
â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Filebeat              â”‚
â”‚  (ë¡œê·¸ ìˆ˜ì§‘, ì „ì†¡)           â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚    â”‚    â”‚    â”‚
   â–¼    â–¼    â–¼    â–¼
[user] [acc] [trd] [nginx]
ì„œë¹„ìŠ¤ ë¡œê·¸ íŒŒì¼ë“¤

ì„¤ëª…:
- Prometheus: 15ì´ˆë§ˆë‹¤ ê° ì„œë¹„ìŠ¤ì˜ /metrics ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìŠ¤í¬ë˜í•‘
- Grafana: Prometheus ë°ì´í„°ë¥¼ ê·¸ë˜í”„ë¡œ ì‹œê°í™”
- Filebeat: ì»¨í…Œì´ë„ˆ ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ ìˆ˜ì§‘
- Logstash: JSON íŒŒì‹± ë° í•„í„°ë§
- Elasticsearch: ì¸ë±ì‹±ëœ ë¡œê·¸ ì €ì¥
- Kibana: ë¡œê·¸ ê²€ìƒ‰ ë° ëŒ€ì‹œë³´ë“œ
```

---

## 17.2 Prometheus + Grafana ì„¤ì •

### 17.2.1 ì•„í‚¤í…ì²˜

```
[LK-Trade ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Grafana Dashboard              â”‚
â”‚  (ì‹œê°í™”, ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ ì¿¼ë¦¬ (PromQL)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Prometheus                     â”‚
â”‚  (ë©”íŠ¸ë¦­ ìˆ˜ì§‘, ì €ì¥, ì¿¼ë¦¬)                   â”‚
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚      â”‚      â”‚      â”‚      â”‚      â”‚
  â”‚      â”‚      â”‚      â”‚      â”‚      â”‚
  â–¼      â–¼      â–¼      â–¼      â–¼      â–¼
[User] [Acc] [Trd] [AI] [Scr] [Nginx]
Service Service Service Service Service Exporter

ê° ì„œë¹„ìŠ¤: /actuator/prometheus ì—”ë“œí¬ì¸íŠ¸
```

---

### 17.2.2 Spring Boot Actuator ì„¤ì •

**modules/user/api/build.gradle.kts:**

```kotlin
dependencies {
    // Spring Boot Actuator
    implementation("org.springframework.boot:spring-boot-starter-actuator")

    // Micrometer Prometheus
    implementation("io.micrometer:micrometer-registry-prometheus")
}
```

**modules/user/api/src/main/resources/application.yml:**

```yaml
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics
  endpoint:
    health:
      show-details: always
    prometheus:
      enabled: true
  metrics:
    export:
      prometheus:
        enabled: true
    distribution:
      percentiles-histogram:
        http.server.requests: true
    tags:
      application: ${spring.application.name}
      service: user-service
      environment: ${SPRING_PROFILES_ACTIVE:dev}
```

---

### 17.2.3 Prometheus ì„¤ì •

**docker/prometheus/prometheus.yml:**

```yaml
# Prometheus ì „ì—­ ì„¤ì •
global:
  scrape_interval: 15s      # 15ì´ˆë§ˆë‹¤ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
  evaluation_interval: 15s  # 15ì´ˆë§ˆë‹¤ ê·œì¹™ í‰ê°€
  external_labels:
    cluster: 'lktrade'
    environment: 'dev'

# ì•Œë¦¼ ê·œì¹™ íŒŒì¼
rule_files:
  - '/etc/prometheus/rules/*.yml'

# Alertmanager ì„¤ì •
alerting:
  alertmanagers:
    - static_configs:
        - targets:
            - alertmanager:9093

# ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ëŒ€ìƒ
scrape_configs:
  # Prometheus ìì²´ ëª¨ë‹ˆí„°ë§
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # Spring Boot ì„œë¹„ìŠ¤ë“¤
  - job_name: 'user-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['user-service:8081']
        labels:
          service: 'user'
          tier: 'application'

  - job_name: 'account-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['account-service:8082']
        labels:
          service: 'account'
          tier: 'application'

  - job_name: 'trade-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['trade-service:8083']
        labels:
          service: 'trade'
          tier: 'application'

  - job_name: 'ai-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['ai-service:8084']
        labels:
          service: 'ai'
          tier: 'application'

  - job_name: 'scraper-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['scraper-service:8085']
        labels:
          service: 'scraper'
          tier: 'application'

  # Nginx Exporter
  - job_name: 'nginx'
    static_configs:
      - targets: ['nginx-exporter:9113']
        labels:
          service: 'nginx'
          tier: 'gateway'

  # PostgreSQL Exporter
  - job_name: 'postgres'
    static_configs:
      - targets: ['postgres-exporter:9187']
        labels:
          service: 'postgres'
          tier: 'database'

  # Redis Exporter
  - job_name: 'redis'
    static_configs:
      - targets: ['redis-exporter:9121']
        labels:
          service: 'redis'
          tier: 'cache'

  # cAdvisor (ì»¨í…Œì´ë„ˆ ë©”íŠ¸ë¦­)
  - job_name: 'cadvisor'
    static_configs:
      - targets: ['cadvisor:8080']
        labels:
          service: 'cadvisor'
          tier: 'monitoring'

  # Node Exporter (í˜¸ìŠ¤íŠ¸ ë©”íŠ¸ë¦­)
  - job_name: 'node'
    static_configs:
      - targets: ['node-exporter:9100']
        labels:
          service: 'node'
          tier: 'host'
```

---

### 17.2.4 ì•Œë¦¼ ê·œì¹™

**docker/prometheus/rules/alerts.yml:**

```yaml
groups:
  # ì„œë¹„ìŠ¤ ê°€ìš©ì„±
  - name: service_availability
    interval: 30s
    rules:
      # ì„œë¹„ìŠ¤ ë‹¤ìš´
      - alert: ServiceDown
        expr: up == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "ì„œë¹„ìŠ¤ ë‹¤ìš´: {{ $labels.job }}"
          description: "{{ $labels.instance }}ê°€ 1ë¶„ ì´ìƒ ì‘ë‹µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."

      # ë†’ì€ ì—ëŸ¬ìœ¨
      - alert: HighErrorRate
        expr: |
          rate(http_server_requests_seconds_count{status=~"5.."}[5m])
          /
          rate(http_server_requests_seconds_count[5m])
          > 0.05
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "ë†’ì€ ì—ëŸ¬ìœ¨: {{ $labels.service }}"
          description: "{{ $labels.service }}ì˜ 5xx ì—ëŸ¬ìœ¨ì´ 5%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤."

  # ì„±ëŠ¥
  - name: performance
    interval: 30s
    rules:
      # ë†’ì€ ì‘ë‹µ ì‹œê°„
      - alert: HighLatency
        expr: |
          histogram_quantile(0.95,
            rate(http_server_requests_seconds_bucket[5m])
          ) > 1
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "ë†’ì€ ë ˆì´í„´ì‹œ: {{ $labels.service }}"
          description: "{{ $labels.service }}ì˜ P95 ì‘ë‹µ ì‹œê°„ì´ 1ì´ˆë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤."

      # ë†’ì€ íŠ¸ë˜í”½
      - alert: HighTraffic
        expr: |
          rate(http_server_requests_seconds_count[5m]) > 100
        for: 10m
        labels:
          severity: info
        annotations:
          summary: "ë†’ì€ íŠ¸ë˜í”½: {{ $labels.service }}"
          description: "{{ $labels.service }}ì˜ RPSê°€ 100ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤."

  # ë¦¬ì†ŒìŠ¤
  - name: resource_usage
    interval: 30s
    rules:
      # ë†’ì€ CPU ì‚¬ìš©ë¥ 
      - alert: HighCpuUsage
        expr: |
          (1 - avg by(container_label_com_docker_compose_service)
            (rate(container_cpu_usage_seconds_total[5m])))
          * 100 > 80
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "ë†’ì€ CPU ì‚¬ìš©ë¥ : {{ $labels.container_label_com_docker_compose_service }}"
          description: "CPU ì‚¬ìš©ë¥ ì´ 80%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤."

      # ë†’ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 
      - alert: HighMemoryUsage
        expr: |
          (container_memory_usage_bytes
          / container_spec_memory_limit_bytes) * 100 > 80
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "ë†’ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ : {{ $labels.container_label_com_docker_compose_service }}"
          description: "ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì´ 80%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤."

      # ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
      - alert: LowDiskSpace
        expr: |
          (node_filesystem_avail_bytes{mountpoint="/"}
          / node_filesystem_size_bytes{mountpoint="/"}) * 100 < 10
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±"
          description: "ë£¨íŠ¸ íŒŒí‹°ì…˜ì˜ ì—¬ìœ  ê³µê°„ì´ 10% ë¯¸ë§Œì…ë‹ˆë‹¤."

  # ë°ì´í„°ë² ì´ìŠ¤
  - name: database
    interval: 30s
    rules:
      # PostgreSQL ì—°ê²° ìˆ˜
      - alert: PostgreSQLTooManyConnections
        expr: |
          sum(pg_stat_activity_count) > 90
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "PostgreSQL ì—°ê²° ìˆ˜ ì´ˆê³¼"
          description: "í™œì„± ì—°ê²°ì´ 90ê°œë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤."

      # Redis ë©”ëª¨ë¦¬ ë¶€ì¡±
      - alert: RedisMemoryHigh
        expr: |
          (redis_memory_used_bytes
          / redis_memory_max_bytes) * 100 > 90
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "Redis ë©”ëª¨ë¦¬ ë¶€ì¡±"
          description: "Redis ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì´ 90%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤."
```

---

### 17.2.5 docker-compose.monitoring.yml

```yaml
version: '3.8'

services:
  # Prometheus
  prometheus:
    image: prom/prometheus:latest
    container_name: lktrade-prometheus
    profiles: ["monitoring"]
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
      - '--storage.tsdb.retention.time=30d'
      - '--web.console.libraries=/usr/share/prometheus/console_libraries'
      - '--web.console.templates=/usr/share/prometheus/consoles'
      - '--web.enable-lifecycle'
    ports:
      - "9090:9090"
    volumes:
      - ./docker/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml:ro
      - ./docker/prometheus/rules:/etc/prometheus/rules:ro
      - prometheus-data:/prometheus
    networks:
      - lktrade-network
    restart: unless-stopped

  # Grafana
  grafana:
    image: grafana/grafana:latest
    container_name: lktrade-grafana
    profiles: ["monitoring"]
    environment:
      GF_SECURITY_ADMIN_USER: admin
      GF_SECURITY_ADMIN_PASSWORD: ${GRAFANA_PASSWORD:-admin}
      GF_USERS_ALLOW_SIGN_UP: "false"
      GF_SERVER_ROOT_URL: http://localhost:3001
      GF_INSTALL_PLUGINS: grafana-piechart-panel
    ports:
      - "3001:3000"
    volumes:
      - ./docker/grafana/provisioning:/etc/grafana/provisioning:ro
      - ./docker/grafana/dashboards:/var/lib/grafana/dashboards:ro
      - grafana-data:/var/lib/grafana
    networks:
      - lktrade-network
    depends_on:
      - prometheus
    restart: unless-stopped

  # Alertmanager
  alertmanager:
    image: prom/alertmanager:latest
    container_name: lktrade-alertmanager
    profiles: ["monitoring"]
    command:
      - '--config.file=/etc/alertmanager/alertmanager.yml'
      - '--storage.path=/alertmanager'
    ports:
      - "9093:9093"
    volumes:
      - ./docker/alertmanager/alertmanager.yml:/etc/alertmanager/alertmanager.yml:ro
      - alertmanager-data:/alertmanager
    networks:
      - lktrade-network
    restart: unless-stopped

  # cAdvisor (ì»¨í…Œì´ë„ˆ ë©”íŠ¸ë¦­)
  cadvisor:
    image: gcr.io/cadvisor/cadvisor:latest
    container_name: lktrade-cadvisor
    profiles: ["monitoring"]
    privileged: true
    devices:
      - /dev/kmsg:/dev/kmsg
    volumes:
      - /:/rootfs:ro
      - /var/run:/var/run:ro
      - /sys:/sys:ro
      - /var/lib/docker:/var/lib/docker:ro
      - /dev/disk:/dev/disk:ro
    ports:
      - "8087:8080"
    networks:
      - lktrade-network
    restart: unless-stopped

  # Node Exporter (í˜¸ìŠ¤íŠ¸ ë©”íŠ¸ë¦­)
  node-exporter:
    image: prom/node-exporter:latest
    container_name: lktrade-node-exporter
    profiles: ["monitoring"]
    command:
      - '--path.procfs=/host/proc'
      - '--path.sysfs=/host/sys'
      - '--collector.filesystem.mount-points-exclude=^/(sys|proc|dev|host|etc)($$|/)'
    volumes:
      - /proc:/host/proc:ro
      - /sys:/host/sys:ro
      - /:/rootfs:ro
    ports:
      - "9100:9100"
    networks:
      - lktrade-network
    restart: unless-stopped

  # PostgreSQL Exporter
  postgres-exporter:
    image: prometheuscommunity/postgres-exporter:latest
    container_name: lktrade-postgres-exporter
    profiles: ["monitoring"]
    environment:
      DATA_SOURCE_NAME: "postgresql://postgres:${POSTGRES_PASSWORD:-devpassword}@postgres:5432/lktrade?sslmode=disable"
    ports:
      - "9187:9187"
    networks:
      - lktrade-network
    depends_on:
      - postgres
    restart: unless-stopped

  # Redis Exporter
  redis-exporter:
    image: oliver006/redis_exporter:latest
    container_name: lktrade-redis-exporter
    profiles: ["monitoring"]
    environment:
      REDIS_ADDR: redis:6379
    ports:
      - "9121:9121"
    networks:
      - lktrade-network
    depends_on:
      - redis
    restart: unless-stopped

  # Nginx Exporter
  nginx-exporter:
    image: nginx/nginx-prometheus-exporter:latest
    container_name: lktrade-nginx-exporter
    profiles: ["monitoring"]
    command:
      - -nginx.scrape-uri=http://nginx:80/nginx_status
    ports:
      - "9113:9113"
    networks:
      - lktrade-network
    depends_on:
      - nginx
    restart: unless-stopped

volumes:
  prometheus-data:
    name: lktrade-prometheus-data
  grafana-data:
    name: lktrade-grafana-data
  alertmanager-data:
    name: lktrade-alertmanager-data
```

---

### 17.2.6 Grafana ëŒ€ì‹œë³´ë“œ í”„ë¡œë¹„ì €ë‹

**docker/grafana/provisioning/datasources/prometheus.yml:**

```yaml
apiVersion: 1

datasources:
  - name: Prometheus
    type: prometheus
    access: proxy
    url: http://prometheus:9090
    isDefault: true
    editable: true
```

**docker/grafana/provisioning/dashboards/default.yml:**

```yaml
apiVersion: 1

providers:
  - name: 'Default'
    orgId: 1
    folder: ''
    type: file
    disableDeletion: false
    updateIntervalSeconds: 10
    allowUiUpdates: true
    options:
      path: /var/lib/grafana/dashboards
```

---

### 17.2.7 Alertmanager ì„¤ì •

**docker/alertmanager/alertmanager.yml:**

```yaml
global:
  resolve_timeout: 5m
  slack_api_url: '${SLACK_WEBHOOK_URL}'

# ì•Œë¦¼ ë¼ìš°íŒ…
route:
  group_by: ['alertname', 'cluster', 'service']
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 12h
  receiver: 'default'

  routes:
    # Critical ì•Œë¦¼ì€ ì¦‰ì‹œ
    - match:
        severity: critical
      receiver: 'critical'
      group_wait: 0s
      repeat_interval: 5m

    # Warning ì•Œë¦¼
    - match:
        severity: warning
      receiver: 'warning'
      repeat_interval: 30m

    # Info ì•Œë¦¼
    - match:
        severity: info
      receiver: 'info'
      repeat_interval: 4h

# ì•Œë¦¼ ìˆ˜ì‹ ì
receivers:
  - name: 'default'
    slack_configs:
      - channel: '#lktrade-alerts'
        title: 'LK-Trade Alert'
        text: '{{ range .Alerts }}{{ .Annotations.summary }}\n{{ .Annotations.description }}{{ end }}'

  - name: 'critical'
    slack_configs:
      - channel: '#lktrade-critical'
        title: 'ğŸš¨ Critical Alert'
        text: '{{ range .Alerts }}{{ .Annotations.summary }}\n{{ .Annotations.description }}{{ end }}'
        send_resolved: true

  - name: 'warning'
    slack_configs:
      - channel: '#lktrade-warnings'
        title: 'âš ï¸  Warning Alert'
        text: '{{ range .Alerts }}{{ .Annotations.summary }}\n{{ .Annotations.description }}{{ end }}'

  - name: 'info'
    slack_configs:
      - channel: '#lktrade-info'
        title: 'â„¹ï¸  Info Alert'
        text: '{{ range .Alerts }}{{ .Annotations.summary }}\n{{ .Annotations.description }}{{ end }}'

# ì•Œë¦¼ ì–µì œ (ì¤‘ë³µ ë°©ì§€)
inhibit_rules:
  - source_match:
      severity: 'critical'
    target_match:
      severity: 'warning'
    equal: ['alertname', 'cluster', 'service']
```

---

## 17.3 ë¡œê¹… (ELK ìŠ¤íƒ)

### 17.3.1 ELK ìŠ¤íƒ ì•„í‚¤í…ì²˜

```
[LK-Trade ë¡œê¹… ìŠ¤íƒ]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Kibana                         â”‚
â”‚  (ë¡œê·¸ ê²€ìƒ‰, ì‹œê°í™”, ëŒ€ì‹œë³´ë“œ)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Elasticsearch                     â”‚
â”‚  (ë¡œê·¸ ì €ì¥, ì¸ë±ì‹±, ê²€ìƒ‰)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Logstash                       â”‚
â”‚  (ë¡œê·¸ ìˆ˜ì§‘, íŒŒì‹±, ë³€í™˜)                     â”‚
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚      â”‚      â”‚      â”‚      â”‚      â”‚
  â”‚      â”‚      â”‚      â”‚      â”‚      â”‚
  â–¼      â–¼      â–¼      â–¼      â–¼      â–¼
[User] [Acc] [Trd] [AI] [Scr] [Nginx]
Service Service Service Service Service Logs

ê° ì„œë¹„ìŠ¤: JSON í˜•ì‹ ë¡œê·¸ ì¶œë ¥
```

---

### 17.3.2 Logback ì„¤ì • (Spring Boot)

**modules/user/api/src/main/resources/logback-spring.xml:**

```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <springProperty scope="context" name="APP_NAME" source="spring.application.name"/>
    <springProperty scope="context" name="APP_ENV" source="spring.profiles.active"/>

    <!-- ì½˜ì†” ì¶œë ¥ -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="net.logstash.logback.encoder.LogstashEncoder">
            <customFields>{"app":"${APP_NAME}","env":"${APP_ENV}"}</customFields>
            <includeMdcKeyName>traceId</includeMdcKeyName>
            <includeMdcKeyName>userId</includeMdcKeyName>
        </encoder>
    </appender>

    <!-- íŒŒì¼ ì¶œë ¥ -->
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>/var/log/lktrade/${APP_NAME}.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>/var/log/lktrade/${APP_NAME}.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>30</maxHistory>
            <totalSizeCap>10GB</totalSizeCap>
        </rollingPolicy>
        <encoder class="net.logstash.logback.encoder.LogstashEncoder">
            <customFields>{"app":"${APP_NAME}","env":"${APP_ENV}"}</customFields>
        </encoder>
    </appender>

    <!-- ë¡œê·¸ ë ˆë²¨ -->
    <logger name="com.lk.trade" level="DEBUG"/>
    <logger name="org.springframework" level="INFO"/>
    <logger name="org.hibernate" level="WARN"/>

    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE"/>
    </root>
</configuration>
```

**build.gradle.ktsì— ì˜ì¡´ì„± ì¶”ê°€:**

```kotlin
dependencies {
    // Logstash Encoder (JSON ë¡œê·¸)
    implementation("net.logstash.logback:logstash-logback-encoder:7.4")
}
```

---

### 17.3.3 docker-compose.logging.yml

```yaml
version: '3.8'

services:
  # Elasticsearch
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.11.0
    container_name: lktrade-elasticsearch
    profiles: ["logging"]
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
      - xpack.security.enabled=false
      - xpack.security.enrollment.enabled=false
    ports:
      - "9200:9200"
      - "9300:9300"
    volumes:
      - elasticsearch-data:/usr/share/elasticsearch/data
    networks:
      - lktrade-network
    healthcheck:
      test: ["CMD-SHELL", "curl -f http://localhost:9200/_cluster/health || exit 1"]
      interval: 30s
      timeout: 10s
      retries: 5
    restart: unless-stopped

  # Logstash
  logstash:
    image: docker.elastic.co/logstash/logstash:8.11.0
    container_name: lktrade-logstash
    profiles: ["logging"]
    ports:
      - "5000:5000"
      - "5044:5044"
      - "9600:9600"
    volumes:
      - ./docker/logstash/pipeline:/usr/share/logstash/pipeline:ro
      - ./docker/logstash/config/logstash.yml:/usr/share/logstash/config/logstash.yml:ro
    networks:
      - lktrade-network
    depends_on:
      elasticsearch:
        condition: service_healthy
    restart: unless-stopped

  # Kibana
  kibana:
    image: docker.elastic.co/kibana/kibana:8.11.0
    container_name: lktrade-kibana
    profiles: ["logging"]
    environment:
      ELASTICSEARCH_HOSTS: http://elasticsearch:9200
      ELASTICSEARCH_USERNAME: elastic
      ELASTICSEARCH_PASSWORD: ${ELASTIC_PASSWORD:-changeme}
    ports:
      - "5601:5601"
    networks:
      - lktrade-network
    depends_on:
      elasticsearch:
        condition: service_healthy
    healthcheck:
      test: ["CMD-SHELL", "curl -f http://localhost:5601/api/status || exit 1"]
      interval: 30s
      timeout: 10s
      retries: 5
    restart: unless-stopped

  # Filebeat (ë¡œê·¸ ìˆ˜ì§‘)
  filebeat:
    image: docker.elastic.co/beats/filebeat:8.11.0
    container_name: lktrade-filebeat
    profiles: ["logging"]
    user: root
    command: filebeat -e -strict.perms=false
    volumes:
      - ./docker/filebeat/filebeat.yml:/usr/share/filebeat/filebeat.yml:ro
      - /var/lib/docker/containers:/var/lib/docker/containers:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - filebeat-data:/usr/share/filebeat/data
    networks:
      - lktrade-network
    depends_on:
      - elasticsearch
      - logstash
    restart: unless-stopped

volumes:
  elasticsearch-data:
    name: lktrade-elasticsearch-data
  filebeat-data:
    name: lktrade-filebeat-data
```

---

### 17.3.4 Logstash íŒŒì´í”„ë¼ì¸

**docker/logstash/pipeline/logstash.conf:**

```conf
input {
  # Filebeatì—ì„œ ë¡œê·¸ ìˆ˜ì§‘
  beats {
    port => 5044
  }

  # TCPë¡œ ì§ì ‘ ìˆ˜ì‹  (ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ ì „ì†¡)
  tcp {
    port => 5000
    codec => json_lines
  }
}

filter {
  # JSON íŒŒì‹±
  if [message] =~ /^\{.*\}$/ {
    json {
      source => "message"
    }
  }

  # íƒ€ì„ìŠ¤íƒ¬í”„ íŒŒì‹±
  date {
    match => ["@timestamp", "ISO8601"]
    target => "@timestamp"
  }

  # í•„ë“œ ì¶”ê°€
  mutate {
    add_field => {
      "[@metadata][index]" => "lktrade-logs-%{+YYYY.MM.dd}"
    }
  }

  # ì—ëŸ¬ ë¡œê·¸ ë¶„ë¥˜
  if [level] == "ERROR" {
    mutate {
      add_tag => ["error"]
    }
  }

  # íŠ¸ë ˆì´ë“œ ë¡œê·¸ ë¶„ë¥˜
  if [logger_name] =~ /trade/ {
    mutate {
      add_tag => ["trade"]
      add_field => {
        "[@metadata][index]" => "lktrade-trade-logs-%{+YYYY.MM.dd}"
      }
    }
  }
}

output {
  # Elasticsearchë¡œ ì „ì†¡
  elasticsearch {
    hosts => ["elasticsearch:9200"]
    index => "%{[@metadata][index]}"
    document_type => "_doc"
  }

  # ë””ë²„ê¹…ìš© (ê°œë°œ í™˜ê²½)
  if [@metadata][env] == "dev" {
    stdout {
      codec => rubydebug
    }
  }
}
```

---

### 17.3.5 Filebeat ì„¤ì •

**docker/filebeat/filebeat.yml:**

```yaml
filebeat.inputs:
  # Docker ì»¨í…Œì´ë„ˆ ë¡œê·¸
  - type: container
    paths:
      - '/var/lib/docker/containers/*/*.log'

    # ë©€í‹°ë¼ì¸ ë¡œê·¸ ì²˜ë¦¬
    multiline.type: pattern
    multiline.pattern: '^\d{4}-\d{2}-\d{2}'
    multiline.negate: true
    multiline.match: after

    # ë©”íƒ€ë°ì´í„° ì¶”ê°€
    processors:
      - add_docker_metadata:
          host: "unix:///var/run/docker.sock"

      - decode_json_fields:
          fields: ["message"]
          target: ""
          overwrite_keys: true

# Logstashë¡œ ì „ì†¡
output.logstash:
  hosts: ["logstash:5044"]

# ë¡œê¹… ë ˆë²¨
logging.level: info
```

---

## 17.4 ì‹¤í–‰ ë° ì‚¬ìš©

### 17.4.1 ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ ì‹¤í–‰

```bash
# ëª¨ë‹ˆí„°ë§ í¬í•¨ ì‹¤í–‰
docker compose --profile monitoring up -d

# ë˜ëŠ” Makefile
make up-monitoring
```

**Makefile ì¶”ê°€:**

```makefile
# ëª¨ë‹ˆí„°ë§ ì‹œì‘
up-monitoring:
	docker compose --profile monitoring up -d

# ë¡œê¹… ì‹œì‘
up-logging:
	docker compose --profile logging up -d

# ëª¨ë“  í”„ë¡œíŒŒì¼ ì‹œì‘
up-all:
	docker compose --profile monitoring --profile logging --profile tools up -d

# Prometheus ì ‘ì†
prometheus:
	@echo "Opening Prometheus: http://localhost:9090"
	@xdg-open http://localhost:9090 2>/dev/null || open http://localhost:9090 2>/dev/null || echo "http://localhost:9090"

# Grafana ì ‘ì†
grafana:
	@echo "Opening Grafana: http://localhost:3001"
	@echo "Default credentials: admin / admin"
	@xdg-open http://localhost:3001 2>/dev/null || open http://localhost:3001 2>/dev/null || echo "http://localhost:3001"

# Kibana ì ‘ì†
kibana:
	@echo "Opening Kibana: http://localhost:5601"
	@xdg-open http://localhost:5601 2>/dev/null || open http://localhost:5601 2>/dev/null || echo "http://localhost:5601"
```

---

### 17.4.2 Grafana ëŒ€ì‹œë³´ë“œ ì„¤ì •

**1. Prometheus ë°ì´í„°ì†ŒìŠ¤ í™•ì¸:**
- http://localhost:3001 ì ‘ì†
- Configuration â†’ Data Sources â†’ Prometheus
- Test ë²„íŠ¼ í´ë¦­

**2. ëŒ€ì‹œë³´ë“œ Import:**
```
Dashboards â†’ Import

ì¶”ì²œ ëŒ€ì‹œë³´ë“œ:
- 6417: Spring Boot Statistics
- 4701: JVM (Micrometer)
- 11159: Docker Container & Host Metrics
- 11074: Node Exporter Full
- 9628: PostgreSQL Database
- 763: Redis Dashboard
- 12708: Nginx Ingress Controller
```

---

### 17.4.3 ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ì¶”ê°€

**UserService.kt ì˜ˆì‹œ:**

```kotlin
package com.lk.trade.user.service

import io.micrometer.core.instrument.Counter
import io.micrometer.core.instrument.MeterRegistry
import io.micrometer.core.instrument.Timer
import org.springframework.stereotype.Service

@Service
class UserService(
    private val meterRegistry: MeterRegistry
) {
    // ì¹´ìš´í„° (ëˆ„ì  ê°’)
    private val userRegistrationCounter: Counter = Counter.builder("user.registration.count")
        .description("Total number of user registrations")
        .tag("service", "user")
        .register(meterRegistry)

    // íƒ€ì´ë¨¸ (ì‹¤í–‰ ì‹œê°„)
    private val loginTimer: Timer = Timer.builder("user.login.duration")
        .description("Time taken to process login")
        .tag("service", "user")
        .register(meterRegistry)

    fun registerUser(userData: UserRegistrationDto): User {
        // ë“±ë¡ íšŸìˆ˜ ì¦ê°€
        userRegistrationCounter.increment()

        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
        val user = createUser(userData)

        return user
    }

    fun login(credentials: LoginDto): AuthToken {
        // ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
        return loginTimer.recordCallable {
            // ë¡œê·¸ì¸ ë¡œì§
            authenticateUser(credentials)
        } ?: throw AuthenticationException()
    }
}
```

**Grafanaì—ì„œ ì¿¼ë¦¬:**

```promql
# ì‚¬ìš©ì ë“±ë¡ ì†ë„ (ë¶„ë‹¹)
rate(user_registration_count_total[5m]) * 60

# ë¡œê·¸ì¸ í‰ê·  ì‘ë‹µ ì‹œê°„
rate(user_login_duration_seconds_sum[5m])
/
rate(user_login_duration_seconds_count[5m])

# P95 ë¡œê·¸ì¸ ì‘ë‹µ ì‹œê°„
histogram_quantile(0.95, rate(user_login_duration_seconds_bucket[5m]))
```

---

## ğŸ‘¨â€ğŸ’» ì£¼ë‹ˆì–´ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: Prometheusê°€ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ì§€ ëª»í•¨

**ìƒí™©**: ëª¨ë‹ˆí„°ë§ ìŠ¤íƒì„ êµ¬ì¶•í–ˆëŠ”ë° Prometheus ëŒ€ì‹œë³´ë“œì—ì„œ "No data" í‘œì‹œ

```yaml
# âŒ ì£¼ë‹ˆì–´ ê°œë°œìê°€ ì‘ì„±í•œ prometheus.yml
scrape_configs:
  - job_name: 'user-service'
    metrics_path: '/metrics'  # ì˜ëª»ëœ ê²½ë¡œ
    static_configs:
      - targets: ['localhost:8081']  # ì˜ëª»ëœ í˜¸ìŠ¤íŠ¸
```

**ë¬¸ì œì **:
- ë¬¸ì œ 1: Spring Boot Actuatorì˜ ê¸°ë³¸ ê²½ë¡œëŠ” `/actuator/prometheus`ì¸ë° `/metrics`ë¡œ ì„¤ì •
- ë¬¸ì œ 2: Docker ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” `localhost`ê°€ ì•„ë‹Œ ì„œë¹„ìŠ¤ëª… ì‚¬ìš©
- ì™œ ì´ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ê°€: Docker ì»¨í…Œì´ë„ˆëŠ” ê°ì ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ë¥¼ ê°€ì§€ë¯€ë¡œ localhostëŠ” ìê¸° ìì‹ ì„ ê°€ë¦¬í‚´

**í•´ê²°ì±…**:
```yaml
# âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
scrape_configs:
  - job_name: 'user-service'
    metrics_path: '/actuator/prometheus'  # ì˜¬ë°”ë¥¸ ê²½ë¡œ
    static_configs:
      - targets: ['user-service:8081']  # Docker ì„œë¹„ìŠ¤ëª… ì‚¬ìš©

# ì„¤ëª…
# 1. Spring Boot ActuatorëŠ” /actuator/prometheus ê²½ë¡œì— ë©”íŠ¸ë¦­ ë…¸ì¶œ
# 2. Docker Composeì—ì„œëŠ” ì„œë¹„ìŠ¤ëª…ì´ DNSë¡œ í•´ì„ë¨
```

**ë°°ìš´ ì **:
- ğŸ’¡ íŒ 1: Prometheus íƒ€ê²Ÿ ìƒíƒœëŠ” http://localhost:9090/targets ì—ì„œ í™•ì¸
- ğŸ’¡ íŒ 2: `curl http://user-service:8081/actuator/prometheus`ë¡œ ë©”íŠ¸ë¦­ ì§ì ‘ í™•ì¸
- ğŸ’¡ íŒ 3: Docker ë„¤íŠ¸ì›Œí¬ ë‚´ì—ì„œëŠ” í•­ìƒ ì„œë¹„ìŠ¤ëª… ì‚¬ìš©

### ì‹œë‚˜ë¦¬ì˜¤ 2: Grafana ëŒ€ì‹œë³´ë“œì— ê·¸ë˜í”„ê°€ ì•ˆ ë‚˜ì˜´

**ìƒí™©**: Grafanaì—ì„œ PromQL ì¿¼ë¦¬ë¥¼ ì‘ì„±í–ˆëŠ”ë° "No data points" ì—ëŸ¬

```promql
# âŒ ì˜ëª»ëœ PromQL
rate(http_requests[5m])  # ë©”íŠ¸ë¦­ëª… í‹€ë¦¼
```

**ë¬¸ì œì **:
- ë¬¸ì œ 1: ì •í™•í•œ ë©”íŠ¸ë¦­ëª…ì„ ëª¨ë¦„ (http_requests vs http_server_requests_seconds_count)
- ë¬¸ì œ 2: rate() í•¨ìˆ˜ëŠ” counter íƒ€ì…ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥
- ë¬¸ì œ 3: ì‹œê°„ ë²”ìœ„ê°€ ë°ì´í„° ìˆ˜ì§‘ ì£¼ê¸°ë³´ë‹¤ ì‘ì„ ìˆ˜ ìˆìŒ

**í•´ê²°ì±…**:
```promql
# âœ… ì˜¬ë°”ë¥¸ ì¿¼ë¦¬

# 1. ë©”íŠ¸ë¦­ëª… í™•ì¸ (Prometheusì—ì„œ ì§ì ‘ í™•ì¸)
http_server_requests_seconds_count

# 2. 5ë¶„ê°„ì˜ ì´ˆë‹¹ ìš”ì²­ ìˆ˜
rate(http_server_requests_seconds_count[5m])

# 3. ì„œë¹„ìŠ¤ë³„ í•„í„°ë§
rate(http_server_requests_seconds_count{service="user"}[5m])

# ì„¤ëª…:
# - rate()ëŠ” counterì˜ ì¦ê°€ìœ¨ ê³„ì‚°
# - [5m]ì€ 5ë¶„ ë™ì•ˆì˜ ë°ì´í„° ì‚¬ìš©
# - {}ëŠ” ë ˆì´ë¸” í•„í„°ë§
```

**ë°°ìš´ ì **:
- ğŸ’¡ íŒ 1: Prometheus UIì˜ "Graph" íƒ­ì—ì„œ ë©”íŠ¸ë¦­ëª… ìë™ì™„ì„± í™œìš©
- ğŸ’¡ íŒ 2: `{__name__=~"http.*"}`ë¡œ ë©”íŠ¸ë¦­ëª… ê²€ìƒ‰
- ğŸ’¡ íŒ 3: rate()ëŠ” ìµœì†Œ 2ê°œ ì´ìƒì˜ ë°ì´í„° í¬ì¸íŠ¸ í•„ìš”

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë¡œê·¸ê°€ Elasticsearchì— ì €ì¥ ì•ˆ ë¨

**ìƒí™©**: ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ëŠ”ë° Kibanaì—ì„œ ê²€ìƒ‰ì´ ì•ˆ ë¨

```xml
<!-- âŒ ì˜ëª»ëœ logback-spring.xml -->
<appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
        <pattern>%d{HH:mm:ss} - %msg%n</pattern>  <!-- í‰ë¬¸ ë¡œê·¸ -->
    </encoder>
</appender>
```

**ë¬¸ì œì **:
- ë¬¸ì œ 1: JSON í˜•ì‹ì´ ì•„ë‹Œ í‰ë¬¸ ë¡œê·¸ ì¶œë ¥
- ë¬¸ì œ 2: Logstashê°€ íŒŒì‹±í•  ìˆ˜ ì—†ëŠ” í˜•ì‹
- ë¬¸ì œ 3: êµ¬ì¡°í™”ë˜ì§€ ì•Šì€ ë¡œê·¸ëŠ” ê²€ìƒ‰/ë¶„ì„ ì–´ë ¤ì›€

**í•´ê²°ì±…**:
```xml
<!-- âœ… ì˜¬ë°”ë¥¸ ì„¤ì • -->
<appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
    <encoder class="net.logstash.logback.encoder.LogstashEncoder">
        <customFields>{"app":"user-service","env":"dev"}</customFields>
        <includeMdcKeyName>traceId</includeMdcKeyName>
    </encoder>
</appender>

<!-- build.gradle.ktsì— ì˜ì¡´ì„± ì¶”ê°€ -->
<!-- implementation("net.logstash.logback:logstash-logback-encoder:7.4") -->
```

**ë°°ìš´ ì **:
- ğŸ’¡ íŒ 1: JSON ë¡œê·¸ëŠ” êµ¬ì¡°í™”ë˜ì–´ ê²€ìƒ‰/í•„í„°ë§ì´ ì‰¬ì›€
- ğŸ’¡ íŒ 2: MDC(Mapped Diagnostic Context)ë¡œ traceId ì¶”ê°€í•˜ë©´ ìš”ì²­ ì¶”ì  ê°€ëŠ¥
- ğŸ’¡ íŒ 3: Logstash íŒŒì´í”„ë¼ì¸ì—ì„œ JSON íŒŒì‹± í™•ì¸: `codec => json_lines`

### ì‹œë‚˜ë¦¬ì˜¤ 4: ì•Œë¦¼ì´ ë„ˆë¬´ ë§ì´ ì˜´ (Alert Fatigue)

**ìƒí™©**: Slackì— ì•Œë¦¼ì´ 5ë¶„ë§ˆë‹¤ ìˆ˜ë°± ê°œì”© ì™€ì„œ ì¤‘ìš”í•œ ì•Œë¦¼ ë†“ì¹¨

```yaml
# âŒ ë„ˆë¬´ ë¯¼ê°í•œ ì•Œë¦¼ ê·œì¹™
- alert: HighCpuUsage
  expr: container_cpu_usage > 50  # ë„ˆë¬´ ë‚®ì€ ì„ê³„ê°’
  for: 10s  # ë„ˆë¬´ ì§§ì€ ì§€ì† ì‹œê°„
  labels:
    severity: critical  # ëª¨ë“  ì•Œë¦¼ì„ criticalë¡œ
```

**ë¬¸ì œì **:
- ë¬¸ì œ 1: CPU 50% ì´ˆê³¼ëŠ” ì •ìƒ ë²”ìœ„ì¸ë° ì•Œë¦¼ ë°œìƒ
- ë¬¸ì œ 2: 10ì´ˆë§Œ ì§€ì†ë˜ì–´ë„ ì•Œë¦¼ (ì¼ì‹œì  ìŠ¤íŒŒì´í¬)
- ë¬¸ì œ 3: ëª¨ë“  ì•Œë¦¼ì„ criticalë¡œ ì„¤ì •í•˜ì—¬ ìš°ì„ ìˆœìœ„ ì—†ìŒ

**í•´ê²°ì±…**:
```yaml
# âœ… ì ì ˆí•œ ì•Œë¦¼ ê·œì¹™
- alert: HighCpuUsage
  expr: container_cpu_usage > 80  # ì ì ˆí•œ ì„ê³„ê°’
  for: 5m  # 5ë¶„ ì§€ì† ì‹œì—ë§Œ ì•Œë¦¼
  labels:
    severity: warning  # ë‹¨ê³„ë³„ ì‹¬ê°ë„
  annotations:
    summary: "CPU ì‚¬ìš©ë¥  ë†’ìŒ: {{ $labels.container }}"
    description: "5ë¶„ê°„ 80% ì´ˆê³¼"

- alert: CriticalCpuUsage
  expr: container_cpu_usage > 95
  for: 2m
  labels:
    severity: critical  # ì •ë§ ì‹¬ê°í•œ ê²½ìš°ë§Œ
```

**ë°°ìš´ ì **:
- ğŸ’¡ íŒ 1: ì„ê³„ê°’ì€ ì‹¤ì œ ìš´ì˜ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì¡°ì •
- ğŸ’¡ íŒ 2: for ì‹œê°„ì„ ì„¤ì •í•˜ì—¬ ì¼ì‹œì  ìŠ¤íŒŒì´í¬ ë¬´ì‹œ
- ğŸ’¡ íŒ 3: severityë¥¼ info/warning/criticalë¡œ êµ¬ë¶„í•˜ì—¬ ìš°ì„ ìˆœìœ„ ê´€ë¦¬
- ğŸ’¡ íŒ 4: Alertmanagerì˜ inhibit_rulesë¡œ ì¤‘ë³µ ì•Œë¦¼ ë°©ì§€

---

## â“ FAQ

<details>
<summary><strong>Q1: Prometheusì™€ Grafanaì˜ ì°¨ì´ê°€ ë­”ê°€ìš”?</strong></summary>

**A**: PrometheusëŠ” ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê³  ì €ì¥í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì´ê³ , GrafanaëŠ” ê·¸ ë°ì´í„°ë¥¼ ì˜ˆìœ ê·¸ë˜í”„ë¡œ ë³´ì—¬ì£¼ëŠ” ì‹œê°í™” ë„êµ¬ì…ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- Prometheus: ë°ì´í„° ìˆ˜ì§‘, ì €ì¥, PromQL ì¿¼ë¦¬, ì•Œë¦¼ ê·œì¹™
- Grafana: ëŒ€ì‹œë³´ë“œ, ê·¸ë˜í”„, ì—¬ëŸ¬ ë°ì´í„°ì†ŒìŠ¤ í†µí•©

**ì˜ˆì‹œ**:
```bash
# PrometheusëŠ” ì´ë ‡ê²Œ ì‚¬ìš©
curl http://localhost:9090/api/v1/query?query=up

# GrafanaëŠ” ì›¹ UIë¡œ ì‹œê°í™”
http://localhost:3001/dashboards
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ PrometheusëŠ” "ë°ì´í„°", GrafanaëŠ” "ë³´ì—¬ì£¼ê¸°"ë¡œ ì—­í•  ë¶„ë‹´

</details>

<details>
<summary><strong>Q2: ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì£¼ê¸°ëŠ” ì–´ë–»ê²Œ ì„¤ì •í•˜ë‚˜ìš”?</strong></summary>

**A**: `prometheus.yml`ì˜ `scrape_interval`ë¡œ ì„¤ì •í•˜ë©°, ê¸°ë³¸ê°’ì€ 15ì´ˆì…ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- ì§§ì„ìˆ˜ë¡: ë” ì •í™•í•˜ì§€ë§Œ ë¦¬ì†ŒìŠ¤ ë§ì´ ì‚¬ìš©
- ê¸¸ìˆ˜ë¡: ë¦¬ì†ŒìŠ¤ ì ˆì•½í•˜ì§€ë§Œ ì •í™•ë„ ê°ì†Œ
- ì‹¤ë¬´ ê¶Œì¥: 15ì´ˆ (CPU/ë©”ëª¨ë¦¬ ì •ìƒ), 5ì´ˆ (ê³ ì„±ëŠ¥ ìš”êµ¬), 1ë¶„ (ë°°ì¹˜ ì‘ì—…)

**ì˜ˆì‹œ**:
```yaml
global:
  scrape_interval: 15s       # ì „ì—­ ì„¤ì •
  evaluation_interval: 15s

scrape_configs:
  - job_name: 'fast-service'
    scrape_interval: 5s      # ê°œë³„ ì„¤ì • (ì „ì—­ ë®ì–´ì“°ê¸°)
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ëŠ” ì§§ê²Œ, ë°°ì¹˜ ì‘ì—…ì€ ê¸¸ê²Œ ì„¤ì •

</details>

<details>
<summary><strong>Q3: ë¡œê·¸ëŠ” ì–¼ë§ˆë‚˜ ë³´ê´€í•´ì•¼ í•˜ë‚˜ìš”?</strong></summary>

**A**: ë²•ì  ìš”êµ¬ì‚¬í•­ê³¼ ë””ìŠ¤í¬ ìš©ëŸ‰ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ 30-90ì¼ ê¶Œì¥í•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- ê°œë°œ í™˜ê²½: 7-14ì¼
- ìŠ¤í…Œì´ì§•: 30ì¼
- í”„ë¡œë•ì…˜: 90ì¼ ì´ìƒ
- ê·œì œ ì—…ì¢…: 1-7ë…„ (ê¸ˆìœµ, ì˜ë£Œ)

**ì˜ˆì‹œ**:
```yaml
# Elasticsearch ì¸ë±ìŠ¤ ìˆ˜ëª… ì£¼ê¸°
PUT _ilm/policy/lktrade-logs-policy
{
  "policy": {
    "phases": {
      "hot": {
        "actions": {
          "rollover": {
            "max_age": "1d",
            "max_size": "50GB"
          }
        }
      },
      "delete": {
        "min_age": "30d",
        "actions": {
          "delete": {}
        }
      }
    }
  }
}
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ Hot ë°ì´í„°ëŠ” SSDì—, Cold ë°ì´í„°ëŠ” ì €ë ´í•œ ìŠ¤í† ë¦¬ì§€ë¡œ ì´ë™

</details>

<details>
<summary><strong>Q4: PromQLì´ ì–´ë ¤ìš´ë° ì–´ë–»ê²Œ ë°°ìš°ë‚˜ìš”?</strong></summary>

**A**: Prometheus UIì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹¤í—˜í•˜ë©´ì„œ ë°°ìš°ëŠ” ê²ƒì´ ê°€ì¥ íš¨ê³¼ì ì…ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
1. ê¸°ë³¸ ë©”íŠ¸ë¦­ ì¡°íšŒ: `up`, `http_requests_total`
2. ë ˆì´ë¸” í•„í„°ë§: `{job="user-service"}`
3. í•¨ìˆ˜ ì‚¬ìš©: `rate()`, `sum()`, `avg()`
4. ì‹œê°„ ë²”ìœ„: `[5m]`, `[1h]`

**ì˜ˆì‹œ**:
```promql
# ì´ˆê¸‰: ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
up{job="user-service"}

# ì¤‘ê¸‰: 5ë¶„ê°„ í‰ê·  RPS
rate(http_requests_total[5m])

# ê³ ê¸‰: ì„œë¹„ìŠ¤ë³„ 95% ì‘ë‹µ ì‹œê°„
histogram_quantile(0.95,
  rate(http_request_duration_seconds_bucket[5m])
)
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ Prometheus UIì˜ "Graph" íƒ­ì—ì„œ ìë™ì™„ì„± í™œìš©

</details>

<details>
<summary><strong>Q5: ëª¨ë‹ˆí„°ë§ ìŠ¤íƒì´ ë„ˆë¬´ ë¬´ê±°ìš´ë° ê²½ëŸ‰í™” ë°©ë²•ì€?</strong></summary>

**A**: Profileì„ í™œìš©í•˜ì—¬ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ì‹¤í–‰í•˜ê±°ë‚˜, VictoriaMetrics ê°™ì€ ê²½ëŸ‰ ëŒ€ì•ˆì„ ì‚¬ìš©í•˜ì„¸ìš”.

**ìƒì„¸ ì„¤ëª…**:
- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ (LK-Trade ê¸°ì¤€):
  - Prometheus: CPU 200m, RAM 512MB
  - Grafana: CPU 100m, RAM 256MB
  - Elasticsearch: CPU 1000m, RAM 2GB (ê°€ì¥ ë¬´ê±°ì›€)

**ê²½ëŸ‰í™” ë°©ë²•**:
```yaml
# 1. í•„ìš”í•œ ê²ƒë§Œ ì‹¤í–‰
docker compose --profile monitoring up -d  # ë¡œê¹… ì œì™¸

# 2. Elasticsearch ëŒ€ì‹  Loki ì‚¬ìš© (ë¡œê·¸ ì „ìš©, ê²½ëŸ‰)
# 3. ì˜¤ë˜ëœ ë©”íŠ¸ë¦­/ë¡œê·¸ ì‚­ì œ
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ ê°œë°œ í™˜ê²½ì—ì„œëŠ” ëª¨ë‹ˆí„°ë§ë§Œ, ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ì „ì²´ ìŠ¤íƒ ì‹¤í–‰

</details>

<details>
<summary><strong>Q6: Slack ì•Œë¦¼ ëŒ€ì‹  ì´ë©”ì¼ë¡œ ë°›ì„ ìˆ˜ ìˆë‚˜ìš”?</strong></summary>

**A**: Alertmanagerì—ì„œ email_configsë¥¼ ì„¤ì •í•˜ë©´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- Slack: ì‹¤ì‹œê°„ ì•Œë¦¼, íŒ€ í˜‘ì—…
- Email: ê°œì¸ ì•Œë¦¼, ìƒì„¸ ë¦¬í¬íŠ¸
- PagerDuty: ì˜¨ì½œ ê´€ë¦¬, ì—ìŠ¤ì»¬ë ˆì´ì…˜

**ì˜ˆì‹œ**:
```yaml
# alertmanager.yml
receivers:
  - name: 'email-alerts'
    email_configs:
      - to: 'ops@company.com'
        from: 'alertmanager@company.com'
        smarthost: 'smtp.gmail.com:587'
        auth_username: 'alerts@company.com'
        auth_password: 'your-password'
        headers:
          Subject: '[LK-Trade] {{ .GroupLabels.alertname }}'
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ Criticalì€ Slack + SMS, Warningì€ Email, InfoëŠ” ë¡œê·¸ë§Œ

</details>

<details>
<summary><strong>Q7: Grafana ëŒ€ì‹œë³´ë“œë¥¼ ì½”ë“œë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‚˜ìš”?</strong></summary>

**A**: ê°€ëŠ¥í•©ë‹ˆë‹¤. JSON íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°í•˜ê±°ë‚˜ Provisioningì„ ì‚¬ìš©í•˜ì„¸ìš”.

**ìƒì„¸ ì„¤ëª…**:
- Dashboard JSON Export: ìˆ˜ë™ ë°±ì—…
- Provisioning: ìë™ ë°°í¬ (ê¶Œì¥)
- Terraform: IaCë¡œ ê´€ë¦¬

**ì˜ˆì‹œ**:
```yaml
# docker/grafana/provisioning/dashboards/default.yml
apiVersion: 1

providers:
  - name: 'Default'
    folder: ''
    type: file
    options:
      path: /var/lib/grafana/dashboards

# docker-compose.yml
volumes:
  - ./docker/grafana/dashboards:/var/lib/grafana/dashboards:ro
```

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ ëŒ€ì‹œë³´ë“œ JSONì„ Gitì— ì»¤ë°‹í•˜ì—¬ ë²„ì „ ê´€ë¦¬

</details>

---

## ğŸ’¼ ë©´ì ‘ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸

### ğŸ“˜ ì£¼ë‹ˆì–´/ì‹ ì… ê°œë°œììš© (5-7ê°œ)

<details>
<summary><strong>1. Prometheusì™€ ELKì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”.</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Prometheus: ë©”íŠ¸ë¦­(ìˆ«ì) ìˆ˜ì§‘, ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤, Pull ë°©ì‹
- ELK: ë¡œê·¸(í…ìŠ¤íŠ¸) ìˆ˜ì§‘, ê²€ìƒ‰ ì—”ì§„, Push ë°©ì‹
- ìš©ë„: PrometheusëŠ” "ì§€ê¸ˆ ìƒíƒœ", ELKëŠ” "ì™œ ê·¸ëŸ°ì§€ ë¶„ì„"

**ì˜ˆì‹œ ë‹µë³€**
> "PrometheusëŠ” CPU, ë©”ëª¨ë¦¬ ê°™ì€ ìˆ«ì ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³ , ELKëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ë¬¸ì œ ì›ì¸ì„ ë¶„ì„í•©ë‹ˆë‹¤. PrometheusëŠ” Pull ë°©ì‹ìœ¼ë¡œ ì£¼ê¸°ì ìœ¼ë¡œ ë©”íŠ¸ë¦­ì„ ê°€ì ¸ì˜¤ê³ , ELKëŠ” Push ë°©ì‹ìœ¼ë¡œ ë¡œê·¸ë¥¼ ë°›ì•„ì„œ ì €ì¥í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Pull ë°©ì‹ê³¼ Push ë°©ì‹ì˜ ì¥ë‹¨ì ì€?
- A: Pullì€ íƒ€ê²Ÿ ê´€ë¦¬ê°€ ì‰½ê³  ì„œë²„ ë¶€í•˜ ì¡°ì ˆ ê°€ëŠ¥, PushëŠ” ì‹¤ì‹œê°„ì„±ì´ ì¢‹ê³  ë°©í™”ë²½ í†µê³¼ ì‰¬ì›€

**ì‹¤ë¬´ ì—°ê´€**
- ë‘˜ì„ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ "ë¬´ì—‡ì´ ë¬¸ì œì¸ì§€"ì™€ "ì™œ ë¬¸ì œì¸ì§€"ë¥¼ ëª¨ë‘ íŒŒì•…

</details>

<details>
<summary><strong>2. 4ê°€ì§€ ê³¨ë“  ì‹œê·¸ë„(Golden Signals)ì´ ë¬´ì—‡ì¸ê°€ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Latency (ì§€ì—° ì‹œê°„): ì‘ë‹µ ì†ë„
- Traffic (íŠ¸ë˜í”½): ìš”ì²­ ìˆ˜
- Errors (ì—ëŸ¬ìœ¨): ì‹¤íŒ¨ìœ¨
- Saturation (í¬í™”ë„): ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ 

**ì˜ˆì‹œ ë‹µë³€**
> "êµ¬ê¸€ SREì—ì„œ ì œì•ˆí•œ 4ê°€ì§€ í•µì‹¬ ëª¨ë‹ˆí„°ë§ ì§€í‘œì…ë‹ˆë‹¤. LatencyëŠ” ìš”ì²­ ì²˜ë¦¬ ì‹œê°„, Trafficì€ ì´ˆë‹¹ ìš”ì²­ ìˆ˜, ErrorsëŠ” ì‹¤íŒ¨ìœ¨, Saturationì€ CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì…ë‹ˆë‹¤. ì´ 4ê°€ì§€ë§Œ ì˜ ëª¨ë‹ˆí„°ë§í•´ë„ ëŒ€ë¶€ë¶„ì˜ ë¬¸ì œë¥¼ ì‚¬ì „ì— ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ì–´ëŠ ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•œê°€ìš”?
- A: ì„œë¹„ìŠ¤ íŠ¹ì„±ë§ˆë‹¤ ë‹¤ë¥´ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ Errorsê°€ ê°€ì¥ ì¹˜ëª…ì 

**ì‹¤ë¬´ ì—°ê´€**
- ëŒ€ì‹œë³´ë“œ ì²« í™”ë©´ì— ì´ 4ê°€ì§€ë¥¼ ë°°ì¹˜í•˜ì—¬ í•œëˆˆì— íŒŒì•…

</details>

<details>
<summary><strong>3. Grafana ëŒ€ì‹œë³´ë“œì—ì„œ ë°ì´í„°ê°€ ì•ˆ ë³´ì¼ ë•Œ ì–´ë–»ê²Œ í™•ì¸í•˜ë‚˜ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ë°ì´í„°ì†ŒìŠ¤ ì—°ê²° í™•ì¸
- PromQL ì¿¼ë¦¬ ë¬¸ë²• í™•ì¸
- ì‹œê°„ ë²”ìœ„ í™•ì¸
- Prometheus íƒ€ê²Ÿ ìƒíƒœ í™•ì¸

**ì˜ˆì‹œ ë‹µë³€**
> "ë¨¼ì € Grafana ì„¤ì •ì—ì„œ ë°ì´í„°ì†ŒìŠ¤ê°€ Prometheusì— ì˜ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ Test ë²„íŠ¼ìœ¼ë¡œ í™•ì¸í•©ë‹ˆë‹¤. ê·¸ ë‹¤ìŒ PromQL ì¿¼ë¦¬ê°€ ì˜¬ë°”ë¥¸ì§€ Prometheus UIì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸í•˜ê³ , Grafanaì˜ ì‹œê°„ ë²”ìœ„ê°€ ë°ì´í„°ê°€ ìˆëŠ” ê¸°ê°„ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ Prometheusì˜ /targetsì—ì„œ ìŠ¤í¬ë˜í•‘ ëŒ€ìƒì´ UP ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ë©”íŠ¸ë¦­ëª…ì„ ëª¨ë¥¼ ë•ŒëŠ”?
- A: Prometheus UIì—ì„œ `{__name__=~".*"}`ë¡œ ëª¨ë“  ë©”íŠ¸ë¦­ ì¡°íšŒ

**ì‹¤ë¬´ ì—°ê´€**
- ë¬¸ì œ í•´ê²° ìˆœì„œ: ì—°ê²° â†’ ì¿¼ë¦¬ â†’ ë°ì´í„° â†’ íƒ€ê²Ÿ

</details>

<details>
<summary><strong>4. ë¡œê·¸ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•˜ëŠ” ì´ìœ ëŠ”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- êµ¬ì¡°í™”ëœ ë°ì´í„°ë¡œ íŒŒì‹± ì‰¬ì›€
- í•„ë“œë³„ ê²€ìƒ‰/í•„í„°ë§ ê°€ëŠ¥
- ìë™í™” ë¶„ì„ì— ìœ ë¦¬
- í‘œì¤€ í˜•ì‹ìœ¼ë¡œ ë„êµ¬ ì—°ë™ ì‰¬ì›€

**ì˜ˆì‹œ ë‹µë³€**
> "í‰ë¬¸ ë¡œê·¸ëŠ” ì‚¬ëŒì´ ì½ê¸° ì‰½ì§€ë§Œ í”„ë¡œê·¸ë¨ì´ íŒŒì‹±í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤. JSON í˜•ì‹ì€ timestamp, level, message ê°™ì€ í•„ë“œê°€ ëª…í™•íˆ êµ¬ë¶„ë˜ì–´ Logstashë‚˜ Elasticsearchê°€ ì‰½ê²Œ íŒŒì‹±í•˜ê³ , Kibanaì—ì„œ í•„ë“œë³„ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ traceId ê°™ì€ ì»¤ìŠ¤í…€ í•„ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ë¶„ì‚° ì¶”ì ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: JSONì˜ ë‹¨ì ì€?
- A: ì‚¬ëŒì´ ì½ê¸° ì–´ë µê³ , íŒŒì¼ í¬ê¸°ê°€ í‰ë¬¸ë³´ë‹¤ í¼

**ì‹¤ë¬´ ì—°ê´€**
- ê°œë°œ í™˜ê²½ì€ í‰ë¬¸, ìš´ì˜ í™˜ê²½ì€ JSON ê¶Œì¥

</details>

<details>
<summary><strong>5. Alertmanagerì˜ ì—­í• ì€ ë¬´ì—‡ì¸ê°€ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Prometheus ì•Œë¦¼ ê·œì¹™ ì²˜ë¦¬
- ì¤‘ë³µ ì•Œë¦¼ ì œê±° (Deduplication)
- ì•Œë¦¼ ê·¸ë£¹í™” (Grouping)
- ì•Œë¦¼ ë¼ìš°íŒ… (Routing)
- ì™¸ë¶€ ì „ì†¡ (Slack, Email ë“±)

**ì˜ˆì‹œ ë‹µë³€**
> "Prometheusê°€ ì•Œë¦¼ ê·œì¹™ì„ í‰ê°€í•˜ì—¬ ë¬¸ì œë¥¼ ê°ì§€í•˜ë©´, Alertmanagerê°€ ê·¸ ì•Œë¦¼ì„ ë°›ì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ê°™ì€ ì•Œë¦¼ì´ ì—¬ëŸ¬ ë²ˆ ì˜¤ë©´ ì¤‘ë³µ ì œê±°í•˜ê³ , ê´€ë ¨ëœ ì•Œë¦¼ë“¤ì„ ê·¸ë£¹í™”í•˜ë©°, ì‹¬ê°ë„ì— ë”°ë¼ ì ì ˆí•œ ì±„ë„(Slack, Email ë“±)ë¡œ ì „ì†¡í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ì•Œë¦¼ì´ ë„ˆë¬´ ë§ì´ ì˜¬ ë•ŒëŠ”?
- A: for ì‹œê°„ ëŠ˜ë¦¬ê¸°, ì„ê³„ê°’ ì¡°ì •, inhibit_rulesë¡œ ì¤‘ë³µ ì–µì œ

**ì‹¤ë¬´ ì—°ê´€**
- Criticalì€ ì¦‰ì‹œ Slack, Warningì€ 5ë¶„ ê·¸ë£¹í™” í›„ ì „ì†¡

</details>

<details>
<summary><strong>6. Docker í™˜ê²½ì—ì„œ ë¡œê·¸ ìˆ˜ì§‘ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Filebeatê°€ Docker ë¡œê·¸ ìˆ˜ì§‘
- `/var/lib/docker/containers/`ì—ì„œ ì½ìŒ
- Docker ë©”íƒ€ë°ì´í„° ìë™ ì¶”ê°€
- Logstashë¡œ ì „ì†¡í•˜ì—¬ íŒŒì‹±

**ì˜ˆì‹œ ë‹µë³€**
> "Filebeatë¥¼ Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•˜ê³ , `/var/lib/docker/containers` ë””ë ‰í† ë¦¬ë¥¼ ë§ˆìš´íŠ¸í•˜ì—¬ ëª¨ë“  ì»¨í…Œì´ë„ˆì˜ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤. FilebeatëŠ” Docker ë©”íƒ€ë°ì´í„°(ì»¨í…Œì´ë„ˆëª…, ì´ë¯¸ì§€ ë“±)ë¥¼ ìë™ìœ¼ë¡œ ì¶”ê°€í•˜ê³ , Logstashë¡œ ì „ì†¡í•˜ì—¬ JSON íŒŒì‹± í›„ Elasticsearchì— ì €ì¥í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: stdout/stderr ë¡œê·¸ë§Œ ìˆ˜ì§‘ë˜ë‚˜ìš”?
- A: ë§ìŠµë‹ˆë‹¤. íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ë¡œê·¸ëŠ” ë³¼ë¥¨ ë§ˆìš´íŠ¸ í•„ìš”

**ì‹¤ë¬´ ì—°ê´€**
- ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ ì‹œ ë¡œê·¸ ìœ ì‹¤ ë°©ì§€ë¥¼ ìœ„í•´ ì¤‘ì•™ ì§‘ì¤‘í˜• ë¡œê¹… í•„ìˆ˜

</details>

<details>
<summary><strong>7. PromQLì—ì„œ rate()ì™€ irate()ì˜ ì°¨ì´ëŠ”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- rate(): ì‹œê°„ ë²”ìœ„ ë‚´ í‰ê·  ì¦ê°€ìœ¨
- irate(): ë§ˆì§€ë§‰ ë‘ ìƒ˜í”Œì˜ ì¦‰ì‹œ ì¦ê°€ìœ¨
- rate()ëŠ” ë¶€ë“œëŸ¬ìš´ ê·¸ë˜í”„, irate()ëŠ” ë¯¼ê°í•œ ê·¸ë˜í”„

**ì˜ˆì‹œ ë‹µë³€**
> "rate()ëŠ” ì§€ì •í•œ ì‹œê°„ ë²”ìœ„(ì˜ˆ: 5ë¶„) ë™ì•ˆì˜ í‰ê·  ì¦ê°€ìœ¨ì„ ê³„ì‚°í•˜ì—¬ ë¶€ë“œëŸ¬ìš´ ê·¸ë˜í”„ë¥¼ ê·¸ë¦½ë‹ˆë‹¤. irate()ëŠ” ë§ˆì§€ë§‰ ë‘ ìƒ˜í”Œë§Œ ì‚¬ìš©í•˜ì—¬ ì¦‰ì‹œ ì¦ê°€ìœ¨ì„ ê³„ì‚°í•˜ë¯€ë¡œ ìµœì‹  ë³€í™”ë¥¼ ë¯¼ê°í•˜ê²Œ ë°˜ì˜í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì•Œë¦¼ ê·œì¹™ì—ëŠ” rate(), ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ì—ëŠ” irate()ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ì–¸ì œ ì–´ëŠ ê²ƒì„ ì¨ì•¼ í•˜ë‚˜ìš”?
- A: ì¥ê¸° íŠ¸ë Œë“œëŠ” rate(), ê¸‰ê²©í•œ ë³€í™” ê°ì§€ëŠ” irate()

**ì‹¤ë¬´ ì—°ê´€**
- rate(http_requests[5m])ëŠ” 5ë¶„ í‰ê·  RPS, irate()ëŠ” ìµœê·¼ 15-30ì´ˆ RPS

</details>

---

### ğŸ“— ì¤‘ê¸‰ ê°œë°œììš© (3-5ê°œ)

<details>
<summary><strong>1. Prometheusì˜ Pull ë°©ì‹ì´ Push ë°©ì‹ë³´ë‹¤ ë‚˜ì€ ì´ìœ ëŠ”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- íƒ€ê²Ÿ ê´€ë¦¬ ì¤‘ì•™í™” (Prometheusê°€ ì œì–´)
- ì„œë²„ ë¶€í•˜ ì¡°ì ˆ ê°€ëŠ¥ (scrape_interval ì¡°ì •)
- í—¬ìŠ¤ ì²´í¬ í†µí•© (íƒ€ê²Ÿ ë‹¤ìš´ ê°ì§€)
- ë°©í™”ë²½ ì„¤ì • ë‹¨ìˆœ (inboundë§Œ ì—´ë©´ ë¨)

**ì˜ˆì‹œ ë‹µë³€**
> "Pull ë°©ì‹ì€ Prometheusê°€ ëŠ¥ë™ì ìœ¼ë¡œ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ë¯€ë¡œ ì–´ë–¤ íƒ€ê²Ÿì„ ëª¨ë‹ˆí„°ë§í• ì§€ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ scrape_intervalì„ ì¡°ì •í•˜ì—¬ ì„œë²„ ë¶€í•˜ë¥¼ ì œì–´í•˜ê³ , íƒ€ê²Ÿì´ ì‘ë‹µí•˜ì§€ ì•Šìœ¼ë©´ ì¦‰ì‹œ ê°ì§€í•˜ì—¬ ì•Œë¦¼ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Push ë°©ì‹ì€ ê° ì„œë¹„ìŠ¤ê°€ ì§ì ‘ ì „ì†¡í•˜ë¯€ë¡œ íƒ€ê²Ÿ ê´€ë¦¬ê°€ ë¶„ì‚°ë˜ê³ , ë„¤íŠ¸ì›Œí¬ ì¥ì•  ì‹œ ë°ì´í„° ìœ ì‹¤ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**:
```yaml
# Prometheusê°€ íƒ€ê²Ÿ ê´€ë¦¬
scrape_configs:
  - job_name: 'production'
    scrape_interval: 15s
  - job_name: 'batch'
    scrape_interval: 1m  # ë°°ì¹˜ëŠ” ëœ ìì£¼
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Pushê°€ í•„ìš”í•œ ê²½ìš°ëŠ”?
- A: ë‹¨ê¸° ì‹¤í–‰ ì‘ì—…(Batch), ë°©í™”ë²½ ë’¤ ì„œë¹„ìŠ¤ â†’ Pushgateway ì‚¬ìš©

**ì‹¤ë¬´ ì—°ê´€**
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œ ìˆ˜ë°± ê°œ ì„œë¹„ìŠ¤ë¥¼ ì¤‘ì•™ì—ì„œ í†µì œ

</details>

<details>
<summary><strong>2. Cardinality ë¬¸ì œì™€ í•´ê²° ë°©ë²•ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Cardinality: ê³ ìœ í•œ ì‹œê³„ì—´ ê°œìˆ˜
- ë†’ì€ Cardinality â†’ ë©”ëª¨ë¦¬/ë””ìŠ¤í¬ í­ì¦
- ì›ì¸: userId, requestId ê°™ì€ high-cardinality ë ˆì´ë¸”
- í•´ê²°: ë ˆì´ë¸” ìµœì†Œí™”, relabel_configsë¡œ ì œê±°

**ì˜ˆì‹œ ë‹µë³€**
> "CardinalityëŠ” ë©”íŠ¸ë¦­ê³¼ ë ˆì´ë¸” ì¡°í•©ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ê³ ìœ í•œ ì‹œê³„ì—´ì˜ ê°œìˆ˜ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ userIdë¥¼ ë ˆì´ë¸”ë¡œ ì¶”ê°€í•˜ë©´ ì‚¬ìš©ì 100ë§Œ ëª…ë‹¹ 100ë§Œ ê°œì˜ ì‹œê³„ì—´ì´ ìƒì„±ë˜ì–´ Prometheus ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•´ì§‘ë‹ˆë‹¤. í•´ê²° ë°©ë²•ì€ userId ê°™ì€ high-cardinality ë ˆì´ë¸”ì„ ì œê±°í•˜ê³ , í•„ìš”í•˜ë©´ ë¡œê·¸ë¡œ ê¸°ë¡í•˜ê±°ë‚˜ ë³„ë„ ë¶„ì„ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**:
```yaml
# âŒ ë‚˜ìœ ì˜ˆ: userId ë ˆì´ë¸” (high-cardinality)
http_requests{userId="12345"}

# âœ… ì¢‹ì€ ì˜ˆ: ì§‘ê³„ëœ ë©”íŠ¸ë¦­
http_requests{service="user", status="200"}

# relabel_configsë¡œ ë ˆì´ë¸” ì œê±°
metric_relabel_configs:
  - source_labels: [userId]
    action: labeldrop
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Cardinalityë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•ì€?
- A: `count({__name__=~".+"})`ë¡œ ì´ ì‹œê³„ì—´ ê°œìˆ˜ í™•ì¸

**ì‹¤ë¬´ ì—°ê´€**
- Cardinality í­ì¦ìœ¼ë¡œ Prometheus OOM ë°œìƒ â†’ ìš´ì˜ ì¥ì• 

</details>

<details>
<summary><strong>3. ELKì˜ ê° ì»´í¬ë„ŒíŠ¸ ì—­í• ê³¼ ë°ì´í„° íë¦„ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Filebeat: ë¡œê·¸ ìˆ˜ì§‘ (ê²½ëŸ‰ ì—ì´ì „íŠ¸)
- Logstash: íŒŒì‹±, ë³€í™˜, í•„í„°ë§
- Elasticsearch: ì¸ë±ì‹±, ì €ì¥, ê²€ìƒ‰
- Kibana: ì‹œê°í™”, ëŒ€ì‹œë³´ë“œ

**ì˜ˆì‹œ ë‹µë³€**
> "Filebeatê°€ ê° ì„œë²„/ì»¨í…Œì´ë„ˆì—ì„œ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•˜ì—¬ Logstashë¡œ ì „ì†¡í•©ë‹ˆë‹¤. LogstashëŠ” ë¡œê·¸ë¥¼ íŒŒì‹±(JSON ë³€í™˜)í•˜ê³  í•„í„°ë§(ë¶ˆí•„ìš”í•œ í•„ë“œ ì œê±°)í•œ í›„ Elasticsearchì— ì „ì†¡í•©ë‹ˆë‹¤. ElasticsearchëŠ” ë¡œê·¸ë¥¼ ì¸ë±ì‹±í•˜ì—¬ ì €ì¥í•˜ê³ , KibanaëŠ” Elasticsearchë¥¼ ë°ì´í„°ì†ŒìŠ¤ë¡œ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ë¥¼ ê²€ìƒ‰í•˜ê³  ì‹œê°í™”í•©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**:
```
[Container] â†’ stdout â†’ [Filebeat] â†’ [Logstash] â†’ [Elasticsearch] â†’ [Kibana]
  ë¡œê·¸ ì¶œë ¥      ìˆ˜ì§‘       íŒŒì‹±/ë³€í™˜      ì¸ë±ì‹±/ì €ì¥      ê²€ìƒ‰/ì‹œê°í™”

Filebeat: í‰ë¬¸ ë¡œê·¸ ì½ê¸°
Logstash: JSON íŒŒì‹±, í•„ë“œ ì¶”ì¶œ, íƒ€ì„ìŠ¤íƒ¬í”„ ì •ê·œí™”
Elasticsearch: ì¸ë±ìŠ¤ lktrade-logs-2024.01.01ì— ì €ì¥
Kibana: "error" í‚¤ì›Œë“œë¡œ ê²€ìƒ‰
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Logstashë¥¼ ê±´ë„ˆë›°ê³  Filebeat â†’ Elasticsearch ì§ì ‘ ì „ì†¡ ê°€ëŠ¥í•œê°€ìš”?
- A: ê°€ëŠ¥í•˜ì§€ë§Œ ë³µì¡í•œ íŒŒì‹±ì€ ì–´ë µê³ , Logstashì˜ í’ë¶€í•œ í•„í„° ê¸°ëŠ¥ ì‚¬ìš© ë¶ˆê°€

**ì‹¤ë¬´ ì—°ê´€**
- ëŒ€ê·œëª¨ í™˜ê²½ì—ì„œëŠ” Kafkaë¥¼ ì¤‘ê°„ì— ë‘ì–´ ë²„í¼ë§ (ì•ˆì •ì„± í–¥ìƒ)

</details>

<details>
<summary><strong>4. ë¶„ì‚° ì¶”ì (Distributed Tracing)ê³¼ ëª¨ë‹ˆí„°ë§/ë¡œê¹…ì˜ ê´€ê³„ëŠ”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ëª¨ë‹ˆí„°ë§: ê° ì„œë¹„ìŠ¤ì˜ ìƒíƒœ (ê°œë³„ ì )
- ë¡œê¹…: ê° ì„œë¹„ìŠ¤ì˜ ì´ë²¤íŠ¸ (ê°œë³„ ì„ )
- ë¶„ì‚° ì¶”ì : ìš”ì²­ì˜ ì „ì²´ íë¦„ (ì—°ê²°ëœ ì„ )
- TraceIDë¡œ ì—°ê²°

**ì˜ˆì‹œ ë‹µë³€**
> "ëª¨ë‹ˆí„°ë§ì€ ê° ì„œë¹„ìŠ¤ì˜ CPU, ë©”ëª¨ë¦¬ë¥¼ ê°œë³„ì ìœ¼ë¡œ ì¶”ì í•˜ê³ , ë¡œê¹…ì€ ê° ì„œë¹„ìŠ¤ì˜ ë¡œê·¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œëŠ” í•˜ë‚˜ì˜ ìš”ì²­ì´ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ ê±°ì¹˜ë¯€ë¡œ, ë¶„ì‚° ì¶”ì ìœ¼ë¡œ ì „ì²´ íë¦„ì„ íŒŒì•…í•´ì•¼ í•©ë‹ˆë‹¤. TraceIDë¥¼ ëª¨ë“  ë¡œê·¸ì— í¬í•¨ì‹œí‚¤ë©´ Kibanaì—ì„œ TraceIDë¡œ ê²€ìƒ‰í•˜ì—¬ ìš”ì²­ì˜ ì „ì²´ ì—¬ì •ì„ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**:
```
ì‚¬ìš©ì ìš”ì²­ (TraceID: abc123)
  â†“
API Gateway (TraceID: abc123, SpanID: 1)
  â†“
User Service (TraceID: abc123, SpanID: 2)
  â†“
Account Service (TraceID: abc123, SpanID: 3)

Kibana ê²€ìƒ‰: TraceID:abc123
â†’ ì „ì²´ ë¡œê·¸ í•œ ë²ˆì— ì¡°íšŒ
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ë¶„ì‚° ì¶”ì  ë„êµ¬ëŠ”?
- A: Jaeger, Zipkin, OpenTelemetry

**ì‹¤ë¬´ ì—°ê´€**
- TraceID ì—†ìœ¼ë©´ ì¥ì•  ì›ì¸ ì°¾ëŠ”ë° ëª‡ ì‹œê°„ ì†Œìš”, ìˆìœ¼ë©´ ëª‡ ë¶„

</details>

<details>
<summary><strong>5. Prometheus Recording Ruleê³¼ Alert Ruleì˜ ì°¨ì´ì™€ í™œìš©ë²•ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Recording Rule: ìì£¼ ì“°ëŠ” ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë¯¸ë¦¬ ê³„ì‚°í•˜ì—¬ ì €ì¥
- Alert Rule: ì¡°ê±´ ë§Œì¡± ì‹œ ì•Œë¦¼ ë°œì†¡
- Recording Ruleë¡œ ì„±ëŠ¥ ìµœì í™”, Alert Ruleë¡œ ì¥ì•  ëŒ€ì‘

**ì˜ˆì‹œ ë‹µë³€**
> "Recording Ruleì€ ë³µì¡í•œ PromQL ì¿¼ë¦¬ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ë¥¼ ìƒˆ ë©”íŠ¸ë¦­ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ P95 ì‘ë‹µ ì‹œê°„ì„ ë§¤ë²ˆ ê³„ì‚°í•˜ëŠ” ëŒ€ì‹  Recording Ruleë¡œ ë¯¸ë¦¬ ê³„ì‚°í•˜ì—¬ Grafana ë¡œë”© ì†ë„ë¥¼ ë†’ì…ë‹ˆë‹¤. Alert Ruleì€ íŠ¹ì • ì¡°ê±´(ì˜ˆ: CPU > 80%)ì„ ë§Œì¡±í•˜ë©´ Alertmanagerì— ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**:
```yaml
# Recording Rule: ìì£¼ ì“°ëŠ” ì¿¼ë¦¬ ì‚¬ì „ ê³„ì‚°
groups:
  - name: performance
    interval: 30s
    rules:
      - record: job:http_requests:rate5m
        expr: rate(http_requests_total[5m])

      - record: job:http_latency:p95
        expr: histogram_quantile(0.95, rate(http_duration_bucket[5m]))

# Alert Rule: ì¡°ê±´ ë§Œì¡± ì‹œ ì•Œë¦¼
      - alert: HighLatency
        expr: job:http_latency:p95 > 1
        for: 5m
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Recording Ruleì˜ ë‹¨ì ì€?
- A: ì €ì¥ ê³µê°„ ì¦ê°€, ì‹¤ì‹œê°„ì„± ì•½ê°„ ê°ì†Œ (interval ë§Œí¼ ì§€ì—°)

**ì‹¤ë¬´ ì—°ê´€**
- ë³µì¡í•œ ëŒ€ì‹œë³´ë“œëŠ” Recording Ruleë¡œ ì„±ëŠ¥ ìµœì í™” í•„ìˆ˜

</details>

---

## ğŸ“ í•µì‹¬ ì •ë¦¬

### ì´ ì¥ì—ì„œ ë°°ìš´ í•µì‹¬ ê°œë…

| ê°œë… | ì„¤ëª… | í•µì‹¬ í‚¤ì›Œë“œ |
|------|------|-------------|
| Prometheus | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ì‹œê³„ì—´ DB | Pull ë°©ì‹, PromQL, ì•Œë¦¼ ê·œì¹™ |
| Grafana | ë©”íŠ¸ë¦­ ì‹œê°í™” ë„êµ¬ | ëŒ€ì‹œë³´ë“œ, ê·¸ë˜í”„, ì—¬ëŸ¬ ë°ì´í„°ì†ŒìŠ¤ |
| Alertmanager | ì•Œë¦¼ ì²˜ë¦¬ ë° ì „ì†¡ | ì¤‘ë³µ ì œê±°, ê·¸ë£¹í™”, ë¼ìš°íŒ… |
| ELK Stack | ë¡œê·¸ ìˆ˜ì§‘/ë¶„ì„ ì‹œìŠ¤í…œ | Filebeat, Logstash, Elasticsearch, Kibana |
| 4 Golden Signals | í•µì‹¬ ëª¨ë‹ˆí„°ë§ ì§€í‘œ | Latency, Traffic, Errors, Saturation |
| PromQL | Prometheus ì¿¼ë¦¬ ì–¸ì–´ | rate(), sum(), histogram_quantile() |
| Cardinality | ê³ ìœ  ì‹œê³„ì—´ ê°œìˆ˜ | ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰, ë ˆì´ë¸” ìµœì†Œí™” |
| ë¶„ì‚° ì¶”ì  | ìš”ì²­ ì „ì²´ íë¦„ ì¶”ì  | TraceID, SpanID |

### í•„ìˆ˜ ëª…ë ¹ì–´/ì½”ë“œ ì •ë¦¬

| ëª…ë ¹ì–´/ì½”ë“œ | ìš©ë„ | ì˜ˆì‹œ |
|-------------|------|------|
| `docker compose --profile monitoring up -d` | ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ ì‹¤í–‰ | Prometheus + Grafana ì‹œì‘ |
| `http://localhost:9090/targets` | Prometheus íƒ€ê²Ÿ í™•ì¸ | ìŠ¤í¬ë˜í•‘ ìƒíƒœ ì ê²€ |
| `rate(http_requests[5m])` | 5ë¶„ê°„ ì´ˆë‹¹ ìš”ì²­ ìˆ˜ | PromQL ê¸°ë³¸ ì¿¼ë¦¬ |
| `histogram_quantile(0.95, ...)` | P95 ì‘ë‹µ ì‹œê°„ | ì„±ëŠ¥ ë¶„ì„ |
| `curl http://service:8081/actuator/prometheus` | ë©”íŠ¸ë¦­ ì§ì ‘ í™•ì¸ | ë””ë²„ê¹… |
| Kibana: `level:ERROR` | ì—ëŸ¬ ë¡œê·¸ ê²€ìƒ‰ | ì¥ì•  ë¶„ì„ |
| Logstash JSON íŒŒì‹± | êµ¬ì¡°í™”ëœ ë¡œê·¸ | í•„ë“œë³„ ê²€ìƒ‰ |

### ì‹¤ë¬´ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

#### âœ… í•´ì•¼ í•  ê²ƒ
- [ ] 4 Golden Signalsë¥¼ ëŒ€ì‹œë³´ë“œ ì²« í™”ë©´ì— ë°°ì¹˜
- [ ] ì•Œë¦¼ ê·œì¹™ì— `for` ì‹œê°„ì„ ì„¤ì •í•˜ì—¬ ì¼ì‹œì  ìŠ¤íŒŒì´í¬ ë¬´ì‹œ
- [ ] ë¡œê·¸ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•˜ì—¬ êµ¬ì¡°í™”
- [ ] TraceIDë¥¼ ëª¨ë“  ë¡œê·¸ì— í¬í•¨í•˜ì—¬ ë¶„ì‚° ì¶”ì  ê°€ëŠ¥í•˜ê²Œ
- [ ] Recording Ruleë¡œ ë³µì¡í•œ ì¿¼ë¦¬ ì‚¬ì „ ê³„ì‚°
- [ ] ì‹¬ê°ë„ë³„(info/warning/critical) ì•Œë¦¼ ì±„ë„ ë¶„ë¦¬
- [ ] Prometheus íƒ€ê²Ÿ ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì ê²€

#### âŒ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ
- [ ] userId ê°™ì€ high-cardinality ë ˆì´ë¸” ì‚¬ìš©
- [ ] ëª¨ë“  ì•Œë¦¼ì„ criticalë¡œ ì„¤ì • (Alert Fatigue)
- [ ] í‰ë¬¸ ë¡œê·¸ë§Œ ì‚¬ìš© (ê²€ìƒ‰/ë¶„ì„ ì–´ë ¤ì›€)
- [ ] ë¡œê·¸ë¥¼ ë¬´í•œì • ë³´ê´€ (ë””ìŠ¤í¬ ë¶€ì¡±)
- [ ] scrape_intervalì„ ë„ˆë¬´ ì§§ê²Œ ì„¤ì • (ë¦¬ì†ŒìŠ¤ ë‚­ë¹„)
- [ ] ì•Œë¦¼ í…ŒìŠ¤íŠ¸ ì—†ì´ í”„ë¡œë•ì…˜ ë°°í¬
- [ ] Grafana ëŒ€ì‹œë³´ë“œë¥¼ ì½”ë“œë¡œ ê´€ë¦¬ ì•ˆ í•¨ (ìˆ˜ë™ ë³µì› ë¶ˆê°€)

### ì„±ëŠ¥/ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ì„±ëŠ¥
- [ ] Prometheus Cardinality ëª¨ë‹ˆí„°ë§ (`count({__name__=~".+"})`)
- [ ] Elasticsearch ì¸ë±ìŠ¤ ìˆ˜ëª… ì£¼ê¸° ì„¤ì • (ILM)
- [ ] Recording Ruleë¡œ ë³µì¡í•œ ì¿¼ë¦¬ ìµœì í™”
- [ ] Grafana ëŒ€ì‹œë³´ë“œ ì¿¼ë¦¬ ì‹œê°„ í™•ì¸ (< 5ì´ˆ)
- [ ] ë¡œê·¸ ìƒ˜í”Œë§ ì ìš© (ê³ íŠ¸ë˜í”½ ì‹œ)

#### ë³´ì•ˆ
- [ ] Grafana ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- [ ] Prometheus /metrics ì—”ë“œí¬ì¸íŠ¸ ì¸ì¦ ì ìš©
- [ ] Elasticsearch ë³´ì•ˆ í™œì„±í™” (X-Pack)
- [ ] ë¯¼ê° ì •ë³´(ë¹„ë°€ë²ˆí˜¸, í† í°) ë¡œê·¸ì—ì„œ ë§ˆìŠ¤í‚¹
- [ ] ì•Œë¦¼ ì±„ë„(Slack Webhook) í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬

---

## ğŸ”— ê´€ë ¨ ê¸°ìˆ 

**ì´ ê¸°ìˆ ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ë“¤**

| ê¸°ìˆ  | ê´€ê³„ | í•™ìŠµ ìš°ì„ ìˆœìœ„ |
|------|------|---------------|
| Jaeger / Zipkin | ë¶„ì‚° ì¶”ì , TraceIDë¡œ ì—°ë™ | â­â­â­ |
| OpenTelemetry | í†µí•© ê´€ì¸¡ì„±, í‘œì¤€ ìˆ˜ì§‘ | â­â­â­ |
| Loki | Grafana ë¡œê·¸ ì‹œìŠ¤í…œ, ELK ëŒ€ì•ˆ | â­â­ |
| VictoriaMetrics | Prometheus í˜¸í™˜ ê²½ëŸ‰ DB | â­â­ |
| Thanos | Prometheus ì¥ê¸° ì €ì¥ì†Œ | â­â­ |
| Fluentd | ë¡œê·¸ ìˆ˜ì§‘ê¸°, Filebeat ëŒ€ì•ˆ | â­â­ |
| Kafka | ë¡œê·¸ ë²„í¼ë§, ëŒ€ê·œëª¨ í™˜ê²½ | â­â­â­ |

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ë‹¤ìŒ ì¥ ë¯¸ë¦¬ë³´ê¸°: 18ì¥ - CI/CD íŒŒì´í”„ë¼ì¸

Docker ëª¨ë‹ˆí„°ë§/ë¡œê¹…ì„ êµ¬ì¶•í–ˆìœ¼ë‹ˆ, ì´ì œ ìë™ ë°°í¬ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤!

**ë°°ìš¸ ë‚´ìš©**:
- **GitHub Actions**: Docker ì´ë¯¸ì§€ ìë™ ë¹Œë“œ/í‘¸ì‹œ
- **GitLab CI**: ë©€í‹° ìŠ¤í…Œì´ì§€ íŒŒì´í”„ë¼ì¸
- **Blue-Green ë°°í¬**: ë¬´ì¤‘ë‹¨ ë°°í¬ ì „ëµ
- **ì¹´ë‚˜ë¦¬ ë°°í¬**: ì ì§„ì  íŠ¸ë˜í”½ ì „í™˜
- **ì‹¤ì „ í”„ë¡œì íŠ¸**: LK-Trade ì „ì²´ CI/CD êµ¬ì¶•

### ì´ ì¥ê³¼ì˜ ì—°ê²°ì 
```
17ì¥: ëª¨ë‹ˆí„°ë§/ë¡œê¹…ìœ¼ë¡œ ì‹œìŠ¤í…œ ìƒíƒœ íŒŒì•…
    â†“
18ì¥: CI/CDë¡œ ìë™ ë°°í¬ + ë°°í¬ ëª¨ë‹ˆí„°ë§
    â†“
19ì¥: í”„ë¡œë•ì…˜ ë°°í¬ ì „ëµ (ë³´ì•ˆ, ìµœì í™”)
    â†“
ìµœì¢…: ì™„ì „ ìë™í™”ëœ í”„ë¡œë•ì…˜ ì‹œìŠ¤í…œ
```

### ì¤€ë¹„í•˜ë©´ ì¢‹ì„ ê²ƒë“¤
```bash
# GitHub ê³„ì • ìƒì„± ë° Personal Access Token ë°œê¸‰
# Docker Hub ê³„ì • ìƒì„±

# GitHub Actions ê¸°ë³¸ ê°œë… ë¯¸ë¦¬ ë³´ê¸°
https://docs.github.com/en/actions

# ë‹¤ìŒ ì¥ì—ì„œ ë°”ë¡œ ì‹¤ìŠµí•  ìˆ˜ ìˆë„ë¡ í™˜ê²½ ì¤€ë¹„
git init
git remote add origin <your-repo-url>
```

---

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [Prometheus ê³µì‹ ë¬¸ì„œ](https://prometheus.io/docs/)
- [Grafana ëŒ€ì‹œë³´ë“œ ê°¤ëŸ¬ë¦¬](https://grafana.com/grafana/dashboards/)
- [Elastic Stack ê°€ì´ë“œ](https://www.elastic.co/guide/index.html)
- [PromQL ì¹˜íŠ¸ì‹œíŠ¸](https://promlabs.com/promql-cheat-sheet/)

### ì¶”ì²œ ë¸”ë¡œê·¸/ì•„í‹°í´
- [Google SRE Book - Monitoring](https://sre.google/sre-book/monitoring-distributed-systems/)
- [Prometheus Best Practices (í•œê¸€)](https://blog.naver.com/prometheus-best-practices)
- [ELK ì„±ëŠ¥ íŠœë‹ ê°€ì´ë“œ](https://www.elastic.co/guide/en/elasticsearch/reference/current/tune-for-indexing-speed.html)

### ì˜ìƒ ê°•ì˜
- [Prometheus & Grafana ì™„ë²½ ê°€ì´ë“œ (ìœ íŠœë¸Œ)](https://www.youtube.com/watch?v=prometheus-tutorial)
- [ELK Stack ì‹¤ì „ í™œìš© (ì¸í”„ëŸ°)](https://www.inflearn.com/course/elk-stack)

### ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸
- [Awesome Prometheus](https://github.com/roaldnefs/awesome-prometheus)
- [Grafana ëŒ€ì‹œë³´ë“œ ì˜ˆì œ ëª¨ìŒ](https://github.com/grafana/grafana-dashboards)

---

## ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!

**17ì¥ "ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…"ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!**

**ì´ì œ ì—¬ëŸ¬ë¶„ì€**:
âœ… Prometheus + Grafanaë¡œ ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ì„ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ELK ìŠ¤íƒìœ¼ë¡œ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•˜ê³  ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… 4 Golden Signalsë¥¼ ì´í•´í•˜ê³  ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… Alertmanagerë¡œ ì¥ì•  ì•Œë¦¼ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… PromQLë¡œ ë³µì¡í•œ ë©”íŠ¸ë¦­ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… Cardinality ë¬¸ì œë¥¼ ì´í•´í•˜ê³  ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
âœ… ë¶„ì‚° ì¶”ì (TraceID)ìœ¼ë¡œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë””ë²„ê¹…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

**ë‹¤ìŒ ë‹¨ê³„**:
- [ ] 18ì¥ "CI/CD íŒŒì´í”„ë¼ì¸"ìœ¼ë¡œ ì§„í–‰í•˜ì—¬ ìë™ ë°°í¬ ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] ì‹¤ì „ í”„ë¡œì íŠ¸: í˜„ì¬ í”„ë¡œì íŠ¸ì— ëª¨ë‹ˆí„°ë§/ë¡œê¹… ì ìš©
- [ ] ë©´ì ‘ ì§ˆë¬¸ ë³µìŠµí•˜ì—¬ ì´ë¡  ë‹¤ì§€ê¸°
- [ ] Grafana ëŒ€ì‹œë³´ë“œë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ì—¬ ì‹¤ë¬´ ê°ê° ìµíˆê¸°

**ì‹¤ë¬´ íŒ**:
ğŸ’¡ ëª¨ë‹ˆí„°ë§ì€ "êµ¬ì¶•"ë³´ë‹¤ "ìš´ì˜"ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì•Œë¦¼ ê·œì¹™ì„ ì§€ì†ì ìœ¼ë¡œ íŠœë‹í•˜ê³ , ëŒ€ì‹œë³´ë“œë¥¼ íŒ€ì— ë§ê²Œ ê°œì„ í•˜ì„¸ìš”!

---

**ë‹¤ìŒ ì¥ìœ¼ë¡œ ì´ë™**: [ë‹¤ìŒ: 18ì¥ CI/CD íŒŒì´í”„ë¼ì¸ â†’](18-ci-cd.md)

**ì´ì „ ì¥ìœ¼ë¡œ ëŒì•„ê°€ê¸°**: [â† ì´ì „: 16ì¥ Docker Swarm](16-docker-swarm.md)

**ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°**: [ğŸ“š ì „ì²´ ëª©ì°¨](README.md)