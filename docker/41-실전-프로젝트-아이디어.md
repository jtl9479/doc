# ì„¹ì…˜ 41: ì‹¤ì „ í”„ë¡œì íŠ¸ ì•„ì´ë””ì–´

## ğŸš€ ì‹¤ì „ì´ ìµœê³ ì˜ í•™ìŠµì…ë‹ˆë‹¤

> "I hear and I forget. I see and I remember. I do and I understand." - ê³µì

Dockerë¥¼ ë°°ì› ë‹¤ë©´, ì´ì œ ì§ì ‘ ë§Œë“¤ì–´ë³´ì„¸ìš”! ì´ ì„¹ì…˜ì—ì„œëŠ” ë‚œì´ë„ë³„, ëª©ì ë³„ ì‹¤ì „ í”„ë¡œì íŠ¸ ì•„ì´ë””ì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸ“Š í”„ë¡œì íŠ¸ ë‚œì´ë„ ê°€ì´ë“œ

```
ì…ë¬¸ (â­)
- 2-3ì¼ ì†Œìš”
- ê¸°ë³¸ ê°œë… ì ìš©
- ë‹¨ì¼ ì„œë¹„ìŠ¤

ì´ˆê¸‰ (â­â­)
- 1ì£¼ì¼ ì†Œìš”
- Docker Compose ì‚¬ìš©
- 2-3ê°œ ì„œë¹„ìŠ¤

ì¤‘ê¸‰ (â­â­â­)
- 2-3ì£¼ ì†Œìš”
- CI/CD íŒŒì´í”„ë¼ì¸
- 5ê°œ ì´ìƒ ì„œë¹„ìŠ¤

ê³ ê¸‰ (â­â­â­â­)
- 1-2ê°œì›” ì†Œìš”
- ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- í”„ë¡œë•ì…˜ ë°°í¬

ì „ë¬¸ê°€ (â­â­â­â­â­)
- 3ê°œì›” ì´ìƒ
- ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ
- ê³ ê°€ìš©ì„± ì„¤ê³„
```

---

## ğŸ¯ í”„ë¡œì íŠ¸ 1: ê°œì¸ ë¸”ë¡œê·¸ í”Œë«í¼ (â­â­)

### í”„ë¡œì íŠ¸ ê°œìš”

```
ëª©í‘œ: ê°œì¸ ë¸”ë¡œê·¸ í”Œë«í¼ì„ Dockerë¡œ êµ¬ì¶•

í•™ìŠµ ëª©í‘œ:
âœ… ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜
âœ… ë°ì´í„° ì˜ì†ì„± ê´€ë¦¬
âœ… ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •
âœ… ê¸°ë³¸ CI/CD
```

### ê¸°ìˆ  ìŠ¤íƒ

```yaml
Frontend:
  - React (Vite)
  - Tailwind CSS

Backend:
  - Node.js + Express
  - Prisma ORM

Database:
  - PostgreSQL 16

Cache:
  - Redis

Search:
  - Elasticsearch (ì„ íƒ)

Reverse Proxy:
  - Nginx

Monitoring:
  - Grafana + Prometheus
```

### í”„ë¡œì íŠ¸ êµ¬ì¡°

```
personal-blog/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env.example
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ nginx.conf
â”‚   â””â”€â”€ src/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ src/
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf
â””â”€â”€ scripts/
    â”œâ”€â”€ backup.sh
    â””â”€â”€ deploy.sh
```

### docker-compose.yml

```yaml
version: '3.8'

services:
  # Frontend (React)
  frontend:
    build:
      context: ./frontend
      target: production
    container_name: blog-frontend
    depends_on:
      - backend
    networks:
      - frontend-network

  # Backend (Node.js)
  backend:
    build:
      context: ./backend
    container_name: blog-backend
    environment:
      - DATABASE_URL=postgresql://blog:password@postgres:5432/blogdb
      - REDIS_URL=redis://redis:6379
      - JWT_SECRET=${JWT_SECRET}
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy
    networks:
      - frontend-network
      - backend-network
    volumes:
      - ./uploads:/app/uploads

  # PostgreSQL
  postgres:
    image: postgres:16-alpine
    container_name: blog-postgres
    environment:
      POSTGRES_DB: blogdb
      POSTGRES_USER: blog
      POSTGRES_PASSWORD: password
    volumes:
      - postgres-data:/var/lib/postgresql/data
    networks:
      - backend-network
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U blog"]
      interval: 10s
      timeout: 5s
      retries: 5

  # Redis Cache
  redis:
    image: redis:alpine
    container_name: blog-redis
    networks:
      - backend-network
    volumes:
      - redis-data:/data
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 3s
      retries: 5

  # Nginx Reverse Proxy
  nginx:
    image: nginx:alpine
    container_name: blog-nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
      - ./ssl:/etc/nginx/ssl:ro
    depends_on:
      - frontend
      - backend
    networks:
      - frontend-network

  # Elasticsearch (Optional)
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.11.0
    container_name: blog-elasticsearch
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
      - xpack.security.enabled=false
    volumes:
      - elasticsearch-data:/usr/share/elasticsearch/data
    networks:
      - backend-network
    profiles:
      - with-search

volumes:
  postgres-data:
  redis-data:
  elasticsearch-data:

networks:
  frontend-network:
  backend-network:
```

### êµ¬í˜„ ë‹¨ê³„

```
Phase 1: ê¸°ë³¸ êµ¬ì„± (1-2ì¼)
  âœ… Docker Compose ì„¤ì •
  âœ… ê° ì„œë¹„ìŠ¤ Dockerfile ì‘ì„±
  âœ… ë¡œì»¬ì—ì„œ ì‹¤í–‰ í™•ì¸

Phase 2: ê¸°ëŠ¥ êµ¬í˜„ (3-4ì¼)
  âœ… ì‚¬ìš©ì ì¸ì¦ (JWT)
  âœ… í¬ìŠ¤íŠ¸ CRUD
  âœ… ëŒ“ê¸€ ê¸°ëŠ¥
  âœ… ì´ë¯¸ì§€ ì—…ë¡œë“œ

Phase 3: ìµœì í™” (1-2ì¼)
  âœ… Redis ìºì‹± ì ìš©
  âœ… Nginx ì„¤ì • ìµœì í™”
  âœ… ì´ë¯¸ì§€ ìµœì í™”
  âœ… ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

Phase 4: ë°°í¬ (1ì¼)
  âœ… GitHub Actions CI/CD
  âœ… Docker Hub í‘¸ì‹œ
  âœ… í´ë¼ìš°ë“œ ë°°í¬ (AWS/GCP)
```

### ë„ì „ ê³¼ì œ

```
â­ ê¸°ë³¸:
  - ë§ˆí¬ë‹¤ìš´ ì—ë””í„° ì¶”ê°€
  - íƒœê·¸ ë° ì¹´í…Œê³ ë¦¬ ê¸°ëŠ¥

â­â­ ì¤‘ê¸‰:
  - Elasticsearchë¡œ ì „ì²´ ê²€ìƒ‰
  - ëŒ“ê¸€ ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket)
  - ì†Œì…œ ë¡œê·¸ì¸ (OAuth)

â­â­â­ ê³ ê¸‰:
  - CDN í†µí•©
  - ì´ë¯¸ì§€ ìë™ ìµœì í™”
  - ë‹¤êµ­ì–´ ì§€ì›
```

---

## ğŸ¯ í”„ë¡œì íŠ¸ 2: E-Commerce ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (â­â­â­â­)

### í”„ë¡œì íŠ¸ ê°œìš”

```
ëª©í‘œ: í™•ì¥ ê°€ëŠ¥í•œ ì´ì»¤ë¨¸ìŠ¤ í”Œë«í¼

í•™ìŠµ ëª©í‘œ:
âœ… ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜
âœ… ì„œë¹„ìŠ¤ ê°„ í†µì‹  (REST, gRPC)
âœ… ì´ë²¤íŠ¸ ë“œë¦¬ë¸ ì•„í‚¤í…ì²˜
âœ… API Gateway íŒ¨í„´
âœ… ë¶„ì‚° íŠ¸ë ˆì´ì‹±
```

### ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           API Gateway (Kong)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚          â”‚          â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ User  â”‚  â”‚Productâ”‚ â”‚Order â”‚  â”‚Payment â”‚
â”‚Serviceâ”‚  â”‚Serviceâ”‚ â”‚Serviceâ”‚ â”‚Service â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚         â”‚         â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚User DB â”‚â”‚Prod DBâ”‚â”‚Order DBâ”‚â”‚Payment  â”‚
â”‚(Postgreâ”‚â”‚(Mongo)â”‚â”‚(Postgreâ”‚â”‚Service  â”‚
â”‚  SQL)  â”‚â”‚       â”‚â”‚  SQL)  â”‚â”‚(Stripe) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì„œë¹„ìŠ¤ ìƒì„¸

#### 1. User Service (ì‚¬ìš©ì ê´€ë¦¬)

```kotlin
// UserService.kt
@RestController
@RequestMapping("/api/users")
class UserController(
    private val userService: UserService,
    private val kafkaTemplate: KafkaTemplate<String, UserEvent>
) {

    @PostMapping("/register")
    fun register(@RequestBody request: RegisterRequest): User {
        val user = userService.createUser(request)

        // Event ë°œí–‰
        kafkaTemplate.send("user.created", UserEvent(
            userId = user.id,
            email = user.email,
            timestamp = Instant.now()
        ))

        return user
    }

    @GetMapping("/{id}")
    fun getUser(@PathVariable id: Long): User {
        return userService.findById(id)
    }
}
```

```dockerfile
# Dockerfile
FROM gradle:8.5-jdk17 AS builder
WORKDIR /app
COPY . .
RUN gradle build --no-daemon

FROM eclipse-temurin:17-jre-alpine
WORKDIR /app
COPY --from=builder /app/build/libs/*.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "app.jar"]
```

#### 2. Product Service (ìƒí’ˆ ê´€ë¦¬)

```javascript
// productService.js
const express = require('express');
const mongoose = require('mongoose');
const redis = require('redis');

const router = express.Router();
const redisClient = redis.createClient({ url: process.env.REDIS_URL });

// ìƒí’ˆ ì¡°íšŒ (ìºì‹œ ì ìš©)
router.get('/:id', async (req, res) => {
    const { id } = req.params;
    const cacheKey = `product:${id}`;

    try {
        // 1. ìºì‹œ í™•ì¸
        const cached = await redisClient.get(cacheKey);
        if (cached) {
            return res.json(JSON.parse(cached));
        }

        // 2. DB ì¡°íšŒ
        const product = await Product.findById(id);

        // 3. ìºì‹œ ì €ì¥
        await redisClient.setEx(cacheKey, 3600, JSON.stringify(product));

        res.json(product);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

// ìƒí’ˆ ìƒì„±
router.post('/', async (req, res) => {
    const product = new Product(req.body);
    await product.save();

    // Elasticsearch ì¸ë±ì‹±
    await indexProduct(product);

    res.status(201).json(product);
});

module.exports = router;
```

#### 3. Order Service (ì£¼ë¬¸ ê´€ë¦¬)

```python
# order_service.py
from flask import Flask, request, jsonify
from sqlalchemy import create_engine
from kafka import KafkaProducer
import requests
import json

app = Flask(__name__)
producer = KafkaProducer(
    bootstrap_servers='kafka:9092',
    value_serializer=lambda v: json.dumps(v).encode('utf-8')
)

@app.route('/api/orders', methods=['POST'])
def create_order():
    data = request.get_json()

    # 1. ì¬ê³  í™•ì¸ (Product Service)
    product_response = requests.get(
        f"http://product-service:8080/api/products/{data['productId']}"
    )

    if product_response.status_code != 200:
        return jsonify({"error": "Product not found"}), 404

    product = product_response.json()

    if product['stock'] < data['quantity']:
        return jsonify({"error": "Insufficient stock"}), 400

    # 2. ì£¼ë¬¸ ìƒì„±
    order = Order(
        user_id=data['userId'],
        product_id=data['productId'],
        quantity=data['quantity'],
        total_price=product['price'] * data['quantity'],
        status='pending'
    )
    db.session.add(order)
    db.session.commit()

    # 3. ì´ë²¤íŠ¸ ë°œí–‰
    producer.send('order.created', {
        'orderId': order.id,
        'userId': order.user_id,
        'totalPrice': order.total_price,
        'timestamp': order.created_at.isoformat()
    })

    return jsonify({
        'orderId': order.id,
        'status': order.status
    }), 201

@app.route('/api/orders/<int:order_id>', methods=['GET'])
def get_order(order_id):
    order = Order.query.get_or_404(order_id)
    return jsonify(order.to_dict())

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8080)
```

#### 4. Payment Service (ê²°ì œ)

```go
// payment_service.go
package main

import (
    "github.com/gin-gonic/gin"
    "github.com/stripe/stripe-go/v76"
    "github.com/stripe/stripe-go/v76/paymentintent"
)

type PaymentRequest struct {
    OrderID int64  `json:"orderId"`
    Amount  int64  `json:"amount"`
    Currency string `json:"currency"`
}

func main() {
    stripe.Key = os.Getenv("STRIPE_SECRET_KEY")

    r := gin.Default()

    r.POST("/api/payments", func(c *gin.Context) {
        var req PaymentRequest
        if err := c.ShouldBindJSON(&req); err != nil {
            c.JSON(400, gin.H{"error": err.Error()})
            return
        }

        // Stripe Payment Intent ìƒì„±
        params := &stripe.PaymentIntentParams{
            Amount:   stripe.Int64(req.Amount),
            Currency: stripe.String(req.Currency),
            Metadata: map[string]string{
                "order_id": fmt.Sprintf("%d", req.OrderID),
            },
        }

        pi, err := paymentintent.New(params)
        if err != nil {
            c.JSON(500, gin.H{"error": err.Error()})
            return
        }

        // Kafka ì´ë²¤íŠ¸ ë°œí–‰
        publishPaymentEvent("payment.completed", pi)

        c.JSON(200, gin.H{
            "paymentIntentId": pi.ID,
            "status": pi.Status,
        })
    })

    r.Run(":8080")
}
```

### docker-compose.yml (ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤)

```yaml
version: '3.8'

services:
  # API Gateway
  kong:
    image: kong:3.5-alpine
    environment:
      KONG_DATABASE: postgres
      KONG_PG_HOST: kong-db
      KONG_PG_USER: kong
      KONG_PG_PASSWORD: kong
    ports:
      - "8000:8000"  # Proxy
      - "8001:8001"  # Admin API
    depends_on:
      - kong-db
    networks:
      - microservices

  kong-db:
    image: postgres:16-alpine
    environment:
      POSTGRES_USER: kong
      POSTGRES_DB: kong
      POSTGRES_PASSWORD: kong
    volumes:
      - kong-db-data:/var/lib/postgresql/data
    networks:
      - microservices

  # User Service
  user-service:
    build: ./services/user-service
    environment:
      DATABASE_URL: postgresql://postgres:password@user-db:5432/userdb
      KAFKA_BROKERS: kafka:9092
    depends_on:
      - user-db
      - kafka
    networks:
      - microservices

  user-db:
    image: postgres:16-alpine
    environment:
      POSTGRES_DB: userdb
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: password
    volumes:
      - user-db-data:/var/lib/postgresql/data
    networks:
      - microservices

  # Product Service
  product-service:
    build: ./services/product-service
    environment:
      MONGODB_URI: mongodb://product-db:27017/productdb
      REDIS_URL: redis://redis:6379
      KAFKA_BROKERS: kafka:9092
    depends_on:
      - product-db
      - redis
      - kafka
    networks:
      - microservices

  product-db:
    image: mongo:7
    volumes:
      - product-db-data:/data/db
    networks:
      - microservices

  # Order Service
  order-service:
    build: ./services/order-service
    environment:
      DATABASE_URL: postgresql://postgres:password@order-db:5432/orderdb
      KAFKA_BROKERS: kafka:9092
    depends_on:
      - order-db
      - kafka
    networks:
      - microservices

  order-db:
    image: postgres:16-alpine
    environment:
      POSTGRES_DB: orderdb
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: password
    volumes:
      - order-db-data:/var/lib/postgresql/data
    networks:
      - microservices

  # Payment Service
  payment-service:
    build: ./services/payment-service
    environment:
      STRIPE_SECRET_KEY: ${STRIPE_SECRET_KEY}
      KAFKA_BROKERS: kafka:9092
    depends_on:
      - kafka
    networks:
      - microservices

  # Kafka
  zookeeper:
    image: confluentinc/cp-zookeeper:7.5.0
    environment:
      ZOOKEEPER_CLIENT_PORT: 2181
    networks:
      - microservices

  kafka:
    image: confluentinc/cp-kafka:7.5.0
    depends_on:
      - zookeeper
    environment:
      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181
      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092
      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1
    networks:
      - microservices

  # Redis (Shared Cache)
  redis:
    image: redis:alpine
    networks:
      - microservices

  # Jaeger (Distributed Tracing)
  jaeger:
    image: jaegertracing/all-in-one:latest
    ports:
      - "16686:16686"  # UI
      - "14268:14268"  # Collector
    networks:
      - microservices

volumes:
  kong-db-data:
  user-db-data:
  product-db-data:
  order-db-data:

networks:
  microservices:
    driver: bridge
```

### êµ¬í˜„ ë‹¨ê³„

```
Phase 1: ê¸°ë³¸ ì„œë¹„ìŠ¤ (1ì£¼)
  âœ… User Service (ì¸ì¦/ì¸ê°€)
  âœ… Product Service (ìƒí’ˆ CRUD)
  âœ… ê° ì„œë¹„ìŠ¤ ë…ë¦½ ì‹¤í–‰ í™•ì¸

Phase 2: í†µì‹  êµ¬í˜„ (1ì£¼)
  âœ… API Gateway ì„¤ì • (Kong)
  âœ… ì„œë¹„ìŠ¤ ê°„ REST í†µì‹ 
  âœ… ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„

Phase 3: ì´ë²¤íŠ¸ ë“œë¦¬ë¸ (1ì£¼)
  âœ… Kafka ì„¤ì •
  âœ… ì´ë²¤íŠ¸ ë°œí–‰/êµ¬ë…
  âœ… Order Service êµ¬í˜„

Phase 4: ê²°ì œ í†µí•© (3-4ì¼)
  âœ… Payment Service (Stripe)
  âœ… ê²°ì œ í”Œë¡œìš° êµ¬í˜„
  âœ… í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •

Phase 5: ê´€ì¸¡ì„± (3-4ì¼)
  âœ… ë¶„ì‚° íŠ¸ë ˆì´ì‹± (Jaeger)
  âœ… ë©”íŠ¸ë¦­ ìˆ˜ì§‘ (Prometheus)
  âœ… ë¡œê·¸ ì§‘ê³„ (ELK)

Phase 6: ë°°í¬ (1ì£¼)
  âœ… Docker Swarm / Kubernetes
  âœ… CI/CD íŒŒì´í”„ë¼ì¸
  âœ… ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
```

### ë„ì „ ê³¼ì œ

```
â­â­ ì¤‘ê¸‰:
  - gRPCë¡œ ì„œë¹„ìŠ¤ ê°„ í†µì‹ 
  - Circuit Breaker êµ¬í˜„
  - API Rate Limiting

â­â­â­ ê³ ê¸‰:
  - Saga íŒ¨í„´ìœ¼ë¡œ ë¶„ì‚° íŠ¸ëœì­ì…˜
  - CQRS íŒ¨í„´ ì ìš©
  - Event Sourcing

â­â­â­â­ ì „ë¬¸ê°€:
  - Service Mesh (Istio)
  - Multi-tenant ì•„í‚¤í…ì²˜
  - Chaos Engineering
```

---

## ğŸ¯ í”„ë¡œì íŠ¸ 3: DevOps ìë™í™” í”Œë«í¼ (â­â­â­â­â­)

### í”„ë¡œì íŠ¸ ê°œìš”

```
ëª©í‘œ: ì™„ì „í•œ DevOps í”Œë«í¼ êµ¬ì¶•

í•™ìŠµ ëª©í‘œ:
âœ… GitOps ì›Œí¬í”Œë¡œìš°
âœ… ìë™í™”ëœ CI/CD
âœ… Infrastructure as Code
âœ… Full Observability
âœ… Self-Service í”Œë«í¼
```

### í”Œë«í¼ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GitLab (ì†ŒìŠ¤ ê´€ë¦¬)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Push Event
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Jenkins (CI/CD ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜)    â”‚
â”‚  - Build                                â”‚
â”‚  - Test                                 â”‚
â”‚  - Security Scan                        â”‚
â”‚  - Deploy                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Harbor Registryâ”‚ â”‚ArgoCD (GitOps)â”‚
â”‚(ì´ë¯¸ì§€ ì €ì¥)   â”‚ â”‚(ë°°í¬ ìë™í™”)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Kubernetes â”‚
                  â”‚   Cluster   â”‚
                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼               â–¼               â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Prometheus â”‚   â”‚ELK Stack  â”‚  â”‚  Grafana   â”‚
  â”‚(ë©”íŠ¸ë¦­)    â”‚   â”‚(ë¡œê·¸)      â”‚  â”‚(ì‹œê°í™”)     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### docker-compose.yml (DevOps Stack)

```yaml
version: '3.8'

services:
  # GitLab
  gitlab:
    image: gitlab/gitlab-ce:latest
    container_name: gitlab
    hostname: gitlab.local
    ports:
      - "80:80"
      - "443:443"
      - "22:22"
    volumes:
      - gitlab-config:/etc/gitlab
      - gitlab-logs:/var/log/gitlab
      - gitlab-data:/var/opt/gitlab
    environment:
      GITLAB_OMNIBUS_CONFIG: |
        external_url 'http://gitlab.local'
        gitlab_rails['gitlab_shell_ssh_port'] = 22
    networks:
      - devops

  # Jenkins
  jenkins:
    image: jenkins/jenkins:lts
    container_name: jenkins
    ports:
      - "8080:8080"
      - "50000:50000"
    volumes:
      - jenkins-data:/var/jenkins_home
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - JAVA_OPTS=-Djenkins.install.runSetupWizard=false
    networks:
      - devops

  # Harbor (Private Registry)
  harbor-core:
    image: goharbor/harbor-core:v2.9.0
    container_name: harbor-core
    depends_on:
      - harbor-db
      - redis
    environment:
      CORE_SECRET: ${HARBOR_CORE_SECRET}
      JOBSERVICE_SECRET: ${HARBOR_JOBSERVICE_SECRET}
    networks:
      - devops

  harbor-db:
    image: goharbor/harbor-db:v2.9.0
    container_name: harbor-db
    volumes:
      - harbor-db-data:/var/lib/postgresql/data
    environment:
      POSTGRES_PASSWORD: ${HARBOR_DB_PASSWORD}
    networks:
      - devops

  # Prometheus
  prometheus:
    image: prom/prometheus:latest
    container_name: prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus-data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
    networks:
      - devops

  # Grafana
  grafana:
    image: grafana/grafana:latest
    container_name: grafana
    ports:
      - "3000:3000"
    volumes:
      - grafana-data:/var/lib/grafana
      - ./grafana/dashboards:/etc/grafana/provisioning/dashboards
      - ./grafana/datasources:/etc/grafana/provisioning/datasources
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_ADMIN_PASSWORD}
      - GF_USERS_ALLOW_SIGN_UP=false
    networks:
      - devops

  # Elasticsearch
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.11.0
    container_name: elasticsearch
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms2g -Xmx2g"
      - xpack.security.enabled=false
    volumes:
      - elasticsearch-data:/usr/share/elasticsearch/data
    ports:
      - "9200:9200"
    networks:
      - devops

  # Logstash
  logstash:
    image: docker.elastic.co/logstash/logstash:8.11.0
    container_name: logstash
    volumes:
      - ./logstash/pipeline:/usr/share/logstash/pipeline
    depends_on:
      - elasticsearch
    networks:
      - devops

  # Kibana
  kibana:
    image: docker.elastic.co/kibana/kibana:8.11.0
    container_name: kibana
    ports:
      - "5601:5601"
    environment:
      ELASTICSEARCH_HOSTS: http://elasticsearch:9200
    depends_on:
      - elasticsearch
    networks:
      - devops

  # Redis
  redis:
    image: redis:alpine
    container_name: redis
    networks:
      - devops

volumes:
  gitlab-config:
  gitlab-logs:
  gitlab-data:
  jenkins-data:
  harbor-db-data:
  prometheus-data:
  grafana-data:
  elasticsearch-data:

networks:
  devops:
    driver: bridge
```

### Jenkinsfile ì˜ˆì œ

```groovy
pipeline {
    agent any

    environment {
        DOCKER_REGISTRY = 'harbor.local'
        APP_NAME = 'myapp'
        SLACK_CHANNEL = '#deployments'
    }

    stages {
        stage('Checkout') {
            steps {
                git branch: 'main',
                    url: 'http://gitlab.local/myapp.git'
            }
        }

        stage('Build') {
            steps {
                sh './gradlew build --no-daemon'
            }
        }

        stage('Unit Tests') {
            steps {
                sh './gradlew test'
                junit '**/build/test-results/test/*.xml'
            }
        }

        stage('Code Quality') {
            steps {
                sh './gradlew sonarqube'
            }
        }

        stage('Security Scan') {
            steps {
                sh 'trivy fs --exit-code 1 --severity HIGH,CRITICAL .'
            }
        }

        stage('Build Docker Image') {
            steps {
                script {
                    def image = docker.build("${DOCKER_REGISTRY}/${APP_NAME}:${BUILD_NUMBER}")
                    docker.withRegistry("https://${DOCKER_REGISTRY}", 'harbor-credentials') {
                        image.push()
                        image.push('latest')
                    }
                }
            }
        }

        stage('Image Scan') {
            steps {
                sh "trivy image ${DOCKER_REGISTRY}/${APP_NAME}:${BUILD_NUMBER}"
            }
        }

        stage('Update GitOps Repo') {
            steps {
                script {
                    sh """
                        git clone http://gitlab.local/myapp-gitops.git
                        cd myapp-gitops
                        sed -i 's|image:.*|image: ${DOCKER_REGISTRY}/${APP_NAME}:${BUILD_NUMBER}|' k8s/deployment.yaml
                        git add .
                        git commit -m "Update image to ${BUILD_NUMBER}"
                        git push origin main
                    """
                }
            }
        }

        stage('Deploy to Staging') {
            when {
                branch 'develop'
            }
            steps {
                sh 'kubectl apply -f k8s/staging/ --namespace=staging'
            }
        }

        stage('Integration Tests') {
            when {
                branch 'develop'
            }
            steps {
                sh './gradlew integrationTest -Denv=staging'
            }
        }

        stage('Deploy to Production') {
            when {
                branch 'main'
            }
            steps {
                input message: 'Deploy to Production?', ok: 'Deploy'
                sh 'kubectl apply -f k8s/production/ --namespace=production'
            }
        }

        stage('Smoke Tests') {
            when {
                branch 'main'
            }
            steps {
                sh './scripts/smoke-tests.sh'
            }
        }
    }

    post {
        success {
            slackSend channel: "${SLACK_CHANNEL}",
                      color: 'good',
                      message: "âœ… Build #${BUILD_NUMBER} succeeded"
        }
        failure {
            slackSend channel: "${SLACK_CHANNEL}",
                      color: 'danger',
                      message: "âŒ Build #${BUILD_NUMBER} failed"
        }
        always {
            cleanWs()
        }
    }
}
```

### êµ¬í˜„ ë‹¨ê³„

```
Phase 1: ì¸í”„ë¼ êµ¬ì¶• (1ì£¼)
  âœ… GitLab ì„¤ì¹˜ ë° ì„¤ì •
  âœ… Jenkins ì„¤ì¹˜ ë° í”ŒëŸ¬ê·¸ì¸
  âœ… Harbor ì„¤ì¹˜
  âœ… ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

Phase 2: CI/CD íŒŒì´í”„ë¼ì¸ (1ì£¼)
  âœ… Jenkinsfile ì‘ì„±
  âœ… ìë™ ë¹Œë“œ ì„¤ì •
  âœ… í…ŒìŠ¤íŠ¸ ìë™í™”
  âœ… ë³´ì•ˆ ìŠ¤ìº” í†µí•©

Phase 3: GitOps (1ì£¼)
  âœ… ArgoCD ì„¤ì¹˜
  âœ… GitOps ì›Œí¬í”Œë¡œìš°
  âœ… ìë™ ë™ê¸°í™”
  âœ… Rollback ì „ëµ

Phase 4: ëª¨ë‹ˆí„°ë§ (1ì£¼)
  âœ… Prometheus ì„¤ì •
  âœ… Grafana ëŒ€ì‹œë³´ë“œ
  âœ… ì•Œë¦¼ ê·œì¹™
  âœ… SLI/SLO ì •ì˜

Phase 5: ë¡œê¹… (1ì£¼)
  âœ… ELK Stack ì„¤ì •
  âœ… ë¡œê·¸ ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸
  âœ… ë¡œê·¸ ë¶„ì„ ì¿¼ë¦¬
  âœ… ì•Œë¦¼ ì„¤ì •

Phase 6: ìë™í™” (1-2ì£¼)
  âœ… Self-Service í¬í„¸
  âœ… Infrastructure as Code (Terraform)
  âœ… ìë™ ìŠ¤ì¼€ì¼ë§
  âœ… Backup ìë™í™”
```

---

## ğŸ¯ ì¶”ê°€ í”„ë¡œì íŠ¸ ì•„ì´ë””ì–´

### í”„ë¡œì íŠ¸ 4: ì‹¤ì‹œê°„ ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ (â­â­)

```
ê¸°ìˆ  ìŠ¤íƒ:
  - Frontend: React + Socket.io
  - Backend: Node.js + Socket.io
  - Database: MongoDB
  - Cache: Redis (Pub/Sub)
  - Message Queue: RabbitMQ

íŠ¹ì§•:
  âœ… ì‹¤ì‹œê°„ ë©”ì‹œì§•
  âœ… ê·¸ë£¹ ì±„íŒ…
  âœ… íŒŒì¼ ê³µìœ 
  âœ… ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥
```

### í”„ë¡œì íŠ¸ 5: IoT ë°ì´í„° ìˆ˜ì§‘ í”Œë«í¼ (â­â­â­)

```
ê¸°ìˆ  ìŠ¤íƒ:
  - Data Ingestion: MQTT Broker (Mosquitto)
  - Stream Processing: Apache Kafka
  - Time-Series DB: InfluxDB
  - Visualization: Grafana
  - API: FastAPI (Python)

íŠ¹ì§•:
  âœ… ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
  âœ… ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ
  âœ… ì•Œë¦¼ ì‹œìŠ¤í…œ
  âœ… ë°ì´í„° ë¶„ì„
```

### í”„ë¡œì íŠ¸ 6: AI/ML ì„œë¹™ í”Œë«í¼ (â­â­â­â­)

```
ê¸°ìˆ  ìŠ¤íƒ:
  - Model Serving: TensorFlow Serving
  - API Gateway: FastAPI
  - Model Registry: MLflow
  - Feature Store: Feast
  - Monitoring: Prometheus + Grafana

íŠ¹ì§•:
  âœ… ëª¨ë¸ ë²„ì „ ê´€ë¦¬
  âœ… A/B í…ŒìŠ¤íŠ¸
  âœ… ëª¨ë¸ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
  âœ… ìë™ ì¬í•™ìŠµ
```

---

## ğŸ’¡ í”„ë¡œì íŠ¸ ì‹œì‘ íŒ

### 1. MVPë¶€í„° ì‹œì‘

```
âŒ ë‚˜ìœ ì ‘ê·¼:
  - ëª¨ë“  ê¸°ëŠ¥ì„ í•œ ë²ˆì— êµ¬í˜„
  - ì™„ë²½í•œ ì•„í‚¤í…ì²˜ ì„¤ê³„ì— ì§‘ì°©

âœ… ì¢‹ì€ ì ‘ê·¼:
  - í•µì‹¬ ê¸°ëŠ¥ë§Œ ë¨¼ì € êµ¬í˜„
  - ë¹ ë¥´ê²Œ ì‹¤í–‰ ê°€ëŠ¥í•œ ë²„ì „ ë§Œë“¤ê¸°
  - ì ì§„ì  ê°œì„ 
```

### 2. ë¬¸ì„œí™” ìŠµê´€

```markdown
# README.md í•„ìˆ˜ í•­ëª©

## í”„ë¡œì íŠ¸ ê°œìš”
- ëª©ì 
- ì£¼ìš” ê¸°ëŠ¥

## ì‹œì‘í•˜ê¸°
\`\`\`bash
docker-compose up -d
\`\`\`

## ì•„í‚¤í…ì²˜
- ì‹œìŠ¤í…œ ë‹¤ì´ì–´ê·¸ë¨
- ê¸°ìˆ  ìŠ¤íƒ

## API ë¬¸ì„œ
- ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡
- ì˜ˆì œ ìš”ì²­/ì‘ë‹µ

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
- ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ
- í•´ê²° ë°©ë²•
```

### 3. Git ì»¤ë°‹ ì „ëµ

```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì½”ë“œ
chore: ë¹Œë“œ, ì„¤ì • ë³€ê²½

ì˜ˆ:
feat: Add user authentication
fix: Fix memory leak in cache layer
docs: Update API documentation
```

---

**ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ì‹¤ë ¥ í–¥ìƒì„ ìœ„í•œ êµ¬ì²´ì ì¸ ë¡œë“œë§µì„ ë‹¤ë£¹ë‹ˆë‹¤!**

**ë‹¤ìŒ: [ì„¹ì…˜ 42: ì‹¤ë ¥ í–¥ìƒ ë¡œë“œë§µ](./42-ì‹¤ë ¥-í–¥ìƒ-ë¡œë“œë§µ.md)**