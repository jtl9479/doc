# ì„¹ì…˜ 40: ë‹¤ìŒ í•™ìŠµ ê²½ë¡œ

## ğŸ—ºï¸ ì—¬ëŸ¬ë¶„ì˜ ë‹¤ìŒ ëª©ì ì§€ëŠ”?

Dockerë¥¼ ë§ˆìŠ¤í„°í•œ ì—¬ëŸ¬ë¶„, ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰

ì´ì œ ë‹¤ì–‘í•œ ì§„ë¡œ ê²½ë¡œê°€ í¼ì³ì§‘ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ëª©í‘œì™€ ê´€ì‹¬ì‚¬ì— ë”°ë¼ ìµœì ì˜ í•™ìŠµ ê²½ë¡œë¥¼ ì„ íƒí•˜ì„¸ìš”.

---

## ğŸ¯ ê²½ë¡œ ì„ íƒ ê°€ì´ë“œ

### ìê°€ ì§„ë‹¨ í€´ì¦ˆ

ë‹¤ìŒ ì§ˆë¬¸ì— ë‹µí•˜ë©´ì„œ ì—¬ëŸ¬ë¶„ì—ê²Œ ë§ëŠ” ê²½ë¡œë¥¼ ì°¾ì•„ë³´ì„¸ìš”:

```
Q1. ê°€ì¥ í¥ë¯¸ë¡œìš´ ë¶„ì•¼ëŠ”?
A. ì¸í”„ë¼ ìë™í™”ì™€ ë°°í¬ ì‹œìŠ¤í…œ
B. ë°±ì—”ë“œ API ê°œë°œê³¼ ë°ì´í„°ë² ì´ìŠ¤
C. í”„ë¡ íŠ¸ì—”ë“œë¶€í„° ë°±ì—”ë“œê¹Œì§€ ì „ì²´

Q2. ì„ í˜¸í•˜ëŠ” ì‘ì—… ìŠ¤íƒ€ì¼ì€?
A. ì‹œìŠ¤í…œ ì „ì²´ë¥¼ ì¡°ìœ¨í•˜ê³  ìµœì í™”
B. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ì²˜ë¦¬
C. ì‚¬ìš©ì ê²½í—˜ê³¼ ê¸°ëŠ¥ êµ¬í˜„

Q3. 5ë…„ í›„ ëª©í‘œëŠ”?
A. DevOps/SRE ì—”ì§€ë‹ˆì–´
B. ë°±ì—”ë“œ ì•„í‚¤í…íŠ¸
C. í’€ìŠ¤íƒ í…Œí¬ ë¦¬ë“œ

ê²°ê³¼:
Aê°€ ë§ë‹¤ë©´ â†’ DevOps ì—”ì§€ë‹ˆì–´ ê²½ë¡œ ğŸ‘¨â€ğŸ’»
Bê°€ ë§ë‹¤ë©´ â†’ ë°±ì—”ë“œ ê°œë°œì ê²½ë¡œ ğŸ’»
Cê°€ ë§ë‹¤ë©´ â†’ í’€ìŠ¤íƒ ê°œë°œì ê²½ë¡œ ğŸŒ
```

---

## ğŸ“ ê²½ë¡œ 1: DevOps ì—”ì§€ë‹ˆì–´

### í˜„ì¬ ìœ„ì¹˜

```
âœ… Docker ë§ˆìŠ¤í„°
âœ… ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì´í•´
âœ… CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• ê²½í—˜
âœ… ì¸í”„ë¼ ìë™í™” ê¸°ì´ˆ
```

### í•™ìŠµ ë¡œë“œë§µ

#### Phase 1: Kubernetes ì‹¬í™” (2-3ê°œì›”)

```yaml
ëª©í‘œ: Kubernetes ë§ˆìŠ¤í„°

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  ê¸°ì´ˆ:
    - Pod, Deployment, Service ì‹¬í™”
    - ConfigMap, Secret ê´€ë¦¬
    - Namespaceì™€ ë¦¬ì†ŒìŠ¤ ì¿¼í„°
    - Ingressì™€ ë„¤íŠ¸ì›Œí¬ ì •ì±…

  ì¤‘ê¸‰:
    - StatefulSetê³¼ ìƒíƒœ ê´€ë¦¬
    - DaemonSetê³¼ Job
    - PersistentVolumeê³¼ ìŠ¤í† ë¦¬ì§€
    - RBAC (ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´)

  ê³ ê¸‰:
    - Operator íŒ¨í„´
    - Custom Resource Definition (CRD)
    - Admission Controller
    - Cluster Autoscaler

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… LK-Tradeë¥¼ Kubernetesë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
  âœ… Helm Chart ì‘ì„±
  âœ… ë©€í‹° í´ëŸ¬ìŠ¤í„° êµ¬ì„±
  âœ… GitOps íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

ì¶”ì²œ ë¦¬ì†ŒìŠ¤:
  - Kubernetes in Action (ì±…)
  - killer.sh (CKA ì—°ìŠµ)
  - Kubernetes Documentation
```

#### Phase 2: Infrastructure as Code (1-2ê°œì›”)

```hcl
# Terraformìœ¼ë¡œ ì¸í”„ë¼ ê´€ë¦¬

ëª©í‘œ: ì¸í”„ë¼ ì½”ë“œí™”

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  Terraform:
    - HCL ë¬¸ë²•
    - Provider (AWS, Azure, GCP)
    - Module ì‘ì„±
    - State ê´€ë¦¬
    - Workspace í™œìš©

  Ansible:
    - Playbook ì‘ì„±
    - Roleê³¼ Collection
    - Inventory ê´€ë¦¬
    - Vault (Secret ê´€ë¦¬)

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… AWS EKS í´ëŸ¬ìŠ¤í„° í”„ë¡œë¹„ì €ë‹
  âœ… Terraform Module ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì¶•
  âœ… Ansibleì„ í†µí•œ ì„œë²„ ì„¤ì • ìë™í™”

ì˜ˆì œ:
  # main.tf
  resource "aws_eks_cluster" "main" {
    name     = "lk-trade-cluster"
    role_arn = aws_iam_role.cluster.arn

    vpc_config {
      subnet_ids = aws_subnet.private[*].id
    }

    depends_on = [
      aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy
    ]
  }
```

#### Phase 3: ê´€ì¸¡ì„± (Observability) (1-2ê°œì›”)

```
ëª©í‘œ: ì‹œìŠ¤í…œ ê°€ì‹œì„± í™•ë³´

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  ë©”íŠ¸ë¦­:
    - Prometheus ì‹¬í™”
    - Thanos (ì¥ê¸° ì €ì¥)
    - Grafana ëŒ€ì‹œë³´ë“œ ì„¤ê³„
    - AlertManager ë£° ì‘ì„±

  ë¡œê¹…:
    - ELK Stack ìš´ì˜
    - Loki (Grafana)
    - ë¡œê·¸ ì§‘ê³„ ë° ë¶„ì„
    - ë¡œê·¸ ê¸°ë°˜ ì•Œë¦¼

  íŠ¸ë ˆì´ì‹±:
    - Jaeger ì„¤ì •
    - OpenTelemetry
    - ë¶„ì‚° ì¶”ì 
    - ì„±ëŠ¥ ë³‘ëª© ë¶„ì„

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… Full Observability Stack êµ¬ì¶•
  âœ… SLI/SLO/SLA ì •ì˜ ë° ëª¨ë‹ˆí„°ë§
  âœ… On-Call ì•Œë¦¼ ì‹œìŠ¤í…œ
```

#### Phase 4: Service Mesh (1-2ê°œì›”)

```
ëª©í‘œ: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ íŠ¸ë˜í”½ ê´€ë¦¬

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  Istio:
    - Control Plane ì•„í‚¤í…ì²˜
    - Traffic Management
    - Security (mTLS)
    - Observability í†µí•©

  ë˜ëŠ” Linkerd:
    - ê²½ëŸ‰ Service Mesh
    - ìë™ mTLS
    - Golden Metrics

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… LK-Tradeì— Istio ì ìš©
  âœ… Canary Deployment ìë™í™”
  âœ… Circuit Breaker êµ¬í˜„
  âœ… Zero Trust ë„¤íŠ¸ì›Œí¬
```

#### Phase 5: GitOps (1ê°œì›”)

```
ëª©í‘œ: ì„ ì–¸ì  ë°°í¬ ìë™í™”

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  ArgoCD:
    - Application ì •ì˜
    - Sync Policy
    - Multi-Cluster ê´€ë¦¬
    - Progressive Delivery

  Flux:
    - GitOps Toolkit
    - Kustomize í†µí•©
    - Helm Controller

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… ArgoCD ê¸°ë°˜ ë°°í¬ ìë™í™”
  âœ… Gitì„ Single Source of Truthë¡œ
  âœ… ìë™ Rollback êµ¬í˜„
```

### ìµœì¢… ëª©í‘œ

```
6ê°œì›” í›„:
âœ… CKA (Certified Kubernetes Administrator) ìê²©ì¦
âœ… Terraform Associate ìê²©ì¦
âœ… í”„ë¡œë•ì…˜ Kubernetes í´ëŸ¬ìŠ¤í„° ìš´ì˜ ê²½í—˜
âœ… Full Observability Stack êµ¬ì¶• ê²½í—˜

1ë…„ í›„:
âœ… CKAD (Certified Kubernetes Application Developer)
âœ… CKS (Certified Kubernetes Security Specialist)
âœ… ë©€í‹° í´ë¼ìš°ë“œ í™˜ê²½ ìš´ì˜
âœ… SRE ì—­í•  ìˆ˜í–‰

ì§ë¬´:
  - DevOps Engineer
  - Site Reliability Engineer (SRE)
  - Cloud Infrastructure Engineer
  - Platform Engineer
```

---

## ğŸ“ ê²½ë¡œ 2: ë°±ì—”ë“œ ê°œë°œì

### í˜„ì¬ ìœ„ì¹˜

```
âœ… Dockerë¡œ ê°œë°œ í™˜ê²½ êµ¬ì„±
âœ… ì»¨í…Œì´ë„ˆí™”ëœ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ê°œë°œ
âœ… ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ê´€ë¦¬
âœ… API ê°œë°œ ë° í…ŒìŠ¤íŠ¸
```

### í•™ìŠµ ë¡œë“œë§µ

#### Phase 1: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ (2-3ê°œì›”)

```
ëª©í‘œ: í™•ì¥ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ ì„¤ê³„

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  ì„¤ê³„ íŒ¨í„´:
    - API Gateway íŒ¨í„´
    - Service Discovery
    - Circuit Breaker
    - Saga íŒ¨í„´ (ë¶„ì‚° íŠ¸ëœì­ì…˜)
    - CQRS (Command Query Responsibility Segregation)
    - Event Sourcing

  í†µì‹ :
    - RESTful API ë””ìì¸
    - gRPC
    - GraphQL
    - Message Queue (RabbitMQ, Kafka)

  ë°ì´í„° ê´€ë¦¬:
    - Database per Service
    - Shared Database
    - Event-Driven Architecture

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… Monolithë¥¼ Microservicesë¡œ ë¶„í•´
  âœ… API Gateway êµ¬í˜„ (Spring Cloud Gateway)
  âœ… Service Mesh ì ìš©
  âœ… Event-Driven ì•„í‚¤í…ì²˜ êµ¬ì¶•
```

ì˜ˆì œ ì½”ë“œ:

```kotlin
// API Gateway with Spring Cloud Gateway
@Configuration
class GatewayConfig {

    @Bean
    fun routeLocator(builder: RouteLocatorBuilder): RouteLocator {
        return builder.routes()
            // User Service ë¼ìš°íŒ…
            .route("user-service") { r ->
                r.path("/api/users/**")
                    .filters { f ->
                        f.circuitBreaker { config ->
                            config
                                .setName("userServiceCircuitBreaker")
                                .setFallbackUri("forward:/fallback/users")
                        }
                        .retry { config ->
                            config
                                .setRetries(3)
                                .setStatuses(HttpStatus.INTERNAL_SERVER_ERROR)
                        }
                    }
                    .uri("lb://USER-SERVICE")
            }
            // Trade Service ë¼ìš°íŒ…
            .route("trade-service") { r ->
                r.path("/api/trades/**")
                    .filters { f ->
                        f.circuitBreaker { config ->
                            config.setName("tradeServiceCircuitBreaker")
                        }
                    }
                    .uri("lb://TRADE-SERVICE")
            }
            .build()
    }
}

// Circuit Breaker Fallback
@RestController
@RequestMapping("/fallback")
class FallbackController {

    @GetMapping("/users")
    fun userFallback(): ResponseEntity<Map<String, Any>> {
        return ResponseEntity.ok(mapOf(
            "status" to "error",
            "message" to "User service is temporarily unavailable"
        ))
    }
}
```

#### Phase 2: í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ê°œë°œ (1-2ê°œì›”)

```
ëª©í‘œ: Cloud-Native ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  12 Factor App:
    I.   Codebase (ë²„ì „ ê´€ë¦¬)
    II.  Dependencies (ëª…ì‹œì  ì„ ì–¸)
    III. Config (í™˜ê²½ ë³€ìˆ˜)
    IV.  Backing Services (ë¦¬ì†ŒìŠ¤ ì¶”ìƒí™”)
    V.   Build, Release, Run (ëª…í™•í•œ ë¶„ë¦¬)
    VI.  Processes (ë¬´ìƒíƒœ)
    VII. Port Binding (ìì²´ í¬í•¨)
    VIII.Concurrency (í”„ë¡œì„¸ìŠ¤ ëª¨ë¸)
    IX.  Disposability (ë¹ ë¥¸ ì‹œì‘/ì¢…ë£Œ)
    X.   Dev/Prod Parity (í™˜ê²½ ì¼ì¹˜)
    XI.  Logs (ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼)
    XII. Admin Processes (ì¼íšŒì„± ì‘ì—…)

  Spring Cloud:
    - Spring Cloud Config
    - Spring Cloud Netflix (Eureka, Ribbon)
    - Spring Cloud Sleuth (ë¶„ì‚° ì¶”ì )
    - Spring Cloud Stream (ë©”ì‹œì§•)

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… 12 Factor App ì›ì¹™ ì ìš©
  âœ… Config Server êµ¬ì¶•
  âœ… Service Registry êµ¬í˜„
```

ì˜ˆì œ:

```kotlin
// Config Server
@SpringBootApplication
@EnableConfigServer
class ConfigServerApplication

// application.yml
spring:
  cloud:
    config:
      server:
        git:
          uri: https://github.com/lk-trade/config-repo
          default-label: main
          search-paths: '{application}'

---

// Client Application
@SpringBootApplication
@RefreshScope
class TradeServiceApplication

@RestController
@RefreshScope
class TradeController(
    @Value("\${trade.max-amount}")
    private val maxAmount: BigDecimal
) {
    // Configê°€ ë³€ê²½ë˜ë©´ ìë™ ê°±ì‹ 
}
```

#### Phase 3: ì„±ëŠ¥ ìµœì í™” (1-2ê°œì›”)

```
ëª©í‘œ: ê³ ì„±ëŠ¥ ë°±ì—”ë“œ ì‹œìŠ¤í…œ êµ¬ì¶•

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  ìºì‹± ì „ëµ:
    - Cache-Aside
    - Read-Through / Write-Through
    - Write-Behind
    - Refresh-Ahead
    - Redis Cluster
    - CDN í™œìš©

  ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”:
    - ì¸ë±ìŠ¤ ìµœì í™”
    - ì¿¼ë¦¬ íŠœë‹
    - Connection Pool ì„¤ì •
    - Read Replica
    - Sharding

  ë¹„ë™ê¸° ì²˜ë¦¬:
    - Kotlin Coroutines
    - WebFlux (Reactive Programming)
    - Message Queue
    - Background Jobs

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… Redis ìºì‹± ë ˆì´ì–´ êµ¬ì¶•
  âœ… ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ 10ë°° ì†ë„ í–¥ìƒ
  âœ… WebFluxë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
  âœ… Kafka ê¸°ë°˜ ì´ë²¤íŠ¸ ì²˜ë¦¬
```

ì˜ˆì œ:

```kotlin
// Redis ìºì‹± ì „ëµ
@Service
class TradeService(
    private val tradeRepository: TradeRepository,
    private val redisTemplate: RedisTemplate<String, Trade>
) {

    // Cache-Aside íŒ¨í„´
    fun getTradeById(id: Long): Trade? {
        val cacheKey = "trade:$id"

        // 1. ìºì‹œì—ì„œ ì¡°íšŒ
        return redisTemplate.opsForValue().get(cacheKey)
            ?: run {
                // 2. DBì—ì„œ ì¡°íšŒ
                tradeRepository.findById(id).orElse(null)?.also { trade ->
                    // 3. ìºì‹œì— ì €ì¥ (TTL: 1ì‹œê°„)
                    redisTemplate.opsForValue()
                        .set(cacheKey, trade, 1, TimeUnit.HOURS)
                }
            }
    }

    // Write-Through íŒ¨í„´
    fun saveTrade(trade: Trade): Trade {
        // 1. DB ì €ì¥
        val saved = tradeRepository.save(trade)

        // 2. ìºì‹œ ì—…ë°ì´íŠ¸
        val cacheKey = "trade:${saved.id}"
        redisTemplate.opsForValue()
            .set(cacheKey, saved, 1, TimeUnit.HOURS)

        return saved
    }

    // ìºì‹œ ë¬´íš¨í™”
    fun deleteTrade(id: Long) {
        tradeRepository.deleteById(id)
        redisTemplate.delete("trade:$id")
    }
}

// WebFlux Reactive ì˜ˆì œ
@RestController
@RequestMapping("/api/trades")
class ReactiveTradeController(
    private val tradeService: ReactiveTradeService
) {

    @GetMapping
    fun getAllTrades(): Flux<Trade> {
        return tradeService.findAll()
    }

    @GetMapping("/{id}")
    fun getTradeById(@PathVariable id: Long): Mono<Trade> {
        return tradeService.findById(id)
    }

    @PostMapping
    fun createTrade(@RequestBody trade: Trade): Mono<Trade> {
        return tradeService.save(trade)
    }
}
```

#### Phase 4: ë³´ì•ˆ ê°•í™” (1ê°œì›”)

```
ëª©í‘œ: ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë³´ì•ˆ êµ¬í˜„

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  ì¸ì¦/ì¸ê°€:
    - OAuth 2.0 / OpenID Connect
    - JWT (JSON Web Token)
    - API Key ê´€ë¦¬
    - Multi-Factor Authentication (MFA)

  API ë³´ì•ˆ:
    - Rate Limiting
    - API Gateway ë³´ì•ˆ
    - CORS ì„¤ì •
    - Input Validation
    - SQL Injection ë°©ì–´

  ë°ì´í„° ë³´ì•ˆ:
    - ì•”í˜¸í™” (at rest, in transit)
    - Secret ê´€ë¦¬ (Vault)
    - PII (ê°œì¸ì •ë³´) ë§ˆìŠ¤í‚¹
    - Audit Logging

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… OAuth 2.0 Authorization Server êµ¬ì¶•
  âœ… Zero Trust API Gateway
  âœ… Vault í†µí•©
  âœ… ë³´ì•ˆ ê°ì‚¬ ë¡œê·¸ ì‹œìŠ¤í…œ
```

ì˜ˆì œ:

```kotlin
// OAuth 2.0 Resource Server
@Configuration
@EnableWebSecurity
class SecurityConfig {

    @Bean
    fun securityFilterChain(http: HttpSecurity): SecurityFilterChain {
        http
            .authorizeHttpRequests { authorize ->
                authorize
                    .requestMatchers("/api/public/**").permitAll()
                    .requestMatchers("/api/admin/**").hasRole("ADMIN")
                    .requestMatchers("/api/**").authenticated()
            }
            .oauth2ResourceServer { oauth2 ->
                oauth2.jwt { jwt ->
                    jwt.jwtAuthenticationConverter(jwtAuthenticationConverter())
                }
            }
            .csrf().disable() // APIëŠ” CSRF ë¶ˆí•„ìš”

        return http.build()
    }

    private fun jwtAuthenticationConverter(): JwtAuthenticationConverter {
        val converter = JwtAuthenticationConverter()
        converter.setJwtGrantedAuthoritiesConverter { jwt ->
            val roles = jwt.getClaimAsStringList("roles") ?: emptyList()
            roles.map { SimpleGrantedAuthority("ROLE_$it") }
        }
        return converter
    }
}

// Rate Limiting
@Component
class RateLimitingFilter : OncePerRequestFilter() {

    private val limiter = RateLimiter.create(100.0) // ì´ˆë‹¹ 100 ìš”ì²­

    override fun doFilterInternal(
        request: HttpServletRequest,
        response: HttpServletResponse,
        filterChain: FilterChain
    ) {
        if (!limiter.tryAcquire()) {
            response.sendError(429, "Too Many Requests")
            return
        }
        filterChain.doFilter(request, response)
    }
}
```

### ìµœì¢… ëª©í‘œ

```
6ê°œì›” í›„:
âœ… ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ì„¤ê³„ ëŠ¥ë ¥
âœ… ê³ ì„±ëŠ¥ API ê°œë°œ
âœ… í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ
âœ… ë³´ì•ˆ ê°•í™”ëœ ì‹œìŠ¤í…œ êµ¬ì¶•

1ë…„ í›„:
âœ… ì‹œë‹ˆì–´ ë°±ì—”ë“œ ê°œë°œì
âœ… ì•„í‚¤í…ì²˜ ì„¤ê³„ ë¦¬ë“œ
âœ… ê¸°ìˆ  ë¸”ë¡œê·¸ ìš´ì˜
âœ… ì»¨í¼ëŸ°ìŠ¤ ë°œí‘œ

ì§ë¬´:
  - Senior Backend Engineer
  - Solutions Architect
  - Tech Lead
  - Backend Architect
```

---

## ğŸ“ ê²½ë¡œ 3: í’€ìŠ¤íƒ ê°œë°œì

### í˜„ì¬ ìœ„ì¹˜

```
âœ… Dockerë¡œ ì „ì²´ ìŠ¤íƒ ê°œë°œ í™˜ê²½ êµ¬ì„±
âœ… í”„ë¡ íŠ¸ì—”ë“œ + ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆí™”
âœ… í†µí•© ê°œë°œ ì›Œí¬í”Œë¡œìš°
```

### í•™ìŠµ ë¡œë“œë§µ

#### Phase 1: í”„ë¡ íŠ¸ì—”ë“œ ì»¨í…Œì´ë„ˆí™” ë§ˆìŠ¤í„° (1-2ê°œì›”)

```
ëª©í‘œ: í”„ë¡ íŠ¸ì—”ë“œ ìµœì í™” ë° ë°°í¬

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  React/Vue Docker:
    - ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ (build + serve)
    - Nginx ìµœì í™” ì„¤ì •
    - SPA ë¼ìš°íŒ… ì„¤ì •
    - í™˜ê²½ë³€ìˆ˜ ì£¼ì…

  ì„±ëŠ¥ ìµœì í™”:
    - ë²ˆë“¤ í¬ê¸° ìµœì†Œí™”
    - CDN í†µí•©
    - ì´ë¯¸ì§€ ìµœì í™”
    - ìºì‹± ì „ëµ

  ê°œë°œ ê²½í—˜:
    - Hot Module Replacement
    - Dev Container
    - Live Reload

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… React í”„ë¡œë•ì…˜ ë¹Œë“œ ìµœì í™”
  âœ… Nginx ê³ ê¸‰ ì„¤ì •
  âœ… CDN í†µí•©
```

ì˜ˆì œ:

```dockerfile
# í”„ë¡ íŠ¸ì—”ë“œ Dockerfile (React)
# Stage 1: Build
FROM node:18-alpine AS builder

WORKDIR /app

# Dependencies
COPY package*.json ./
RUN npm ci --only=production

# Build
COPY . .
RUN npm run build

# Stage 2: Production
FROM nginx:alpine

# Nginx ì„¤ì • ë³µì‚¬
COPY nginx.conf /etc/nginx/nginx.conf

# ë¹Œë“œëœ íŒŒì¼ ë³µì‚¬
COPY --from=builder /app/build /usr/share/nginx/html

# í™˜ê²½ë³€ìˆ˜ ì£¼ì… ìŠ¤í¬ë¦½íŠ¸
COPY env.sh /docker-entrypoint.d/env.sh
RUN chmod +x /docker-entrypoint.d/env.sh

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

```nginx
# nginx.conf
server {
    listen 80;
    server_name _;
    root /usr/share/nginx/html;
    index index.html;

    # Gzip ì••ì¶•
    gzip on;
    gzip_types text/plain text/css application/json application/javascript;
    gzip_min_length 1000;

    # SPA ë¼ìš°íŒ…
    location / {
        try_files $uri $uri/ /index.html;
    }

    # API í”„ë¡ì‹œ
    location /api/ {
        proxy_pass http://backend:8080/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # ì •ì  íŒŒì¼ ìºì‹±
    location /static/ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

#### Phase 2: í†µí•© ê°œë°œ í™˜ê²½ êµ¬ì¶• (1ê°œì›”)

```
ëª©í‘œ: ì›í™œí•œ í’€ìŠ¤íƒ ê°œë°œ ì›Œí¬í”Œë¡œìš°

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  Dev Container:
    - VS Code Dev Container
    - ì¼ê´€ëœ ê°œë°œ í™˜ê²½
    - í™•ì¥ í”„ë¡œê·¸ë¨ ìë™ ì„¤ì¹˜
    - í¬íŠ¸ í¬ì›Œë”©

  Hot Reload:
    - í”„ë¡ íŠ¸ì—”ë“œ Hot Reload
    - ë°±ì—”ë“œ Spring DevTools
    - ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

  ë””ë²„ê¹…:
    - Remote Debugging
    - Chrome DevTools
    - IntelliJ IDEA ì›ê²© ë””ë²„ê¹…

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… .devcontainer ì„¤ì •
  âœ… í†µí•© docker-compose.dev.yml
  âœ… ì›í´ë¦­ í™˜ê²½ êµ¬ì„±
```

ì˜ˆì œ:

```json
// .devcontainer/devcontainer.json
{
  "name": "LK-Trade Full Stack",
  "dockerComposeFile": "../docker-compose.dev.yml",
  "service": "workspace",
  "workspaceFolder": "/workspace",

  "customizations": {
    "vscode": {
      "extensions": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode",
        "ms-azuretools.vscode-docker",
        "redhat.vscode-yaml",
        "ms-vscode.vscode-typescript-next"
      ],
      "settings": {
        "terminal.integrated.defaultProfile.linux": "zsh"
      }
    }
  },

  "forwardPorts": [3000, 8080, 5432, 6379],
  "postCreateCommand": "npm install && ./gradlew build"
}
```

```yaml
# docker-compose.dev.yml
version: '3.8'

services:
  workspace:
    build:
      context: .
      dockerfile: .devcontainer/Dockerfile
    volumes:
      - .:/workspace
      - /workspace/node_modules
      - /workspace/.gradle
    environment:
      - NODE_ENV=development
      - SPRING_PROFILES_ACTIVE=dev
    depends_on:
      - postgres
      - redis
    command: sleep infinity

  frontend:
    build:
      context: ./frontend
      target: development
    volumes:
      - ./frontend:/app
      - /app/node_modules
    ports:
      - "3000:3000"
    environment:
      - REACT_APP_API_URL=http://localhost:8080

  backend:
    build:
      context: ./backend
      target: development
    volumes:
      - ./backend:/app
      - /app/.gradle
    ports:
      - "8080:8080"
      - "5005:5005"  # ë””ë²„ê¹… í¬íŠ¸
    environment:
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_TOOL_OPTIONS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005

  postgres:
    image: postgres:16-alpine
    volumes:
      - postgres-data:/var/lib/postgresql/data
    environment:
      POSTGRES_DB: lktrade_dev
      POSTGRES_USER: dev
      POSTGRES_PASSWORD: dev

  redis:
    image: redis:alpine
    ports:
      - "6379:6379"

volumes:
  postgres-data:
```

#### Phase 3: Serverless í†µí•© (1ê°œì›”)

```
ëª©í‘œ: í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜ êµ¬ì¶•

ì£¼ìš” í•™ìŠµ ë‚´ìš©:
  AWS Lambda:
    - Lambda + Docker
    - API Gateway í†µí•©
    - S3 ì´ë²¤íŠ¸ ì²˜ë¦¬
    - Lambda Layers

  Google Cloud Run:
    - ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ì„œë²„ë¦¬ìŠ¤
    - ìë™ ìŠ¤ì¼€ì¼ë§
    - íŠ¸ë˜í”½ ë¶„í• 

  Azure Container Instances:
    - ë¹ ë¥¸ ì»¨í…Œì´ë„ˆ ì‹œì‘
    - ì´ë²¤íŠ¸ ê¸°ë°˜ ì‹¤í–‰

ì‹¤ìŠµ í”„ë¡œì íŠ¸:
  âœ… Lambda + Docker ì´ë¯¸ì§€ ë°°í¬
  âœ… Cloud Runìœ¼ë¡œ API ì„œë¹™
  âœ… ì„œë²„ë¦¬ìŠ¤ + ì»¨í…Œì´ë„ˆ í•˜ì´ë¸Œë¦¬ë“œ
```

ì˜ˆì œ:

```dockerfile
# AWS Lambda Dockerfile
FROM public.ecr.aws/lambda/nodejs:18

# ì•± ì½”ë“œ ë³µì‚¬
COPY package*.json ./
RUN npm ci --only=production

COPY index.js ./

CMD [ "index.handler" ]
```

```javascript
// Lambda Handler
exports.handler = async (event) => {
    console.log('Event:', JSON.stringify(event));

    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    const result = await processTradeAlert(event);

    return {
        statusCode: 200,
        body: JSON.stringify(result)
    };
};

async function processTradeAlert(event) {
    // ì£¼ë¬¸ ì•Œë¦¼ ì²˜ë¦¬ ë¡œì§
    return { success: true };
}
```

### ìµœì¢… ëª©í‘œ

```
6ê°œì›” í›„:
âœ… í”„ë¡ íŠ¸ì—”ë“œë¶€í„° ë°±ì—”ë“œê¹Œì§€ ì „ì²´ ìŠ¤íƒ ë§ˆìŠ¤í„°
âœ… ìµœì í™”ëœ ê°œë°œ í™˜ê²½ êµ¬ì¶•
âœ… Serverless ì•„í‚¤í…ì²˜ ì´í•´
âœ… ë…ë¦½ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ ì™„ì„± ê°€ëŠ¥

1ë…„ í›„:
âœ… í’€ìŠ¤íƒ ì‹œë‹ˆì–´ ê°œë°œì
âœ… ì•„í‚¤í…ì²˜ ê²°ì • ëŠ¥ë ¥
âœ… ê¸°ìˆ  ë¸”ë¡œê·¸/ìœ íŠœë¸Œ ìš´ì˜
âœ… ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ ëŸ°ì¹­

ì§ë¬´:
  - Full Stack Engineer
  - Technical Product Manager
  - Startup CTO
  - Indie Hacker
```

---

## ğŸ”„ ê³µí†µ í•™ìŠµ ê²½ë¡œ

ëª¨ë“  ê²½ë¡œì—ì„œ ì§€ì†ì ìœ¼ë¡œ í•™ìŠµí•´ì•¼ í•  ê²ƒë“¤:

### 1. í´ë¼ìš°ë“œ í”Œë«í¼ (í•„ìˆ˜)

```
AWS:
  - EC2, ECS, EKS
  - RDS, ElastiCache
  - S3, CloudFront
  - Lambda, API Gateway

ë˜ëŠ” GCP:
  - GCE, GKE
  - Cloud SQL, Memorystore
  - Cloud Storage, CDN
  - Cloud Functions, Cloud Run

ë˜ëŠ” Azure:
  - VM, AKS
  - Azure Database
  - Blob Storage, CDN
  - Azure Functions, Container Instances
```

### 2. ë„¤íŠ¸ì›Œí‚¹ (ì¤‘ìš”)

```
ê¸°ì´ˆ:
  - TCP/IP, HTTP/HTTPS
  - DNS, Load Balancing
  - Proxy vs Reverse Proxy

ê³ ê¸‰:
  - Service Mesh
  - CDN ìµœì í™”
  - Zero Trust Network
```

### 3. ë³´ì•ˆ (í•„ìˆ˜)

```
  - OWASP Top 10
  - Secret ê´€ë¦¬
  - ì·¨ì•½ì  ìŠ¤ìº”
  - ì»´í”Œë¼ì´ì–¸ìŠ¤ (GDPR, HIPAA)
```

### 4. ì†Œí”„íŠ¸ ìŠ¤í‚¬ (ì¤‘ìš”)

```
  - ê¸°ìˆ  ë¬¸ì„œ ì‘ì„±
  - ì½”ë“œ ë¦¬ë·°
  - ë©˜í† ë§
  - í”„ë ˆì  í…Œì´ì…˜
```

---

## ğŸ“Š ê²½ë¡œë³„ ë¹„êµ

| í•­ëª© | DevOps | ë°±ì—”ë“œ | í’€ìŠ¤íƒ |
|------|--------|--------|--------|
| **ì£¼ìš” ê¸°ìˆ ** | K8s, Terraform | Spring, DB | React, Spring |
| **í•™ìŠµ ë‚œì´ë„** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| **ì‹œì¥ ìˆ˜ìš”** | ë†’ìŒ | ë§¤ìš° ë†’ìŒ | ë†’ìŒ |
| **í‰ê·  ì—°ë´‰** | $120k | $130k | $110k |
| **ì›ê²© ê·¼ë¬´** | ë†’ìŒ | ë†’ìŒ | ë§¤ìš° ë†’ìŒ |
| **ì»¤ë¦¬ì–´ ì„±ì¥** | ë¹ ë¦„ | ì•ˆì •ì  | ë‹¤ì–‘í•¨ |

---

## ğŸ¯ ì–´ë–¤ ê²½ë¡œë¥¼ ì„ íƒí•´ì•¼ í• ê¹Œ?

### DevOpsë¥¼ ì„ íƒí•˜ì„¸ìš” (ë§Œì•½...)

```
âœ… ì‹œìŠ¤í…œ ì „ì²´ë¥¼ ìµœì í™”í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•¨
âœ… ìë™í™”ì— ê´€ì‹¬ì´ ë§ìŒ
âœ… ì¸í”„ë¼ ë¬¸ì œ í•´ê²°ì— í¥ë¯¸
âœ… ì—¬ëŸ¬ ê¸°ìˆ ì„ í­ë„“ê²Œ ë‹¤ë£¨ê³  ì‹¶ìŒ
âœ… On-Callì— ëŒ€í•œ ë¶€ë‹´ì´ ì—†ìŒ
```

### ë°±ì—”ë“œë¥¼ ì„ íƒí•˜ì„¸ìš” (ë§Œì•½...)

```
âœ… ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ì„ ì¢‹ì•„í•¨
âœ… ë°ì´í„°ë² ì´ìŠ¤ì™€ ì•Œê³ ë¦¬ì¦˜ì— ê´€ì‹¬
âœ… ê¹Šì´ ìˆëŠ” ì „ë¬¸ì„±ì„ ì›í•¨
âœ… ì„±ëŠ¥ ìµœì í™”ì— í¥ë¯¸
âœ… ì•ˆì •ì ì¸ ì»¤ë¦¬ì–´ë¥¼ ì›í•¨
```

### í’€ìŠ¤íƒì„ ì„ íƒí•˜ì„¸ìš” (ë§Œì•½...)

```
âœ… ì œí’ˆ ì „ì²´ë¥¼ ë§Œë“¤ê³  ì‹¶ìŒ
âœ… ë‹¤ì–‘í•œ ê¸°ìˆ ì— ê´€ì‹¬
âœ… ì°½ì—…/ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¥¼ ê³ ë ¤
âœ… ìœ ì—°í•œ ì—…ë¬´ë¥¼ ì›í•¨
âœ… ì‚¬ìš©ì ê²½í—˜ì—ë„ ê´€ì‹¬
```

---

## ğŸ’ª ì„±ê³µì„ ìœ„í•œ íŒ

### 1. ì „ë¬¸ì„± vs ë‹¤ì–‘ì„±

```
Tìí˜• ì¸ì¬ê°€ ë˜ì„¸ìš”:

        ì „ë¬¸ì„± (ê¹Šì´)
            â†“
        â•â•â•â•â•¬â•â•â•â•
            â•‘
      ë‹¤ì–‘ì„± (ë„“ì´)

- í•œ ë¶„ì•¼ë¥¼ ê¹Šê²Œ íŒŒê³ 
- ì£¼ë³€ ê¸°ìˆ ë„ í­ë„“ê²Œ ì´í•´
```

### 2. ì‹¤ì „ ê²½í—˜ì´ ìµœê³ 

```
í•™ìŠµ ë°©ë²• íš¨ê³¼:
  ì±…/ê°•ì˜ ë“£ê¸°:        20%
  íŠœí† ë¦¬ì–¼ ë”°ë¼í•˜ê¸°:   40%
  ì‹¤ì „ í”„ë¡œì íŠ¸:       80%
  ë‹¤ë¥¸ ì‚¬ëŒ ê°€ë¥´ì¹˜ê¸°:  95%

â†’ ë°°ìš´ ê²ƒì„ ì¦‰ì‹œ í”„ë¡œì íŠ¸ì— ì ìš©!
```

### 3. ì»¤ë®¤ë‹ˆí‹° í™œë™

```
- ê¸°ìˆ  ë¸”ë¡œê·¸ ì‘ì„±
- GitHub ì˜¤í”ˆì†ŒìŠ¤ ê¸°ì—¬
- ìŠ¤í„°ë””/ë°‹ì—… ì°¸ì—¬
- ì»¨í¼ëŸ°ìŠ¤ ë°œí‘œ
```

---

**ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ì‹¤ì „ í”„ë¡œì íŠ¸ ì•„ì´ë””ì–´ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤!**

**ë‹¤ìŒ: [ì„¹ì…˜ 41: ì‹¤ì „ í”„ë¡œì íŠ¸ ì•„ì´ë””ì–´](./41-ì‹¤ì „-í”„ë¡œì íŠ¸-ì•„ì´ë””ì–´.md)**