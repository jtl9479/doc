# ðŸ† 8. Sorted Set íƒ€ìž… ì™„ì „ ê°€ì´ë“œ

> **ì´ ìž¥ì—ì„œ ë°°ìš¸ ë‚´ìš©**: Redis Sorted Set íƒ€ìž…ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì™„ë²½í•˜ê²Œ ë§ˆìŠ¤í„°í•˜ì—¬ ëž­í‚¹ ì‹œìŠ¤í…œ, ë¦¬ë”ë³´ë“œ, ì‹¤ì‹œê°„ ìˆœìœ„ë¥¼ ìžìœ ìžìž¬ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

**â±ï¸ ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 2-3ì‹œê°„
**ë‚œì´ë„**: â­â­â­â˜†â˜† (3ê°œ/5ê°œ)

---

## ðŸ“š ëª©ì°¨
- [í•™ìŠµ ëª©í‘œ](#í•™ìŠµ-ëª©í‘œ)
- [ì™œ Sorted Setì´ í•„ìš”í•œê°€](#ì™œ-sorted-setì´-í•„ìš”í•œê°€)
- [ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°](#ì‹¤ìƒí™œ-ë¹„ìœ ë¡œ-ì´í•´í•˜ê¸°)
- [Sorted Set íƒ€ìž… ì™„ì „ ì´í•´](#1-sorted-set-íƒ€ìž…-ì™„ì „-ì´í•´)
- [ë°ì´í„° ì¶”ê°€ì™€ ì œê±°](#2-ë°ì´í„°-ì¶”ê°€ì™€-ì œê±°-zadd-zrem-zpop)
- [ëž­í‚¹ê³¼ ë²”ìœ„ ì¡°íšŒ](#3-ëž­í‚¹ê³¼-ë²”ìœ„-ì¡°íšŒ-zrange-zrank-zscore)
- [ì ìˆ˜ ê¸°ë°˜ ì—°ì‚°](#4-ì ìˆ˜-ê¸°ë°˜-ì—°ì‚°-zincrby-zcount)
- [ì‹¤ì „ ì¢…í•© í”„ë¡œì íŠ¸](#5-ì‹¤ì „-ì¢…í•©-í”„ë¡œì íŠ¸)
- [ì£¼ë‹ˆì–´ ì‹œë‚˜ë¦¬ì˜¤](#ì£¼ë‹ˆì–´-ì‹œë‚˜ë¦¬ì˜¤)
- [í•µì‹¬ ë‚´ìš© ì •ë¦¬ ë° ë² ìŠ¤íŠ¸ í”„ëž™í‹°ìŠ¤](#6-í•µì‹¬-ë‚´ìš©-ì •ë¦¬-ë°-ë² ìŠ¤íŠ¸-í”„ëž™í‹°ìŠ¤)
- [FAQ](#7-ìžì£¼-ë¬»ëŠ”-ì§ˆë¬¸-faq)
- [ë©´ì ‘ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸](#ë©´ì ‘-ì§ˆë¬¸-ë¦¬ìŠ¤íŠ¸)
- [ë‹¤ìŒ ë‹¨ê³„ ì˜ˆê³ ](#8-ë‹¤ìŒ-ë‹¨ê³„-ì˜ˆê³ )
- [ì¶•í•˜í•©ë‹ˆë‹¤](#ì¶•í•˜í•©ë‹ˆë‹¤)

---

## ðŸ“š í•™ìŠµ ëª©í‘œ

ì´ ìž¥ì„ ì™„ë£Œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ëŠ¥ë ¥ì„ ê°–ê²Œ ë©ë‹ˆë‹¤:

âœ… **Sorted Set íƒ€ìž…ì˜ ë‚´ë¶€ êµ¬ì¡°ì™€ íŠ¹ì„± ì™„ë²½ ì´í•´**
âœ… **ì ìˆ˜ ê¸°ë°˜ ë°ì´í„° ì¡°ìž‘ê³¼ ì •ë ¬ ì™„ì „ ë§ˆìŠ¤í„°**
âœ… **ëž­í‚¹ê³¼ ìˆœìœ„ ì‹œìŠ¤í…œ êµ¬í˜„ ëŠ¥ë ¥ ì •ë³µ**
âœ… **ë²”ìœ„ ì¡°íšŒì™€ í•„í„°ë§ ê¸°ë²• ìŠµë“**
âœ… **ë¦¬ë”ë³´ë“œì™€ ì‹¤ì‹œê°„ ìˆœìœ„ ì‹œìŠ¤í…œ êµ¬í˜„ ëŠ¥ë ¥**
âœ… **ì‹¤ë¬´ì—ì„œ ë°”ë¡œ í™œìš© ê°€ëŠ¥í•œ Sorted Set íŒ¨í„´ ì™„ì „ ì •ë³µ**

---

## ðŸ¤” ì™œ Sorted Setì´ í•„ìš”í•œê°€?

### ì‹¤ë¬´ ë°°ê²½

**ì—¬ëŸ¬ë¶„ì˜ ì„œë¹„ìŠ¤ì— ì‹¤ì‹œê°„ ëž­í‚¹ ì‹œìŠ¤í…œì´ í•„ìš”í•˜ë‹¤ë©´?**

ê²Œìž„ ë¦¬ë”ë³´ë“œ, ì¸ê¸° ê²Œì‹œë¬¼ ìˆœìœ„, ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´, ìƒí’ˆ íŒë§¤ ìˆœìœ„ ë“± ì ìˆ˜ë‚˜ ì¸ê¸°ë„ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì •ë ¬í•˜ê³  ìˆœìœ„ë¥¼ ë§¤ê¸°ëŠ” ê¸°ëŠ¥ì€ í˜„ëŒ€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•„ìˆ˜ ìš”ì†Œìž…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì „í†µì ì¸ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ë°°ì—´ë¡œ ì´ë¥¼ êµ¬í˜„í•˜ë©´ ì‹¬ê°í•œ ì„±ëŠ¥ ë¬¸ì œì— ì§ë©´í•©ë‹ˆë‹¤.

#### âŒ Sorted Setì„ ëª¨ë¥´ë©´ ë°œìƒí•˜ëŠ” ë¬¸ì œ

```
ë¬¸ì œ 1: ë§¤ë²ˆ ì •ë ¬í•˜ëŠ” ë¹„íš¨ìœ¨
- ì¦ìƒ: ì ìˆ˜ê°€ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ ì „ì²´ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ì •ë ¬
- ì˜í–¥: 100ë§Œ ê°œ ë°ì´í„° ì •ë ¬ ì‹œ 500ms~1ì´ˆ ì†Œìš”
- ë¹„ìš©: ì„œë²„ CPU ì‚¬ìš©ë¥  80% ì´ìƒ, ì‘ë‹µ ì§€ì—° ë°œìƒ

ë¬¸ì œ 2: ìˆœìœ„ ì¡°íšŒì˜ ëŠë¦° ì„±ëŠ¥
- ì¦ìƒ: "ë‚´ê°€ ëª‡ ë“±ì¸ì§€" í™•ì¸í•˜ë ¤ë©´ ì „ì²´ ë°ì´í„° ìˆœíšŒ
- ì˜í–¥: O(N) ì‹œê°„ ë³µìž¡ë„, ì‚¬ìš©ìž ìˆ˜ ì¦ê°€ ì‹œ ì„ í˜•ì ìœ¼ë¡œ ëŠë ¤ì§
- ë¹„ìš©: DB ì¿¼ë¦¬ ë¶€í•˜ ì¦ê°€, ì¸ë±ìŠ¤ ë¹„ìš© ìƒìŠ¹

ë¬¸ì œ 3: ë™ì‹œì„± ë¬¸ì œ
- ì¦ìƒ: ì—¬ëŸ¬ ì‚¬ìš©ìžê°€ ë™ì‹œì— ì ìˆ˜ ì—…ë°ì´íŠ¸ ì‹œ ê²½ìŸ ìƒíƒœ ë°œìƒ
- ì˜í–¥: ë°ì´í„° ì •í•©ì„± ë¬¸ì œ, ìž˜ëª»ëœ ìˆœìœ„ í‘œì‹œ
- ë¹„ìš©: ë³µìž¡í•œ ë½(Lock) ë©”ì»¤ë‹ˆì¦˜ í•„ìš”, ê°œë°œ ë‚œì´ë„ ì¦ê°€

ë¬¸ì œ 4: í™•ìž¥ì„± í•œê³„
- ì¦ìƒ: ì‚¬ìš©ìžê°€ ì¦ê°€í•˜ë©´ ì •ë ¬ ë¹„ìš©ì´ ê¸‰ê²©ížˆ ì¦ê°€ (O(N log N))
- ì˜í–¥: 10ë§Œ ëª… â†’ 100ë§Œ ëª… ì‹œ 10ë°° ì´ìƒ ëŠë ¤ì§
- ë¹„ìš©: ì„œë²„ ì¦ì„¤ í•„ìš”, ìš´ì˜ ë¹„ìš© í­ì¦
```

#### âœ… Sorted Setì„ ì‚¬ìš©í•˜ë©´

```
í•´ê²°ì±… 1: ìžë™ ì •ë ¬ë¡œ íš¨ìœ¨ì„± ê·¹ëŒ€í™”
- ë°©ë²•: ì‚½ìž…/ì—…ë°ì´íŠ¸ ì‹œ ìžë™ìœ¼ë¡œ ì •ë ¬ëœ ìƒíƒœ ìœ ì§€
- íš¨ê³¼: ë³„ë„ ì •ë ¬ ìž‘ì—… ë¶ˆí•„ìš”, í•­ìƒ O(log N) ì„±ëŠ¥
- ì ˆê°: CPU ì‚¬ìš©ë¥  80% â†’ 5% ê°ì†Œ, ì‘ë‹µì‹œê°„ 500ms â†’ 1ms

í•´ê²°ì±… 2: ë¹ ë¥¸ ìˆœìœ„ ê²€ìƒ‰
- ë°©ë²•: Skip List ìžë£Œêµ¬ì¡°ë¡œ O(log N) ìˆœìœ„ ì¡°íšŒ
- íš¨ê³¼: 100ë§Œ ê°œ ë°ì´í„°ì—ì„œë„ 1ms ì´ë‚´ ìˆœìœ„ í™•ì¸
- ì ˆê°: DB ë¶€í•˜ 99% ê°ì†Œ, ì¸í”„ë¼ ë¹„ìš© 80% ì ˆê°

í•´ê²°ì±… 3: ì›ìžì  ì—°ì‚° ë³´ìž¥
- ë°©ë²•: ZINCRBY ë“± ì›ìžì  ëª…ë ¹ì–´ë¡œ ë™ì‹œì„± ìžë™ ì²˜ë¦¬
- íš¨ê³¼: ë½ ì—†ì´ë„ ë°ì´í„° ì •í•©ì„± ë³´ìž¥
- ì ˆê°: ê°œë°œ ì‹œê°„ 70% ë‹¨ì¶•, ë²„ê·¸ ë°œìƒë¥  90% ê°ì†Œ

í•´ê²°ì±… 4: ì„ í˜• í™•ìž¥ì„±
- ë°©ë²•: ì¼ê´€ëœ O(log N) ì„±ëŠ¥ìœ¼ë¡œ í™•ìž¥
- íš¨ê³¼: 10ë§Œ ëª… â†’ 1000ë§Œ ëª…ìœ¼ë¡œ ì¦ê°€í•´ë„ ì„±ëŠ¥ ìœ ì§€
- ì ˆê°: ì„œë²„ ì¦ì„¤ í•„ìš” ì—†ìŒ, ë¹„ìš© ì ˆê° íš¨ê³¼ ê·¹ëŒ€í™”
```

### ðŸ“Š ìˆ˜ì¹˜ë¡œ ë³´ëŠ” íš¨ê³¼

**ì¼ë°˜ ë°°ì—´/DB vs Sorted Set ì„±ëŠ¥ ë¹„êµ (100ë§Œ ê°œ ë°ì´í„° ê¸°ì¤€)**

| ìž‘ì—… | ì¼ë°˜ ë°°ì—´/DB | Sorted Set | ê°œì„ ìœ¨ |
|------|-------------|------------|--------|
| ë°ì´í„° ì‚½ìž… í›„ ì •ë ¬ | 500ms (O(N log N)) | 0.5ms (O(log N)) | **99.9%â†“** |
| ìˆœìœ„ ì¡°íšŒ | 100ms (O(N)) | 0.5ms (O(log N)) | **99.5%â†“** |
| ìƒìœ„ 10ê°œ ì¡°íšŒ | 100ms (ì „ì²´ ì •ë ¬) | 0.1ms (ì´ë¯¸ ì •ë ¬ë¨) | **99.9%â†“** |
| ì ìˆ˜ ì—…ë°ì´íŠ¸ | 550ms (ì—…ë°ì´íŠ¸+ì •ë ¬) | 0.5ms (ìžë™ ìž¬ì •ë ¬) | **99.9%â†“** |
| ë²”ìœ„ ì¡°íšŒ (80~90ì ) | 120ms (ì „ì²´ ìŠ¤ìº”) | 1ms (ì¸ë±ìŠ¤ ê²€ìƒ‰) | **99.2%â†“** |
| ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ | 100MB | 120MB (ì¸ë±ìŠ¤ í¬í•¨) | -20% |
| ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ | ë½ í•„ìš” (ë³‘ëª©) | ì›ìžì  ì—°ì‚° (ë¬´ì œí•œ) | **ë¬´í•œëŒ€â†‘** |

**ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥**

| ì§€í‘œ | Before (ë°°ì—´/DB) | After (Sorted Set) | ê°œì„  íš¨ê³¼ |
|------|------------------|-------------------|-----------|
| í‰ê·  ì‘ë‹µì‹œê°„ | 250ms | 2ms | **99%â†“** |
| ì„œë²„ CPU ì‚¬ìš©ë¥  | 75% | 8% | **89%â†“** |
| ë™ì‹œ ì²˜ë¦¬ ìš©ëŸ‰ | 500 req/s | 50,000 req/s | **100ë°°â†‘** |
| ì¸í”„ë¼ ë¹„ìš© | $5,000/ì›” (DB 10ëŒ€) | $500/ì›” (Redis 2ëŒ€) | **90%â†“** |
| ê°œë°œ ì‹œê°„ | 4ì£¼ (ì •ë ¬ ë¡œì§) | 3ì¼ (Redis ëª…ë ¹ì–´) | **93%â†“** |
| ë²„ê·¸ ë°œìƒë¥  | ì›” 5ê±´ (ë™ì‹œì„±) | ì›” 0ê±´ (ì›ìžì ) | **100%â†“** |

### ðŸ¢ ì‹¤ì œ ê¸°ì—… í™œìš© ì‚¬ë¡€

#### ì‚¬ë¡€ 1: ë„·í”Œë¦­ìŠ¤ (Netflix) - ê°œì¸í™” ì¶”ì²œ ìˆœìœ„
```bash
# ì‚¬ìš© ëª©ì : ì‚¬ìš©ìžë³„ ë§žì¶¤ ì½˜í…ì¸  ìˆœìœ„ ì‹¤ì‹œê°„ ìƒì„±
# ê·œëª¨: ì „ ì„¸ê³„ 2ì–µ+ ì‚¬ìš©ìž, ì´ˆë‹¹ 10ë§Œ+ ì—…ë°ì´íŠ¸
# íš¨ê³¼: ì¶”ì²œ ì •í™•ë„ 35% í–¥ìƒ, ì‹œì²­ ì‹œê°„ 20% ì¦ê°€

# êµ¬í˜„ ì˜ˆì‹œ: ì‚¬ìš©ìžë³„ ì½˜í…ì¸  ì¶”ì²œ ì ìˆ˜
ZADD user:123456:recommendations
  8.5 "movie:inception"
  9.2 "movie:interstellar"
  7.8 "movie:tenet"
  8.9 "series:stranger_things"

# ìƒìœ„ 10ê°œ ì¶”ì²œ
ZREVRANGE user:123456:recommendations 0 9 WITHSCORES

# ì„±ê³¼:
# - ì¶”ì²œ ìƒì„± ì‹œê°„: 500ms â†’ 5ms (100ë°° ê°œì„ )
# - ë™ì‹œ ì‚¬ìš©ìž ì²˜ë¦¬: 1ë§Œ ëª… â†’ 100ë§Œ ëª…
# - ì„œë²„ ë¹„ìš©: ì›” $50ë§Œ â†’ $5ë§Œ (90% ì ˆê°)
```

#### ì‚¬ë¡€ 2: ì¹´ì¹´ì˜¤ (Kakao) - ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´ ìˆœìœ„
```bash
# ì‚¬ìš© ëª©ì : 1ë¶„ë§ˆë‹¤ ê°±ì‹ ë˜ëŠ” ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´ TOP 20
# ê·œëª¨: 1ì–µ+ ê²€ìƒ‰ ì¿¼ë¦¬/ì¼, 10ë§Œ+ í‚¤ì›Œë“œ ì¶”ì 
# íš¨ê³¼: ê²€ìƒ‰ì–´ ìˆœìœ„ ê³„ì‚° ì‹œê°„ 98% ë‹¨ì¶•

# êµ¬í˜„ ì˜ˆì‹œ: ì‹œê°„ëŒ€ë³„ ê²€ìƒ‰ì–´ ì¶”ì 
ZADD trending:20240101:1200
  15000 "ë‚ ì”¨"
  12000 "ë‰´ìŠ¤"
  25000 "ChatGPT"
  8000 "ì£¼ì‹"

# ê²€ìƒ‰ ë°œìƒ ì‹œ ì ìˆ˜ ì¦ê°€
ZINCRBY trending:20240101:1200 1 "ChatGPT"

# TOP 20 ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´
ZREVRANGE trending:20240101:1200 0 19 WITHSCORES

# ì„±ê³¼:
# - ìˆœìœ„ ê³„ì‚°: 10ì´ˆ â†’ 0.1ì´ˆ (100ë°° ê°œì„ )
# - ë©”ëª¨ë¦¬ ì‚¬ìš©: 5GB â†’ 500MB (90% ì ˆê°)
# - ì„œë²„ ëŒ€ìˆ˜: 20ëŒ€ â†’ 2ëŒ€ (90% ê°ì†Œ)
```

#### ì‚¬ë¡€ 3: ë¦¬ê·¸ ì˜¤ë¸Œ ë ˆì „ë“œ (League of Legends) - ê¸€ë¡œë²Œ ëž­í‚¹
```bash
# ì‚¬ìš© ëª©ì : ì „ ì„¸ê³„ 1ì–µ+ í”Œë ˆì´ì–´ ì‹¤ì‹œê°„ ëž­í‚¹
# ê·œëª¨: ì´ˆë‹¹ 5ë§Œ+ ê²Œìž„ ì¢…ë£Œ, LP ì—…ë°ì´íŠ¸ ì‹¤ì‹œê°„ ë°˜ì˜
# íš¨ê³¼: ìˆœìœ„ ì¡°íšŒ 99.9% ì‘ë‹µì‹œê°„ í–¥ìƒ

# êµ¬í˜„ ì˜ˆì‹œ: ì„œë²„ë³„ ëž­í¬ ê´€ë¦¬
# í•œêµ­ ì„œë²„ ì±Œë¦°ì € ëž­í‚¹
ZADD rank:kr:challenger
  1250 "Faker"
  1180 "ShowMaker"
  1220 "Chovy"
  1150 "Deft"

# ê²Œìž„ ìŠ¹ë¦¬ ì‹œ LP ì¦ê°€
ZINCRBY rank:kr:challenger 15 "Faker"

# ë‚´ ìˆœìœ„ í™•ì¸
ZREVRANK rank:kr:challenger "Faker"  # 0 (1ë“±)

# TOP 200 ì±Œë¦°ì € ëª©ë¡
ZREVRANGE rank:kr:challenger 0 199 WITHSCORES

# ì„±ê³¼:
# - ìˆœìœ„ ì¡°íšŒ ì‹œê°„: 500ms â†’ 1ms (500ë°° ê°œì„ )
# - ë™ì‹œ ì ‘ì† ì²˜ë¦¬: 10ë§Œ ëª… â†’ 1000ë§Œ ëª…
# - ë°ì´í„° ì •í•©ì„±: 99.9% â†’ 100% (ë™ì‹œì„± ë¬¸ì œ í•´ê²°)
```

#### ì‚¬ë¡€ 4: ë°°ë‹¬ì˜ë¯¼ì¡± - ë§›ì§‘ ëž­í‚¹
```bash
# ì‚¬ìš© ëª©ì : ì§€ì—­ë³„ ì¸ê¸° ë§›ì§‘ ì‹¤ì‹œê°„ ìˆœìœ„
# ê·œëª¨: 10ë§Œ+ ê°€ê²Œ, 100ë§Œ+ ì£¼ë¬¸/ì¼
# íš¨ê³¼: ë§›ì§‘ ì¶”ì²œ ì •í™•ë„ 40% í–¥ìƒ, ì£¼ë¬¸ ì „í™˜ìœ¨ 25% ì¦ê°€

# êµ¬í˜„ ì˜ˆì‹œ: ë™ë„¤ë³„ ë§›ì§‘ ì¸ê¸°ë„
# ì¸ê¸°ë„ = ì£¼ë¬¸ìˆ˜*5 + ë¦¬ë·°ìˆ˜*3 + í‰ì *20
ZADD restaurant:gangnam
  850 "store:12345"   # ì£¼ë¬¸100*5 + ë¦¬ë·°100*3 + í‰ì 4.5*20
  920 "store:12346"
  780 "store:12347"

# ì£¼ë¬¸ ë°œìƒ ì‹œ ì¸ê¸°ë„ ì¦ê°€
ZINCRBY restaurant:gangnam 5 "store:12345"

# ìš°ë¦¬ ë™ë„¤ TOP 10 ë§›ì§‘
ZREVRANGE restaurant:gangnam 0 9 WITHSCORES

# ì„±ê³¼:
# - ë§›ì§‘ ìˆœìœ„ ê³„ì‚°: 1ì´ˆ â†’ 10ms (100ë°° ê°œì„ )
# - ì¶”ì²œ ì •í™•ë„: 60% â†’ 84% (40% í–¥ìƒ)
# - ì£¼ë¬¸ ì „í™˜ìœ¨: 8% â†’ 10% (25% ì¦ê°€)
# - ë§¤ì¶œ ì¦ê°€: ì›” 10ì–µ ì› ì¶”ê°€ ë§¤ì¶œ ë°œìƒ
```

#### ì‚¬ë¡€ 5: Stack Overflow - ëª…ì„± ì ìˆ˜ ëž­í‚¹
```bash
# ì‚¬ìš© ëª©ì : ì‚¬ìš©ìž ëª…ì„±(Reputation) ì ìˆ˜ ì‹¤ì‹œê°„ ëž­í‚¹
# ê·œëª¨: 1000ë§Œ+ ì‚¬ìš©ìž, ì´ˆë‹¹ 100+ ëª…ì„± ë³€í™”
# íš¨ê³¼: ëž­í‚¹ ì‹œìŠ¤í…œ ì•ˆì •ì„± 99.99% ë‹¬ì„±

# êµ¬í˜„ ì˜ˆì‹œ: ì „ì²´ ì‚¬ìš©ìž ëª…ì„± ëž­í‚¹
ZADD reputation:global
  1250000 "user:jon_skeet"      # Jon Skeet (ì „ì„¤ì˜ 1ë“±)
  980000 "user:gordon_linoff"
  850000 "user:marc_gravell"

# ë‹µë³€ ì±„íƒ ì‹œ ëª…ì„± ì¦ê°€ (+15)
ZINCRBY reputation:global 15 "user:new_developer"

# ì „ì²´ ìˆœìœ„ í™•ì¸
ZREVRANK reputation:global "user:new_developer"

# ì„±ê³¼:
# - ìˆœìœ„ ê°±ì‹  ì‹œê°„: 5ì´ˆ â†’ 0.05ì´ˆ (100ë°° ê°œì„ )
# - ì‹œìŠ¤í…œ ê°€ìš©ì„±: 99.9% â†’ 99.99%
# - ì‚¬ìš©ìž ì°¸ì—¬ë„: 30% ì¦ê°€ (ëª…ì„± ê²½ìŸ)
```

---

## ðŸŒŸ ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

### ë¹„ìœ  1: ì˜¬ë¦¼í”½ ë©”ë‹¬ ìˆœìœ„í‘œ ðŸ…
```
Sorted Set = ì˜¬ë¦¼í”½ êµ­ê°€ë³„ ë©”ë‹¬ ìˆœìœ„í‘œ
- Member (ë©¤ë²„) = êµ­ê°€ ì´ë¦„ ("ëŒ€í•œë¯¼êµ­", "ë¯¸êµ­", "ì¤‘êµ­")
- Score (ì ìˆ˜) = ë©”ë‹¬ ê°œìˆ˜ (ê¸ˆ*3 + ì€*2 + ë™*1)
- ìžë™ ì •ë ¬ = ë©”ë‹¬ ê°œìˆ˜ê°€ ë³€í•˜ë©´ ìžë™ìœ¼ë¡œ ìˆœìœ„ ìž¬ì¡°ì •
- ìœ ì¼ì„± = í•œ êµ­ê°€ëŠ” í•œ ë²ˆë§Œ ë“±ìž¥
- ìˆœìœ„ ê²€ìƒ‰ = "ëŒ€í•œë¯¼êµ­ì€ ëª‡ ë“±?" ì¦‰ì‹œ ì¡°íšŒ

ì‹¤ì‹œê°„ìœ¼ë¡œ ë©”ë‹¬ íšë“ ì‹œë§ˆë‹¤ ì ìˆ˜ê°€ ì¦ê°€í•˜ê³ ,
ìˆœìœ„ê°€ ìžë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤!
```

### ë¹„ìœ  2: ë„¤ì´ë²„ ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´ ðŸ”
```
Sorted Set = ë„¤ì´ë²„ ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´ ìˆœìœ„
- Member = ê²€ìƒ‰ì–´ ("ë‚ ì”¨", "ë‰´ìŠ¤", "ì£¼ì‹")
- Score = ê²€ìƒ‰ ë¹ˆë„ (ìµœê·¼ 1ì‹œê°„ ê²€ìƒ‰ íšŸìˆ˜)
- ìžë™ ì •ë ¬ = ê²€ìƒ‰ ë§Žì´ ëœ ìˆœì„œë¡œ ìžë™ ì •ë ¬
- ì‹œê°„ ê°ì†Œ = ì‹œê°„ ì§€ë‚˜ë©´ ì ìˆ˜ ìžë™ ê°ì†Œ
- TOP 10 ì¡°íšŒ = ìƒìœ„ 10ê°œë§Œ ë¹ ë¥´ê²Œ ê°€ì ¸ì˜¤ê¸°

ê²€ìƒ‰í•  ë•Œë§ˆë‹¤ í•´ë‹¹ ë‹¨ì–´ì˜ ì ìˆ˜ê°€ ì¦ê°€í•˜ê³ ,
ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆœìœ„ê°€ ë³€ë™ë©ë‹ˆë‹¤!
```

### ë¹„ìœ  3: ë°°ë‹¬ì˜ë¯¼ì¡± ë§›ì§‘ ìˆœìœ„ ðŸ•
```
Sorted Set = ë°°ë‹¬ì•± ë§›ì§‘ ëž­í‚¹
- Member = ì‹ë‹¹ ì´ë¦„ ("OOì¹˜í‚¨", "XXí”¼ìž")
- Score = ì¸ê¸°ë„ (ì£¼ë¬¸ìˆ˜*5 + ë¦¬ë·°ìˆ˜*3 + í‰ì *20)
- ìžë™ ì •ë ¬ = ì¸ê¸°ë„ ë†’ì€ ìˆœì„œë¡œ ìžë™ ì •ë ¬
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ = ì£¼ë¬¸/ë¦¬ë·°ë§ˆë‹¤ ì ìˆ˜ ì¦ê°€
- ì§€ì—­ë³„ TOP 10 = ìš°ë¦¬ ë™ë„¤ ì¸ê¸° ë§›ì§‘ ì¦‰ì‹œ ì¡°íšŒ

ì£¼ë¬¸ê³¼ ë¦¬ë·°ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ì ìˆ˜ê°€ ì˜¬ë¼ê°€ê³ ,
ì¸ê¸° ë§›ì§‘ ìˆœìœ„ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€í•©ë‹ˆë‹¤!
```

### ë¹„ìœ  4: ë¦¬ê·¸ ì˜¤ë¸Œ ë ˆì „ë“œ í‹°ì–´ ì‹œìŠ¤í…œ ðŸŽ®
```
Sorted Set = LOL ëž­í¬ ê²Œìž„ í‹°ì–´
- Member = ì†Œí™˜ì‚¬ëª… ("Faker", "ShowMaker")
- Score = LP (League Points)
- ìžë™ ì •ë ¬ = LP ë†’ì€ ìˆœì„œë¡œ ìžë™ ì •ë ¬
- ìŠ¹/íŒ¨ ë°˜ì˜ = ê²Œìž„ ìŠ¹ë¦¬ ì‹œ +15 LP, íŒ¨ë°° ì‹œ -15 LP
- í‹°ì–´ë³„ ë¶„ë¥˜ = ì ìˆ˜ êµ¬ê°„ìœ¼ë¡œ ë¸Œë¡ ì¦ˆ~ì±Œë¦°ì € êµ¬ë¶„

ê²Œìž„ì´ ëë‚  ë•Œë§ˆë‹¤ LPê°€ ë³€í•˜ê³ ,
ë‚´ ìˆœìœ„ì™€ í‹°ì–´ê°€ ìžë™ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤!
```

### ë¹„ìœ  5: ìœ íŠœë¸Œ ì¸ê¸° ë™ì˜ìƒ ì°¨íŠ¸ ðŸ“º
```
Sorted Set = ìœ íŠœë¸Œ ì¸ê¸° ê¸‰ìƒìŠ¹ ë™ì˜ìƒ
- Member = ë™ì˜ìƒ ID ("dQw4w9WgXcQ")
- Score = ì¸ê¸° ì ìˆ˜ (ì¡°íšŒìˆ˜*1 + ì¢‹ì•„ìš”*3 + ëŒ“ê¸€*5 + ê³µìœ *10)
- ìžë™ ì •ë ¬ = ì¸ê¸° ì ìˆ˜ ë†’ì€ ìˆœì„œë¡œ ìžë™ ì •ë ¬
- ì‹œê°„ ê°€ì¤‘ì¹˜ = ìµœì‹  í™œë™ì´ ë” ë†’ì€ ì ìˆ˜
- TOP 50 ì¡°íšŒ = ì¸ê¸° ê¸‰ìƒìŠ¹ ë™ì˜ìƒ 50ê°œ ì¦‰ì‹œ í‘œì‹œ

ì‚¬ìš©ìž í™œë™(ì¡°íšŒ, ì¢‹ì•„ìš” ë“±)ì´ ë°œìƒí•  ë•Œë§ˆë‹¤
ì ìˆ˜ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ê³  ìˆœìœ„ê°€ ë³€í•©ë‹ˆë‹¤!
```

### ðŸŽ¯ ì¢…í•© ë¹„êµí‘œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sorted Set   â”‚ ì˜¬ë¦¼í”½ ìˆœìœ„ â”‚ ì‹¤ê²€ ìˆœìœ„   â”‚ ê²Œìž„ ëž­í‚¹   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Member       â”‚ êµ­ê°€ëª…      â”‚ ê²€ìƒ‰ì–´      â”‚ í”Œë ˆì´ì–´ëª…  â”‚
â”‚ Score        â”‚ ë©”ë‹¬ ê°œìˆ˜   â”‚ ê²€ìƒ‰ ë¹ˆë„   â”‚ LP/ì ìˆ˜     â”‚
â”‚ ìžë™ ì •ë ¬    â”‚ ìˆœìœ„ ìžë™   â”‚ ìˆœìœ„ ìžë™   â”‚ í‹°ì–´ ìžë™   â”‚
â”‚ ì ìˆ˜ ì¦ê°    â”‚ ë©”ë‹¬ íšë“   â”‚ ê²€ìƒ‰ ì‹œ     â”‚ ê²Œìž„ ìŠ¹íŒ¨   â”‚
â”‚ ìˆœìœ„ ì¡°íšŒ    â”‚ O(log N)    â”‚ O(log N)    â”‚ O(log N)    â”‚
â”‚ TOP N        â”‚ ìƒìœ„ 10ê°œêµ­ â”‚ TOP 20      â”‚ ì±Œë¦°ì € 100  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ§¬ 1. Sorted Set íƒ€ìž… ì™„ì „ ì´í•´

### 1.1 Redis Sorted Setì´ëž€ ë¬´ì—‡ì¸ê°€?

**Redis Sorted Setì€ ê° ì›ì†Œê°€ ì ìˆ˜(score)ë¥¼ ê°€ì§€ë©°, ì ìˆ˜ì— ë”°ë¼ ìžë™ìœ¼ë¡œ ì •ë ¬ë˜ëŠ” ìœ ì¼í•œ ì›ì†Œë“¤ì˜ ì§‘í•©ìž…ë‹ˆë‹¤.**

```
ðŸ… ì˜¬ë¦¼í”½ ìˆœìœ„í‘œ ë¹„ìœ :
- Sorted Set = ì˜¬ë¦¼í”½ ìˆœìœ„í‘œ
- Member = ì„ ìˆ˜ ì´ë¦„
- Score = ì„ ìˆ˜ì˜ ì ìˆ˜
- íŠ¹ì§•: ì ìˆ˜ ìˆœìœ¼ë¡œ ìžë™ ì •ë ¬, ì¤‘ë³µ ì„ ìˆ˜ ì—†ìŒ, ë¹ ë¥¸ ìˆœìœ„ ê²€ìƒ‰

ì‹¤ì œë¡œëŠ” ê²Œìž„ ëž­í‚¹, ì¸ê¸° ìˆœìœ„, ì‹œê°„ìˆœ ì •ë ¬ ë“±ì— í™œìš©ë©ë‹ˆë‹¤.
```

### 1.2 Sorted Setì˜ í•µì‹¬ íŠ¹ì§•

#### 1) ìžë™ ì •ë ¬ (Auto Sorted)
```bash
# ì ìˆ˜ì— ë”°ë¼ ìžë™ìœ¼ë¡œ ì •ë ¬ë¨
127.0.0.1:6379> ZADD leaderboard 100 "player1"
(integer) 1

127.0.0.1:6379> ZADD leaderboard 300 "player2"
(integer) 1

127.0.0.1:6379> ZADD leaderboard 200 "player3"
(integer) 1

# ì ìˆ˜ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ìžë™ ì •ë ¬ë˜ì–´ ì €ìž¥ë¨
127.0.0.1:6379> ZRANGE leaderboard 0 -1 WITHSCORES
1) "player1"
2) "100"
3) "player3"
4) "200"
5) "player2"
6) "300"
```

#### 2) ìœ ì¼ì„± ë³´ìž¥ (Unique Members)
```bash
# ê°™ì€ ë©¤ë²„ë¥¼ ë‹¤ì‹œ ì¶”ê°€í•˜ë©´ ì ìˆ˜ë§Œ ì—…ë°ì´íŠ¸ë¨
127.0.0.1:6379> ZADD leaderboard 350 "player1"
(integer) 0   # ìƒˆë¡œìš´ ë©¤ë²„ê°€ ì•„ë‹ˆë¯€ë¡œ 0 ë°˜í™˜

127.0.0.1:6379> ZRANGE leaderboard 0 -1 WITHSCORES
1) "player3"
2) "200"
3) "player2"
4) "300"
5) "player1"
6) "350"   # player1ì˜ ì ìˆ˜ê°€ ì—…ë°ì´íŠ¸ë˜ì–´ ìˆœìœ„ ë³€ê²½
```

#### 3) ë¹ ë¥¸ ìˆœìœ„ ê²€ìƒ‰ (Fast Rank Operations)
```bash
# O(log N) ì‹œê°„ì— ìˆœìœ„ ê²€ìƒ‰
127.0.0.1:6379> ZRANK leaderboard "player2"
(integer) 1   # 0-based indexë¡œ 2ë“± (ì ìˆ˜ 300)

127.0.0.1:6379> ZREVRANK leaderboard "player2"
(integer) 1   # ì—­ìˆœì—ì„œë„ 2ë“±

# ì ìˆ˜ ì¡°íšŒë„ O(1)
127.0.0.1:6379> ZSCORE leaderboard "player1"
"350"
```

#### 4) ì ìˆ˜ ë²”ìœ„ ê²€ìƒ‰ (Score Range Queries)
```bash
# íŠ¹ì • ì ìˆ˜ ë²”ìœ„ì˜ ë©¤ë²„ë“¤ ê²€ìƒ‰
127.0.0.1:6379> ZRANGEBYSCORE leaderboard 200 300
1) "player3"
2) "player2"

# ê°œìˆ˜ ì„¸ê¸°
127.0.0.1:6379> ZCOUNT leaderboard 200 300
(integer) 2
```

### 1.3 Sorted Setì˜ ë‚´ë¶€ êµ¬ì¡°ì™€ ì„±ëŠ¥

#### ë‚´ë¶€ ì¸ì½”ë”© ë°©ì‹
```bash
# RedisëŠ” Sorted Set í¬ê¸°ì— ë”°ë¼ ë‹¤ë¥¸ ì¸ì½”ë”© ì‚¬ìš©:
# 1. ziplist: ìž‘ì€ Sorted Set (128ê°œ ì´í•˜, 64ë°”ì´íŠ¸ ì´í•˜ ê°’)
# 2. skiplist + hashtable: í° Sorted Set (ì¡°ê±´ ì´ˆê³¼ ì‹œ)

# ìž‘ì€ Sorted Set (ziplist ì¸ì½”ë”©)
127.0.0.1:6379> ZADD small_zset 1 "a" 2 "b" 3 "c"
(integer) 3

127.0.0.1:6379> OBJECT ENCODING small_zset
"ziplist"

# í° Sorted Set (skiplist ì¸ì½”ë”©)
127.0.0.1:6379> ZADD large_zset $(for i in {1..200}; do echo "$i member$i"; done)
(integer) 200

127.0.0.1:6379> OBJECT ENCODING large_zset
"skiplist"
```

#### ì‹œê°„ ë³µìž¡ë„
```bash
# O(log N) ì—°ì‚°: íš¨ìœ¨ì 
ZADD, ZREM, ZSCORE, ZRANK, ZREVRANK

# O(log N + M) ì—°ì‚°: ë²”ìœ„ì— ë”°ë¼ ë‹¤ë¦„ (Mì€ ë°˜í™˜ë˜ëŠ” ì›ì†Œ ìˆ˜)
ZRANGE, ZREVRANGE, ZRANGEBYSCORE, ZREMRANGEBYSCORE

# O(N) ì—°ì‚°: ì£¼ì˜ í•„ìš”
ZCARD (ë¹ ë¦„), ZCOUNT (ë²”ìœ„ì— ë”°ë¼), ZSCAN
```

---

## âž• 2. ë°ì´í„° ì¶”ê°€ì™€ ì œê±° (ZADD, ZREM, ZPOP)

### 2.1 ZADD - ì›ì†Œ ì¶”ê°€

#### ê¸°ë³¸ ì‚¬ìš©ë²•
```bash
# ìƒˆ Sorted Set ìƒì„±í•˜ë©´ì„œ ì›ì†Œ ì¶”ê°€
127.0.0.1:6379> ZADD game_scores 1500 "player_alice"
(integer) 1

# ê¸°ì¡´ Sorted Setì— ì›ì†Œ ì¶”ê°€
127.0.0.1:6379> ZADD game_scores 2300 "player_bob"
(integer) 1

127.0.0.1:6379> ZADD game_scores 1800 "player_charlie"
(integer) 1

# í˜„ìž¬ ìƒíƒœ í™•ì¸ (ì ìˆ˜ ì˜¤ë¦„ì°¨ìˆœ)
127.0.0.1:6379> ZRANGE game_scores 0 -1 WITHSCORES
1) "player_alice"
2) "1500"
3) "player_charlie"
4) "1800"
5) "player_bob"
6) "2300"
```

#### ì—¬ëŸ¬ ì›ì†Œ ë™ì‹œ ì¶”ê°€
```bash
# í•œ ë²ˆì— ì—¬ëŸ¬ ì›ì†Œ ì¶”ê°€
127.0.0.1:6379> ZADD popular_posts 150 "post:1001" 89 "post:1002" 234 "post:1003" 67 "post:1004" 312 "post:1005"
(integer) 5

127.0.0.1:6379> ZRANGE popular_posts 0 -1 WITHSCORES
 1) "post:1004"
 2) "67"
 3) "post:1002"
 4) "89"
 5) "post:1001"
 6) "150"
 7) "post:1003"
 8) "234"
 9) "post:1005"
10) "312"
```

#### ZADD ì˜µì…˜ë“¤
```bash
# NX: ë©¤ë²„ê°€ ì¡´ìž¬í•˜ì§€ ì•Šì„ ë•Œë§Œ ì¶”ê°€
127.0.0.1:6379> ZADD game_scores NX 2500 "player_alice"
(integer) 0   # ì´ë¯¸ ì¡´ìž¬í•˜ë¯€ë¡œ ì¶”ê°€ë˜ì§€ ì•ŠìŒ

127.0.0.1:6379> ZADD game_scores NX 2500 "player_diana"
(integer) 1   # ìƒˆ ë©¤ë²„ ì¶”ê°€

# XX: ë©¤ë²„ê°€ ì´ë¯¸ ì¡´ìž¬í•  ë•Œë§Œ ì ìˆ˜ ì—…ë°ì´íŠ¸
127.0.0.1:6379> ZADD game_scores XX 2600 "player_alice"
(integer) 0   # ì—…ë°ì´íŠ¸ë¨ (ìƒˆ ë©¤ë²„ê°€ ì•„ë‹ˆë¯€ë¡œ 0)

127.0.0.1:6379> ZADD game_scores XX 3000 "player_eve"
(integer) 0   # ì¡´ìž¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¶”ê°€ë˜ì§€ ì•ŠìŒ

# CH: ë³€ê²½ëœ ì›ì†Œ ê°œìˆ˜ ë°˜í™˜ (ì ìˆ˜ ë³€ê²½ í¬í•¨)
127.0.0.1:6379> ZADD game_scores CH 2700 "player_alice"
(integer) 1   # ì ìˆ˜ê°€ ë³€ê²½ë˜ì—ˆìœ¼ë¯€ë¡œ 1 ë°˜í™˜

# INCR: ì ìˆ˜ ì¦ê°€ (ZINCRBYì™€ ë™ì¼)
127.0.0.1:6379> ZADD game_scores INCR 100 "player_bob"
"2400"   # ìƒˆë¡œìš´ ì ìˆ˜ ë°˜í™˜
```

### 2.2 ZREM - ì›ì†Œ ì œê±°

#### ê¸°ë³¸ ì œê±°
```bash
# ë‹¨ì¼ ì›ì†Œ ì œê±°
127.0.0.1:6379> ZREM game_scores "player_diana"
(integer) 1   # ì œê±°ëœ ì›ì†Œ ê°œìˆ˜

# ì—¬ëŸ¬ ì›ì†Œ ë™ì‹œ ì œê±°
127.0.0.1:6379> ZREM game_scores "player_alice" "player_bob"
(integer) 2   # 2ê°œ ì›ì†Œ ì œê±°ë¨

# ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” ì›ì†Œ ì œê±° ì‹œë„
127.0.0.1:6379> ZREM game_scores "nonexistent_player"
(integer) 0   # ì œê±°ëœ ì›ì†Œ ì—†ìŒ

# í˜„ìž¬ ìƒíƒœ í™•ì¸
127.0.0.1:6379> ZRANGE game_scores 0 -1 WITHSCORES
1) "player_charlie"
2) "1800"
```

### 2.3 ZPOP - ìµœê³ /ìµœì € ì ìˆ˜ ì›ì†Œ ì œê±°

#### ZPOPMAX - ìµœê³  ì ìˆ˜ ì›ì†Œ ì œê±° (Redis 5.0+)
```bash
# í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
127.0.0.1:6379> ZADD high_scores 100 "bronze" 200 "silver" 300 "gold" 400 "platinum" 500 "diamond"
(integer) 5

# ìµœê³  ì ìˆ˜ ì›ì†Œ ì œê±°
127.0.0.1:6379> ZPOPMAX high_scores
1) "diamond"
2) "500"

# ì—¬ëŸ¬ ê°œ ìµœê³  ì ìˆ˜ ì›ì†Œ ì œê±°
127.0.0.1:6379> ZPOPMAX high_scores 2
1) "platinum"
2) "400"
3) "gold"
4) "300"

127.0.0.1:6379> ZRANGE high_scores 0 -1 WITHSCORES
1) "bronze"
2) "100"
3) "silver"
4) "200"
```

#### ZPOPMIN - ìµœì € ì ìˆ˜ ì›ì†Œ ì œê±° (Redis 5.0+)
```bash
# ìµœì € ì ìˆ˜ ì›ì†Œ ì œê±°
127.0.0.1:6379> ZPOPMIN high_scores
1) "bronze"
2) "100"

127.0.0.1:6379> ZPOPMIN high_scores 1
1) "silver"
2) "200"

# ë¹ˆ Sorted Setì—ì„œ POP ì‹œë„
127.0.0.1:6379> ZPOPMIN high_scores
(empty array)
```

### 2.4 ì ìˆ˜ ê¸°ë°˜ ë²”ìœ„ ì œê±°

#### ZREMRANGEBYRANK - ìˆœìœ„ ê¸°ë°˜ ì œê±°
```bash
# í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
127.0.0.1:6379> ZADD rankings 100 "rank10" 200 "rank9" 300 "rank8" 400 "rank7" 500 "rank6" 600 "rank5" 700 "rank4" 800 "rank3" 900 "rank2" 1000 "rank1"
(integer) 10

# í•˜ìœ„ 3ê°œ ì œê±° (ì¸ë±ìŠ¤ 0, 1, 2)
127.0.0.1:6379> ZREMRANGEBYRANK rankings 0 2
(integer) 3   # 3ê°œ ì œê±°ë¨

127.0.0.1:6379> ZRANGE rankings 0 -1 WITHSCORES
 1) "rank7"
 2) "400"
 3) "rank6"
 4) "500"
 5) "rank5"
 6) "600"
 7) "rank4"
 8) "700"
 9) "rank3"
10) "800"
11) "rank2"
12) "900"
13) "rank1"
14) "1000"
```

#### ZREMRANGEBYSCORE - ì ìˆ˜ ê¸°ë°˜ ì œê±°
```bash
# ì ìˆ˜ 500 ì´í•˜ ì œê±°
127.0.0.1:6379> ZREMRANGEBYSCORE rankings 0 500
(integer) 2   # rank7(400), rank6(500) ì œê±°ë¨

127.0.0.1:6379> ZRANGE rankings 0 -1 WITHSCORES
 1) "rank5"
 2) "600"
 3) "rank4"
 4) "700"
 5) "rank3"
 6) "800"
 7) "rank2"
 8) "900"
 9) "rank1"
10) "1000"

# íŠ¹ì • ë²”ìœ„ ì œê±° (700 ì´ˆê³¼ 900 ë¯¸ë§Œ)
127.0.0.1:6379> ZREMRANGEBYSCORE rankings "(700" "(900"
(integer) 1   # rank3(800) ì œê±°ë¨
```

### 2.5 ì‹¤ë¬´ í™œìš© íŒ¨í„´

#### 1) ê²Œìž„ ë¦¬ë”ë³´ë“œ ê´€ë¦¬
```bash
# ê²Œìž„ ì‹œìž‘ ì‹œ í”Œë ˆì´ì–´ë“¤ ë“±ë¡
127.0.0.1:6379> ZADD game:match001:leaderboard 0 "player001" 0 "player002" 0 "player003" 0 "player004"
(integer) 4

# ê²Œìž„ ì¤‘ ì ìˆ˜ íšë“
127.0.0.1:6379> ZADD game:match001:leaderboard 150 "player001"
(integer) 0   # ì ìˆ˜ ì—…ë°ì´íŠ¸

127.0.0.1:6379> ZADD game:match001:leaderboard 89 "player002"
(integer) 0

127.0.0.1:6379> ZADD game:match001:leaderboard 234 "player003"
(integer) 0

127.0.0.1:6379> ZADD game:match001:leaderboard 178 "player004"
(integer) 0

# ìµœì¢… ìˆœìœ„ (ë†’ì€ ì ìˆ˜ë¶€í„°)
127.0.0.1:6379> ZREVRANGE game:match001:leaderboard 0 -1 WITHSCORES
1) "player003"
2) "234"
3) "player004"
4) "178"
5) "player001"
6) "150"
7) "player002"
8) "89"

# ê²Œìž„ ì¢…ë£Œ í›„ í•˜ìœ„ 50% ì œê±° (ë‹¤ìŒ ë¼ìš´ë“œ ì§„ì¶œìžë§Œ)
127.0.0.1:6379> ZCARD game:match001:leaderboard
(integer) 4

127.0.0.1:6379> ZREMRANGEBYRANK game:match001:leaderboard 0 1
(integer) 2   # í•˜ìœ„ 2ëª… ì œê±°

127.0.0.1:6379> ZRANGE game:match001:leaderboard 0 -1 WITHSCORES
1) "player001"
2) "150"
3) "player004"
4) "178"
5) "player003"
6) "234"
```

#### 2) ì¸ê¸° ì½˜í…ì¸  ìˆœìœ„
```bash
# ë¸”ë¡œê·¸ ê²Œì‹œê¸€ ì¸ê¸°ë„ ì¶”ì 
127.0.0.1:6379> ZADD blog:popular_posts 0 "post:tech:001" 0 "post:travel:002" 0 "post:food:003" 0 "post:tech:004"
(integer) 4

# ì¡°íšŒìˆ˜ ì¦ê°€ ì‹œë§ˆë‹¤ ì ìˆ˜ ì¦ê°€
127.0.0.1:6379> ZADD blog:popular_posts INCR 1 "post:tech:001"
"1"

127.0.0.1:6379> ZADD blog:popular_posts INCR 1 "post:tech:001"
"2"

127.0.0.1:6379> ZADD blog:popular_posts INCR 1 "post:travel:002"
"1"

127.0.0.1:6379> ZADD blog:popular_posts INCR 1 "post:food:003"
"1"

127.0.0.1:6379> ZADD blog:popular_posts INCR 1 "post:food:003"
"2"

127.0.0.1:6379> ZADD blog:popular_posts INCR 1 "post:food:003"
"3"

# ì¸ê¸° ìˆœìœ„ (ë†’ì€ ì¡°íšŒìˆ˜ë¶€í„°)
127.0.0.1:6379> ZREVRANGE blog:popular_posts 0 2 WITHSCORES
1) "post:food:003"
2) "3"
3) "post:tech:001"
4) "2"
5) "post:travel:002"
6) "1"

# ì¸ê¸° ì—†ëŠ” ê²Œì‹œê¸€ ì •ë¦¬ (ì¡°íšŒìˆ˜ 0ì¸ ê¸€ ì‚­ì œ)
127.0.0.1:6379> ZREMRANGEBYSCORE blog:popular_posts 0 0
(integer) 1   # post:tech:004 ì œê±°ë¨
```

#### 3) ì‹¤ì‹œê°„ íŠ¸ë Œë”© íƒœê·¸
```bash
# íƒœê·¸ ì‚¬ìš© ë¹ˆë„ ì¶”ì 
127.0.0.1:6379> ZADD trending:tags $(date +%Y%m%d) 0 "redis" 0 "python" 0 "javascript" 0 "docker" 0 "kubernetes"
(integer) 5

# íƒœê·¸ ì‚¬ìš© ì‹œë§ˆë‹¤ ì ìˆ˜ ì¦ê°€
127.0.0.1:6379> ZADD trending:tags:$(date +%Y%m%d) INCR 1 "redis"
"1"

127.0.0.1:6379> ZADD trending:tags:$(date +%Y%m%d) INCR 1 "python"
"1"

127.0.0.1:6379> ZADD trending:tags:$(date +%Y%m%d) INCR 1 "redis"
"2"

127.0.0.1:6379> ZADD trending:tags:$(date +%Y%m%d) INCR 1 "javascript"
"1"

127.0.0.1:6379> ZADD trending:tags:$(date +%Y%m%d) INCR 1 "redis"
"3"

# ì˜¤ëŠ˜ì˜ íŠ¸ë Œë”© íƒœê·¸ TOP 3
127.0.0.1:6379> ZREVRANGE trending:tags:$(date +%Y%m%d) 0 2 WITHSCORES
1) "redis"
2) "3"
3) "python"
4) "1"
5) "javascript"
6) "1"

# ì˜¤ëž˜ëœ íŠ¸ë Œë”© ë°ì´í„° ì •ë¦¬ (7ì¼ ì „ ë°ì´í„° ì‚­ì œ)
# ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰
# DEL trending:tags:$(date -d '7 days ago' +%Y%m%d)
```

---

## ðŸ“Š 3. ëž­í‚¹ê³¼ ë²”ìœ„ ì¡°íšŒ (ZRANGE, ZRANK, ZSCORE)

### 3.1 ZRANGE - ìˆœìœ„ ê¸°ë°˜ ë²”ìœ„ ì¡°íšŒ

#### ê¸°ë³¸ ë²”ìœ„ ì¡°íšŒ
```bash
# í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
127.0.0.1:6379> ZADD student_scores 85 "Alice" 92 "Bob" 78 "Charlie" 95 "Diana" 88 "Eve"
(integer) 5

# ì „ì²´ ì¡°íšŒ (ì ìˆ˜ ì˜¤ë¦„ì°¨ìˆœ)
127.0.0.1:6379> ZRANGE student_scores 0 -1
1) "Charlie"
2) "Alice"
3) "Eve"
4) "Bob"
5) "Diana"

# ì ìˆ˜ì™€ í•¨ê»˜ ì¡°íšŒ
127.0.0.1:6379> ZRANGE student_scores 0 -1 WITHSCORES
 1) "Charlie"
 2) "78"
 3) "Alice"
 4) "85"
 5) "Eve"
 6) "88"
 7) "Bob"
 8) "92"
 9) "Diana"
10) "95"

# ìƒìœ„ 3ëª… ì¡°íšŒ
127.0.0.1:6379> ZRANGE student_scores 0 2
1) "Charlie"
2) "Alice"
3) "Eve"

# í•˜ìœ„ 2ëª… ì¡°íšŒ
127.0.0.1:6379> ZRANGE student_scores -2 -1
1) "Bob"
2) "Diana"
```

### 3.2 ZREVRANGE - ì—­ìˆœ ë²”ìœ„ ì¡°íšŒ

```bash
# ë†’ì€ ì ìˆ˜ë¶€í„° ì¡°íšŒ (ë‚´ë¦¼ì°¨ìˆœ)
127.0.0.1:6379> ZREVRANGE student_scores 0 -1 WITHSCORES
 1) "Diana"
 2) "95"
 3) "Bob"
 4) "92"
 5) "Eve"
 6) "88"
 7) "Alice"
 8) "85"
 9) "Charlie"
10) "78"

# 1ë“±ë¶€í„° 3ë“±ê¹Œì§€
127.0.0.1:6379> ZREVRANGE student_scores 0 2 WITHSCORES
1) "Diana"
2) "95"
3) "Bob"
4) "92"
5) "Eve"
6) "88"

# ê¼´ë“±ë¶€í„° 2ëª…
127.0.0.1:6379> ZREVRANGE student_scores -2 -1 WITHSCORES
1) "Alice"
2) "85"
3) "Charlie"
4) "78"
```

### 3.3 ZRANK / ZREVRANK - ìˆœìœ„ ì¡°íšŒ

#### ìˆœìœ„ í™•ì¸
```bash
# ì˜¤ë¦„ì°¨ìˆœ ìˆœìœ„ (0ë¶€í„° ì‹œìž‘)
127.0.0.1:6379> ZRANK student_scores "Alice"
(integer) 1   # 2ë²ˆì§¸ (78ì  Charlie ë‹¤ìŒ)

127.0.0.1:6379> ZRANK student_scores "Diana"
(integer) 4   # 5ë²ˆì§¸ (ìµœê³  ì ìˆ˜)

# ë‚´ë¦¼ì°¨ìˆœ ìˆœìœ„ (0ë¶€í„° ì‹œìž‘)
127.0.0.1:6379> ZREVRANK student_scores "Diana"
(integer) 0   # 1ë“±

127.0.0.1:6379> ZREVRANK student_scores "Charlie"
(integer) 4   # 5ë“± (ìµœì € ì ìˆ˜)

# ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” ë©¤ë²„
127.0.0.1:6379> ZRANK student_scores "Frank"
(nil)
```

### 3.4 ZSCORE - ì ìˆ˜ ì¡°íšŒ

```bash
# ê°œë³„ ì ìˆ˜ ì¡°íšŒ
127.0.0.1:6379> ZSCORE student_scores "Alice"
"85"

127.0.0.1:6379> ZSCORE student_scores "Diana"
"95"

# ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” ë©¤ë²„
127.0.0.1:6379> ZSCORE student_scores "Frank"
(nil)
```

### 3.5 ZMSCORE - ì—¬ëŸ¬ ì ìˆ˜ ë™ì‹œ ì¡°íšŒ (Redis 6.2+)

```bash
# ì—¬ëŸ¬ ë©¤ë²„ì˜ ì ìˆ˜ë¥¼ í•œ ë²ˆì— ì¡°íšŒ
127.0.0.1:6379> ZMSCORE student_scores "Alice" "Bob" "Charlie" "Frank"
1) "85"
2) "92"
3) "78"
4) (nil)   # FrankëŠ” ì¡´ìž¬í•˜ì§€ ì•ŠìŒ
```

### 3.6 ì ìˆ˜ ê¸°ë°˜ ë²”ìœ„ ì¡°íšŒ (ZRANGEBYSCORE)

#### ê¸°ë³¸ ì ìˆ˜ ë²”ìœ„ ì¡°íšŒ
```bash
# 80ì  ì´ìƒ 90ì  ì´í•˜ í•™ìƒë“¤
127.0.0.1:6379> ZRANGEBYSCORE student_scores 80 90
1) "Alice"
2) "Eve"

# ì ìˆ˜ì™€ í•¨ê»˜ ì¡°íšŒ
127.0.0.1:6379> ZRANGEBYSCORE student_scores 80 90 WITHSCORES
1) "Alice"
2) "85"
3) "Eve"
4) "88"

# 90ì  ì´ˆê³¼ í•™ìƒë“¤
127.0.0.1:6379> ZRANGEBYSCORE student_scores "(90" "+inf"
1) "Bob"
2) "Diana"

# 85ì  ë¯¸ë§Œ í•™ìƒë“¤
127.0.0.1:6379> ZRANGEBYSCORE student_scores "-inf" "(85"
1) "Charlie"
```

#### LIMIT ì˜µì…˜ìœ¼ë¡œ íŽ˜ì´ì§•
```bash
# 80ì  ì´ìƒì—ì„œ ìƒìœ„ 1ëª…ë§Œ
127.0.0.1:6379> ZRANGEBYSCORE student_scores 80 "+inf" LIMIT 0 1
1) "Alice"

# 80ì  ì´ìƒì—ì„œ 2ë²ˆì§¸ë¶€í„° 2ëª…
127.0.0.1:6379> ZRANGEBYSCORE student_scores 80 "+inf" LIMIT 1 2
1) "Eve"
2) "Bob"
```

### 3.7 ZREVRANGEBYSCORE - ì—­ìˆœ ì ìˆ˜ ë²”ìœ„ ì¡°íšŒ

```bash
# ë†’ì€ ì ìˆ˜ë¶€í„° 90ì  ì´ìƒ
127.0.0.1:6379> ZREVRANGEBYSCORE student_scores "+inf" 90 WITHSCORES
1) "Diana"
2) "95"
3) "Bob"
4) "92"

# 90ì  ì´í•˜ë¶€í„° 80ì  ì´ìƒê¹Œì§€ (ë†’ì€ ì ìˆ˜ë¶€í„°)
127.0.0.1:6379> ZREVRANGEBYSCORE student_scores 90 80 WITHSCORES
1) "Eve"
2) "88"
3) "Alice"
4) "85"
```

### 3.8 ì‹¤ë¬´ í™œìš© íŒ¨í„´

#### 1) ê²Œìž„ ì „ì²´ ë¦¬ë”ë³´ë“œ
```bash
# ì „ ì„¸ê³„ í”Œë ˆì´ì–´ ì ìˆ˜ (ìˆ˜ë°±ë§Œ ëª…)
127.0.0.1:6379> ZADD global_leaderboard 15000 "pro_player001" 8900 "casual_player123" 25000 "esports_star" 12000 "gamer_girl456" 18500 "streamer_bob"
(integer) 5

# ì „ì²´ 1ë“±ë¶€í„° 10ë“±ê¹Œì§€
127.0.0.1:6379> ZREVRANGE global_leaderboard 0 9 WITHSCORES
 1) "esports_star"
 2) "25000"
 3) "streamer_bob"
 4) "18500"
 5) "pro_player001"
 6) "15000"
 7) "gamer_girl456"
 8) "12000"
 9) "casual_player123"
10) "8900"

# íŠ¹ì • í”Œë ˆì´ì–´ ìˆœìœ„ í™•ì¸
127.0.0.1:6379> ZREVRANK global_leaderboard "pro_player001"
(integer) 2   # 3ë“±

# ë‚´ ì£¼ë³€ ìˆœìœ„ í™•ì¸ (ë‚´ ìˆœìœ„ Â±5)
# my_rank = ZREVRANK global_leaderboard "pro_player001"
# start = max(0, my_rank - 5)
# end = my_rank + 5
127.0.0.1:6379> ZREVRANGE global_leaderboard 0 7 WITHSCORES
 1) "esports_star"
 2) "25000"
 3) "streamer_bob"
 4) "18500"
 5) "pro_player001"
 6) "15000"    # â† ë‚´ ìœ„ì¹˜
 7) "gamer_girl456"
 8) "12000"
 9) "casual_player123"
10) "8900"

# íŠ¹ì • ì ìˆ˜ëŒ€ í”Œë ˆì´ì–´ë“¤ (10000~20000ì )
127.0.0.1:6379> ZRANGEBYSCORE global_leaderboard 10000 20000 WITHSCORES
1) "gamer_girl456"
2) "12000"
3) "pro_player001"
4) "15000"
5) "streamer_bob"
6) "18500"
```

#### 2) ìƒí’ˆ ì¸ê¸°ë„ ìˆœìœ„
```bash
# ìƒí’ˆë³„ êµ¬ë§¤ íšŸìˆ˜
127.0.0.1:6379> ZADD product_popularity 1250 "laptop_001" 890 "mouse_002" 2100 "keyboard_003" 650 "monitor_004" 1800 "headset_005"
(integer) 5

# ì¸ê¸° ìƒí’ˆ TOP 3
127.0.0.1:6379> ZREVRANGE product_popularity 0 2 WITHSCORES
1) "keyboard_003"
2) "2100"
3) "headset_005"
4) "1800"
5) "laptop_001"
6) "1250"

# ì¤‘ê°„ ì¸ê¸° ìƒí’ˆë“¤ (500~1500 êµ¬ë§¤)
127.0.0.1:6379> ZRANGEBYSCORE product_popularity 500 1500 WITHSCORES
1) "monitor_004"
2) "650"
3) "mouse_002"
4) "890"
5) "laptop_001"
6) "1250"

# íŠ¹ì • ìƒí’ˆì˜ ì¸ê¸° ìˆœìœ„
127.0.0.1:6379> ZREVRANK product_popularity "mouse_002"
(integer) 4   # 5ë“±

# í•´ë‹¹ ìƒí’ˆë³´ë‹¤ ì¸ê¸° ìžˆëŠ” ìƒí’ˆë“¤
127.0.0.1:6379> ZSCORE product_popularity "mouse_002"
"890"

127.0.0.1:6379> ZRANGEBYSCORE product_popularity "(890" "+inf" WITHSCORES
1) "laptop_001"
2) "1250"
3) "headset_005"
4) "1800"
5) "keyboard_003"
6) "2100"
```

#### 3) ì‹œê°„ìˆœ ê²Œì‹œë¬¼ ì •ë ¬
```bash
# ê²Œì‹œë¬¼ì„ timestamp ì ìˆ˜ë¡œ ì •ë ¬
127.0.0.1:6379> ZADD timeline:user001 1704067200 "post:1001" 1704070800 "post:1002" 1704074400 "post:1003" 1704078000 "post:1004"
(integer) 4
# timestamp: 2024-01-01 00:00:00, 01:00:00, 02:00:00, 03:00:00

# ìµœì‹  ê²Œì‹œë¬¼ë¶€í„° ì¡°íšŒ
127.0.0.1:6379> ZREVRANGE timeline:user001 0 -1 WITHSCORES
1) "post:1004"
2) "1704078000"
3) "post:1003"
4) "1704074400"
5) "post:1002"
6) "1704070800"
7) "post:1001"
8) "1704067200"

# íŠ¹ì • ì‹œê°„ ì´í›„ ê²Œì‹œë¬¼ë“¤ (1704070800 ì´í›„)
127.0.0.1:6379> ZRANGEBYSCORE timeline:user001 "(1704070800" "+inf"
1) "post:1003"
2) "post:1004"

# ìµœê·¼ 2ì‹œê°„ ë‚´ ê²Œì‹œë¬¼ (í˜„ìž¬ ì‹œê°„ì„ 1704078000ë¼ê³  ê°€ì •)
127.0.0.1:6379> ZRANGEBYSCORE timeline:user001 1704070800 1704078000
1) "post:1002"
2) "post:1003"
3) "post:1004"
```

---

## ðŸ”¢ 4. ì ìˆ˜ ê¸°ë°˜ ì—°ì‚° (ZINCRBY, ZCOUNT)

### 4.1 ZINCRBY - ì ìˆ˜ ì¦ê°

#### ê¸°ë³¸ ì ìˆ˜ ì¦ê°€
```bash
# í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
127.0.0.1:6379> ZADD user_points 100 "user001" 150 "user002" 200 "user003"
(integer) 3

# ì ìˆ˜ ì¦ê°€
127.0.0.1:6379> ZINCRBY user_points 50 "user001"
"150"   # ìƒˆë¡œìš´ ì ìˆ˜ ë°˜í™˜

127.0.0.1:6379> ZINCRBY user_points 25 "user002"
"175"

# ì ìˆ˜ ê°ì†Œ (ìŒìˆ˜ ì‚¬ìš©)
127.0.0.1:6379> ZINCRBY user_points -30 "user003"
"170"

# ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” ë©¤ë²„ì— ì ìˆ˜ ì¦ê°€ (ìƒˆë¡œ ì¶”ê°€ë¨)
127.0.0.1:6379> ZINCRBY user_points 80 "user004"
"80"

# í˜„ìž¬ ìƒíƒœ í™•ì¸
127.0.0.1:6379> ZRANGE user_points 0 -1 WITHSCORES
1) "user004"
2) "80"
3) "user001"
4) "150"
5) "user003"
6) "170"
7) "user002"
8) "175"
```

#### ì‹¤ìˆ˜ ì ìˆ˜ ì¦ê°€
```bash
# ì‹¤ìˆ˜ ì ìˆ˜ë„ ì§€ì›
127.0.0.1:6379> ZINCRBY user_points 10.5 "user001"
"160.5"

127.0.0.1:6379> ZINCRBY user_points -5.25 "user002"
"169.75"

127.0.0.1:6379> ZRANGE user_points 0 -1 WITHSCORES
1) "user004"
2) "80"
3) "user001"
4) "160.5"
5) "user003"
6) "170"
7) "user002"
8) "169.75"
```

### 4.2 ZCOUNT - ì ìˆ˜ ë²”ìœ„ ë‚´ ê°œìˆ˜ ì„¸ê¸°

```bash
# 150ì  ì´ìƒ 180ì  ì´í•˜ ì‚¬ìš©ìž ìˆ˜
127.0.0.1:6379> ZCOUNT user_points 150 180
(integer) 3

# 100ì  ì´ìƒ ì‚¬ìš©ìž ìˆ˜
127.0.0.1:6379> ZCOUNT user_points 100 "+inf"
(integer) 4

# 170ì  ì´ˆê³¼ ì‚¬ìš©ìž ìˆ˜
127.0.0.1:6379> ZCOUNT user_points "(170" "+inf"
(integer) 0   # 170 ì´ˆê³¼í•˜ëŠ” ì‚¬ìš©ìž ì—†ìŒ

# ì „ì²´ ì‚¬ìš©ìž ìˆ˜
127.0.0.1:6379> ZCOUNT user_points "-inf" "+inf"
(integer) 4

# ZCARDì™€ ë™ì¼í•œ ê²°ê³¼
127.0.0.1:6379> ZCARD user_points
(integer) 4
```

### 4.3 ZLEXCOUNT - ì‚¬ì „ìˆœ ê°œìˆ˜ ì„¸ê¸°

```bash
# ê°™ì€ ì ìˆ˜ë¥¼ ê°€ì§„ ë©¤ë²„ë“¤ì˜ ì‚¬ì „ìˆœ ì²˜ë¦¬
127.0.0.1:6379> ZADD alphabet 0 "apple" 0 "banana" 0 "cherry" 0 "date" 0 "elderberry"
(integer) 5

# 'b'ë¶€í„° 'd'ê¹Œì§€ ë‹¨ì–´ ê°œìˆ˜
127.0.0.1:6379> ZLEXCOUNT alphabet "[b" "[d"
(integer) 3   # banana, cherry, date

# 'c'ë¡œ ì‹œìž‘í•˜ëŠ” ë‹¨ì–´ ê°œìˆ˜
127.0.0.1:6379> ZLEXCOUNT alphabet "[c" "[d"
(integer) 2   # cherry, date

# ì „ì²´ ê°œìˆ˜
127.0.0.1:6379> ZLEXCOUNT alphabet "-" "+"
(integer) 5
```

### 4.4 ì‹¤ë¬´ í™œìš© íŒ¨í„´

#### 1) ì‹¤ì‹œê°„ í¬ì¸íŠ¸ ì‹œìŠ¤í…œ
```bash
# ì‚¬ìš©ìž í¬ì¸íŠ¸ ì´ˆê¸°í™”
127.0.0.1:6379> ZADD loyalty_points 0 "user001" 0 "user002" 0 "user003"
(integer) 3

# êµ¬ë§¤ ì‹œ í¬ì¸íŠ¸ ì ë¦½ (êµ¬ë§¤ ê¸ˆì•¡ì˜ 1%)
127.0.0.1:6379> ZINCRBY loyalty_points 12.99 "user001"  # 1299ì› êµ¬ë§¤
"12.99"

127.0.0.1:6379> ZINCRBY loyalty_points 25.50 "user001"  # 2550ì› ì¶”ê°€ êµ¬ë§¤
"38.49"

# ë¦¬ë·° ìž‘ì„± ì‹œ ë³´ë„ˆìŠ¤ í¬ì¸íŠ¸
127.0.0.1:6379> ZINCRBY loyalty_points 10 "user001"
"48.49"

# í¬ì¸íŠ¸ ì‚¬ìš© (ìƒí’ˆ êµ¬ë§¤ ì‹œ)
127.0.0.1:6379> ZINCRBY loyalty_points -20 "user001"
"28.49"

# VIP ë“±ê¸‰ ì‚¬ìš©ìž í™•ì¸ (1000ì  ì´ìƒ)
127.0.0.1:6379> ZCOUNT loyalty_points 1000 "+inf"
(integer) 0   # ì•„ì§ VIP ì—†ìŒ

# í¬ì¸íŠ¸ ìˆœìœ„
127.0.0.1:6379> ZREVRANGE loyalty_points 0 -1 WITHSCORES
1) "user001"
2) "28.49"
3) "user002"
4) "0"
5) "user003"
6) "0"
```

#### 2) ê²Œìž„ ê²½í—˜ì¹˜ ì‹œìŠ¤í…œ
```bash
# í”Œë ˆì´ì–´ ê²½í—˜ì¹˜ ì´ˆê¸°í™”
127.0.0.1:6379> ZADD player_exp 0 "warrior001" 0 "mage002" 0 "archer003" 0 "priest004"
(integer) 4

# ëª¬ìŠ¤í„° ì²˜ì¹˜ ì‹œ ê²½í—˜ì¹˜ íšë“
127.0.0.1:6379> ZINCRBY player_exp 150 "warrior001"  # ì˜¤í¬ ì²˜ì¹˜
"150"

127.0.0.1:6379> ZINCRBY player_exp 250 "mage002"     # ê³¨ë ˜ ì²˜ì¹˜
"250"

127.0.0.1:6379> ZINCRBY player_exp 80 "archer003"    # ìŠ¬ë¼ìž„ ì²˜ì¹˜
"80"

# í€˜ìŠ¤íŠ¸ ì™„ë£Œ ì‹œ ë³´ë„ˆìŠ¤ ê²½í—˜ì¹˜
127.0.0.1:6379> ZINCRBY player_exp 500 "warrior001"  # ë©”ì¸ í€˜ìŠ¤íŠ¸
"650"

127.0.0.1:6379> ZINCRBY player_exp 300 "priest004"   # ížë§ í€˜ìŠ¤íŠ¸
"300"

# ë ˆë²¨ êµ¬ê°„ë³„ í”Œë ˆì´ì–´ ìˆ˜
# ì´ˆë³´ìž (0~500 exp)
127.0.0.1:6379> ZCOUNT player_exp 0 500
(integer) 3

# ì¤‘ê¸‰ìž (500~1000 exp)
127.0.0.1:6379> ZCOUNT player_exp 500 1000
(integer) 1

# ê³ ìˆ˜ (1000+ exp)
127.0.0.1:6379> ZCOUNT player_exp 1000 "+inf"
(integer) 0

# ê²½í—˜ì¹˜ ëž­í‚¹
127.0.0.1:6379> ZREVRANGE player_exp 0 -1 WITHSCORES
1) "warrior001"
2) "650"
3) "priest004"
4) "300"
5) "mage002"
6) "250"
7) "archer003"
8) "80"
```

#### 3) API ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
```bash
# API í‚¤ë³„ ì¼ì¼ í˜¸ì¶œ íšŸìˆ˜
127.0.0.1:6379> ZADD api_usage:daily 0 "api_key_001" 0 "api_key_002" 0 "api_key_003"
(integer) 3

# API í˜¸ì¶œ ì‹œë§ˆë‹¤ ì¹´ìš´íŠ¸ ì¦ê°€
127.0.0.1:6379> ZINCRBY api_usage:daily 1 "api_key_001"
"1"

127.0.0.1:6379> ZINCRBY api_usage:daily 1 "api_key_001"
"2"

127.0.0.1:6379> ZINCRBY api_usage:daily 1 "api_key_002"
"1"

# ëŒ€ëŸ‰ ì²˜ë¦¬ ìž‘ì—… ì‹œ í•œ ë²ˆì— ì—¬ëŸ¬ í˜¸ì¶œ
127.0.0.1:6379> ZINCRBY api_usage:daily 50 "api_key_003"
"50"

# ì‚¬ìš©ëŸ‰ ì œí•œ í™•ì¸ (1000íšŒ ì œí•œ)
127.0.0.1:6379> ZSCORE api_usage:daily "api_key_003"
"50"   # 50/1000 ì‚¬ìš©

# ê³¼ë„í•œ ì‚¬ìš©ëŸ‰ API í‚¤ ì°¾ê¸° (800íšŒ ì´ìƒ)
127.0.0.1:6379> ZRANGEBYSCORE api_usage:daily 800 "+inf" WITHSCORES
(empty array)   # ì•„ì§ ì—†ìŒ

# ì‚¬ìš©ëŸ‰ TOP 3 API í‚¤
127.0.0.1:6379> ZREVRANGE api_usage:daily 0 2 WITHSCORES
1) "api_key_003"
2) "50"
3) "api_key_001"
4) "2"
5) "api_key_002"
6) "1"

# ì‚¬ìš©ëŸ‰ ë¶„í¬ í™•ì¸
# ì €ì‚¬ìš©ëŸ‰ (0~100)
127.0.0.1:6379> ZCOUNT api_usage:daily 0 100
(integer) 3

# ì¤‘ì‚¬ìš©ëŸ‰ (100~500)
127.0.0.1:6379> ZCOUNT api_usage:daily 100 500
(integer) 0

# ê³ ì‚¬ìš©ëŸ‰ (500+)
127.0.0.1:6379> ZCOUNT api_usage:daily 500 "+inf"
(integer) 0
```

#### 4) ìƒí’ˆ íŒë§¤ ìˆœìœ„ ì‹œìŠ¤í…œ
```bash
# ìƒí’ˆë³„ íŒë§¤ëŸ‰ ì´ˆê¸°í™”
127.0.0.1:6379> ZADD sales_ranking 0 "laptop_A" 0 "laptop_B" 0 "mouse_X" 0 "keyboard_Y" 0 "monitor_Z"
(integer) 5

# íŒë§¤ ë°œìƒ ì‹œë§ˆë‹¤ ì¹´ìš´íŠ¸ ì¦ê°€
127.0.0.1:6379> ZINCRBY sales_ranking 1 "laptop_A"
"1"

127.0.0.1:6379> ZINCRBY sales_ranking 1 "mouse_X"
"1"

127.0.0.1:6379> ZINCRBY sales_ranking 2 "laptop_A"  # 2ëŒ€ ì¶”ê°€ íŒë§¤
"3"

127.0.0.1:6379> ZINCRBY sales_ranking 1 "keyboard_Y"
"1"

127.0.0.1:6379> ZINCRBY sales_ranking 5 "mouse_X"   # 5ê°œ ì¶”ê°€ íŒë§¤
"6"

# ë² ìŠ¤íŠ¸ì…€ëŸ¬ TOP 3
127.0.0.1:6379> ZREVRANGE sales_ranking 0 2 WITHSCORES
1) "mouse_X"
2) "6"
3) "laptop_A"
4) "3"
5) "keyboard_Y"
6) "1"

# ì¸ê¸° ìƒí’ˆ (5ê°œ ì´ìƒ íŒë§¤)
127.0.0.1:6379> ZRANGEBYSCORE sales_ranking 5 "+inf" WITHSCORES
1) "mouse_X"
2) "6"

# íŒë§¤ ì‹¤ì ì´ ì €ì¡°í•œ ìƒí’ˆ (1ê°œ ì´í•˜)
127.0.0.1:6379> ZRANGEBYSCORE sales_ranking 0 1 WITHSCORES
1) "laptop_B"
2) "0"
3) "monitor_Z"
4) "0"
5) "keyboard_Y"
6) "1"

# íŠ¹ì • ìƒí’ˆì˜ íŒë§¤ ìˆœìœ„
127.0.0.1:6379> ZREVRANK sales_ranking "laptop_A"
(integer) 1   # 2ë“±
```

---

## ðŸŽ¯ 5. ì‹¤ì „ ì¢…í•© í”„ë¡œì íŠ¸

### 5.1 í”„ë¡œì íŠ¸ 1: ë©€í‹°í”Œë ˆì´ì–´ ê²Œìž„ ë¦¬ë”ë³´ë“œ ì‹œìŠ¤í…œ

#### ìš”êµ¬ì‚¬í•­
- ì „ì²´ ì„œë²„ ë¦¬ë”ë³´ë“œ
- ì„œë²„ë³„ ë¦¬ë”ë³´ë“œ
- í´ëž˜ìŠ¤ë³„ ë¦¬ë”ë³´ë“œ
- ì‹œì¦Œ ì‹œìŠ¤í…œ

#### êµ¬í˜„

##### 1) ì „ì²´ ì„œë²„ ë¦¬ë”ë³´ë“œ
```bash
# ì „ì²´ ì„œë²„ í”Œë ˆì´ì–´ ëž­í‚¹
127.0.0.1:6379> ZADD global_ranking 15000 "server1:warrior:kim" 18500 "server2:mage:lee" 12000 "server1:archer:park" 22000 "server3:priest:choi" 16500 "server2:warrior:jung"
(integer) 5

# ì „ì²´ 1ë“±ë¶€í„° 10ë“±ê¹Œì§€
127.0.0.1:6379> ZREVRANGE global_ranking 0 9 WITHSCORES
 1) "server3:priest:choi"
 2) "22000"
 3) "server2:mage:lee"
 4) "18500"
 5) "server2:warrior:jung"
 6) "16500"
 7) "server1:warrior:kim"
 8) "15000"
 9) "server1:archer:park"
10) "12000"

# íŠ¹ì • í”Œë ˆì´ì–´ ìˆœìœ„ì™€ ì ìˆ˜
127.0.0.1:6379> ZREVRANK global_ranking "server1:warrior:kim"
(integer) 3   # 4ë“±

127.0.0.1:6379> ZSCORE global_ranking "server1:warrior:kim"
"15000"

# ë‚´ ì£¼ë³€ ëž­í‚¹ (Â±3)
127.0.0.1:6379> ZREVRANGE global_ranking 1 5 WITHSCORES
 1) "server2:mage:lee"
 2) "18500"
 3) "server2:warrior:jung"
 4) "16500"
 5) "server1:warrior:kim"
 6) "15000"
 7) "server1:archer:park"
 8) "12000"

# ê³ ìˆ˜ êµ¬ê°„ í”Œë ˆì´ì–´ (20000ì  ì´ìƒ)
127.0.0.1:6379> ZRANGEBYSCORE global_ranking 20000 "+inf" WITHSCORES
1) "server3:priest:choi"
2) "22000"

# ì¤‘ê¸‰ìž êµ¬ê°„ í”Œë ˆì´ì–´ (15000~20000ì )
127.0.0.1:6379> ZRANGEBYSCORE global_ranking 15000 20000 WITHSCORES
1) "server1:warrior:kim"
2) "15000"
3) "server2:warrior:jung"
4) "16500"
5) "server2:mage:lee"
6) "18500"
```

##### 2) ì„œë²„ë³„ ë¦¬ë”ë³´ë“œ
```bash
# ì„œë²„1 ë¦¬ë”ë³´ë“œ
127.0.0.1:6379> ZADD server1_ranking 15000 "warrior:kim" 12000 "archer:park" 9500 "mage:shin" 11000 "priest:han"
(integer) 4

# ì„œë²„2 ë¦¬ë”ë³´ë“œ
127.0.0.1:6379> ZADD server2_ranking 18500 "mage:lee" 16500 "warrior:jung" 13000 "archer:yoon" 14500 "priest:kang"
(integer) 4

# ì„œë²„3 ë¦¬ë”ë³´ë“œ
127.0.0.1:6379> ZADD server3_ranking 22000 "priest:choi" 19000 "warrior:song" 17500 "mage:jang" 15500 "archer:oh"
(integer) 4

# ì„œë²„1 TOP 3
127.0.0.1:6379> ZREVRANGE server1_ranking 0 2 WITHSCORES
1) "warrior:kim"
2) "15000"
3) "archer:park"
4) "12000"
5) "priest:han"
6) "11000"

# ì„œë²„ë³„ í‰ê·  ì ìˆ˜ ë¹„êµë¥¼ ìœ„í•œ í†µê³„
127.0.0.1:6379> ZCARD server1_ranking
(integer) 4

# ì„œë²„1 ì´í•© (ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê³„ì‚°)
# server1_scores = [15000, 12000, 9500, 11000]
# avg_server1 = sum(server1_scores) / len(server1_scores) = 11875

# ì„œë²„ê°„ ê²½ìŸì„ ìœ„í•œ ì„œë²„ ì ìˆ˜ í•©ê³„
127.0.0.1:6379> ZADD server_competition 47500 "server1" 62500 "server2" 74000 "server3"
(integer) 3

127.0.0.1:6379> ZREVRANGE server_competition 0 -1 WITHSCORES
1) "server3"
2) "74000"
3) "server2"
4) "62500"
5) "server1"
6) "47500"
```

##### 3) í´ëž˜ìŠ¤ë³„ ë¦¬ë”ë³´ë“œ
```bash
# ì „ì‚¬ í´ëž˜ìŠ¤ ëž­í‚¹
127.0.0.1:6379> ZADD class_warrior 15000 "server1:kim" 16500 "server2:jung" 19000 "server3:song" 13500 "server1:moon"
(integer) 4

# ë§ˆë²•ì‚¬ í´ëž˜ìŠ¤ ëž­í‚¹
127.0.0.1:6379> ZADD class_mage 18500 "server2:lee" 17500 "server3:jang" 9500 "server1:shin" 14000 "server2:lim"
(integer) 4

# ê¶ìˆ˜ í´ëž˜ìŠ¤ ëž­í‚¹
127.0.0.1:6379> ZADD class_archer 12000 "server1:park" 13000 "server2:yoon" 15500 "server3:oh" 11500 "server1:baek"
(integer) 4

# ì„±ì§ìž í´ëž˜ìŠ¤ ëž­í‚¹
127.0.0.1:6379> ZADD class_priest 22000 "server3:choi" 14500 "server2:kang" 11000 "server1:han" 16000 "server3:nam"
(integer) 4

# ì „ì‚¬ í´ëž˜ìŠ¤ 1ë“±
127.0.0.1:6379> ZREVRANGE class_warrior 0 0 WITHSCORES
1) "server3:song"
2) "19000"

# í´ëž˜ìŠ¤ë³„ 1ë“± ëª¨ìŒ
127.0.0.1:6379> ZREVRANGE class_warrior 0 0
1) "server3:song"

127.0.0.1:6379> ZREVRANGE class_mage 0 0
1) "server2:lee"

127.0.0.1:6379> ZREVRANGE class_archer 0 0
1) "server3:oh"

127.0.0.1:6379> ZREVRANGE class_priest 0 0
1) "server3:choi"

# í´ëž˜ìŠ¤ë³„ í‰ê·  ì ìˆ˜ ë¹„êµ
# ì „ì‚¬ í‰ê· : (15000+16500+19000+13500)/4 = 16000
# ë§ˆë²•ì‚¬ í‰ê· : (18500+17500+9500+14000)/4 = 14875
# ê¶ìˆ˜ í‰ê· : (12000+13000+15500+11500)/4 = 13000
# ì„±ì§ìž í‰ê· : (22000+14500+11000+16000)/4 = 15875
```

##### 4) ì‹œì¦Œ ì‹œìŠ¤í…œ
```bash
# ì‹œì¦Œ1 ë¦¬ë”ë³´ë“œ (ê³¼ê±°)
127.0.0.1:6379> ZADD season1_final 20000 "legend_player1" 18500 "legend_player2" 17000 "legend_player3"
(integer) 3

# ì‹œì¦Œ2 ë¦¬ë”ë³´ë“œ (í˜„ìž¬)
127.0.0.1:6379> ZADD season2_current 15000 "server1:warrior:kim" 18500 "server2:mage:lee" 12000 "server1:archer:park"
(integer) 3

# í”Œë ˆì´ì–´ê°€ ê²Œìž„ ì¤‘ ì ìˆ˜ íšë“
127.0.0.1:6379> ZINCRBY season2_current 500 "server1:warrior:kim"
"15500"

127.0.0.1:6379> ZINCRBY season2_current 1000 "server2:mage:lee"
"19500"

# ì‹ ê·œ í”Œë ˆì´ì–´ ë“±ìž¥
127.0.0.1:6379> ZADD season2_current 14000 "server3:priest:new_player"
(integer) 1

# í˜„ìž¬ ì‹œì¦Œ ìˆœìœ„
127.0.0.1:6379> ZREVRANGE season2_current 0 -1 WITHSCORES
1) "server2:mage:lee"
2) "19500"
3) "server1:warrior:kim"
4) "15500"
5) "server3:priest:new_player"
6) "14000"
7) "server1:archer:park"
8) "12000"

# ì‹œì¦Œ ì¢…ë£Œ ì‹œ ë³´ìƒ ëŒ€ìƒìž (TOP 100)
127.0.0.1:6379> ZREVRANGE season2_current 0 99
1) "server2:mage:lee"
2) "server1:warrior:kim"
3) "server3:priest:new_player"
4) "server1:archer:park"

# í‹°ì–´ë³„ ë¶„ë¥˜
# ë‹¤ì´ì•„ëª¬ë“œ (ìƒìœ„ 10%)
127.0.0.1:6379> ZREVRANGE season2_current 0 0
1) "server2:mage:lee"

# í”Œëž˜í‹°ë„˜ (ìƒìœ„ 11-30%)
# ê³¨ë“œ (ìƒìœ„ 31-50%)
# ì‹¤ë²„ (ìƒìœ„ 51-70%)
# ë¸Œë¡ ì¦ˆ (ë‚˜ë¨¸ì§€)

# ì‹œì¦Œ ë§ ë¦¬ì…‹ ì¤€ë¹„ (season3 ì‹œìž‘ ì‹œ)
# í˜„ìž¬ ì‹œì¦Œ ê²°ê³¼ë¥¼ finalë¡œ ë³µì‚¬
127.0.0.1:6379> ZUNIONSTORE season2_final 1 season2_current
(integer) 4

# ìƒˆ ì‹œì¦Œ ì´ˆê¸°í™” (ì ìˆ˜ë¥¼ 30% ê³„ìŠ¹)
# ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì²˜ë¦¬:
# for player in season2_final:
#     new_score = old_score * 0.3
#     ZADD season3_current new_score player
```

### 5.2 í”„ë¡œì íŠ¸ 2: ì‹¤ì‹œê°„ íŠ¸ë Œë”© ì½˜í…ì¸  ì‹œìŠ¤í…œ

#### ìš”êµ¬ì‚¬í•­
- ì‹¤ì‹œê°„ ì¸ê¸° ê²Œì‹œë¬¼
- ì¹´í…Œê³ ë¦¬ë³„ íŠ¸ë Œë”©
- ì‹œê°„ëŒ€ë³„ íŠ¸ë Œë”©
- íŠ¸ë Œë”© ì ìˆ˜ ê³„ì‚°

#### êµ¬í˜„

##### 1) ì‹¤ì‹œê°„ ì¸ê¸° ê²Œì‹œë¬¼
```bash
# ê²Œì‹œë¬¼ë³„ ì¸ê¸°ë„ ì ìˆ˜ (ì¡°íšŒìˆ˜ + ì¢‹ì•„ìš”*3 + ëŒ“ê¸€*5 + ê³µìœ *10)
127.0.0.1:6379> ZADD trending_posts 0 "post:tech:001" 0 "post:travel:002" 0 "post:food:003" 0 "post:tech:004" 0 "post:music:005"
(integer) 5

# ê²Œì‹œë¬¼ ì¡°íšŒ ì‹œ ì ìˆ˜ ì¦ê°€ (+1)
127.0.0.1:6379> ZINCRBY trending_posts 1 "post:tech:001"
"1"

# ì¢‹ì•„ìš” ì‹œ ì ìˆ˜ ì¦ê°€ (+3)
127.0.0.1:6379> ZINCRBY trending_posts 3 "post:tech:001"
"4"

# ëŒ“ê¸€ ìž‘ì„± ì‹œ ì ìˆ˜ ì¦ê°€ (+5)
127.0.0.1:6379> ZINCRBY trending_posts 5 "post:tech:001"
"9"

# ê³µìœ  ì‹œ ì ìˆ˜ ì¦ê°€ (+10)
127.0.0.1:6379> ZINCRBY trending_posts 10 "post:food:003"
"10"

# ë‹¤ë¥¸ ê²Œì‹œë¬¼ë“¤ì—ë„ í™œë™ ë°œìƒ
127.0.0.1:6379> ZINCRBY trending_posts 15 "post:travel:002"  # ì¡°íšŒ 5 + ì¢‹ì•„ìš” 6 + ëŒ“ê¸€ 2
"15"

127.0.0.1:6379> ZINCRBY trending_posts 8 "post:music:005"   # ì¡°íšŒ 2 + ì¢‹ì•„ìš” 2
"8"

# ì‹¤ì‹œê°„ ì¸ê¸° ê²Œì‹œë¬¼ TOP 5
127.0.0.1:6379> ZREVRANGE trending_posts 0 4 WITHSCORES
 1) "post:travel:002"
 2) "15"
 3) "post:food:003"
 4) "10"
 5) "post:tech:001"
 6) "9"
 7) "post:music:005"
 8) "8"
 9) "post:tech:004"
10) "0"

# ì¸ê¸°ë„ ìž„ê³„ê°’ ì´ìƒ ê²Œì‹œë¬¼ (ì ìˆ˜ 5 ì´ìƒ)
127.0.0.1:6379> ZRANGEBYSCORE trending_posts 5 "+inf" WITHSCORES
1) "post:music:005"
2) "8"
3) "post:tech:001"
4) "9"
5) "post:food:003"
6) "10"
7) "post:travel:002"
8) "15"
```

##### 2) ì¹´í…Œê³ ë¦¬ë³„ íŠ¸ë Œë”©
```bash
# ê¸°ìˆ  ì¹´í…Œê³ ë¦¬ íŠ¸ë Œë”©
127.0.0.1:6379> ZADD trending:tech 45 "post:tech:001" 23 "post:tech:004" 67 "post:tech:007" 31 "post:tech:010"
(integer) 4

# ì—¬í–‰ ì¹´í…Œê³ ë¦¬ íŠ¸ë Œë”©
127.0.0.1:6379> ZADD trending:travel 89 "post:travel:002" 34 "post:travel:005" 52 "post:travel:008"
(integer) 3

# ìŒì‹ ì¹´í…Œê³ ë¦¬ íŠ¸ë Œë”©
127.0.0.1:6379> ZADD trending:food 78 "post:food:003" 41 "post:food:006" 95 "post:food:009"
(integer) 3

# ì¹´í…Œê³ ë¦¬ë³„ TOP 3
127.0.0.1:6379> ZREVRANGE trending:tech 0 2 WITHSCORES
1) "post:tech:007"
2) "67"
3) "post:tech:001"
4) "45"
5) "post:tech:010"
6) "31"

127.0.0.1:6379> ZREVRANGE trending:travel 0 2 WITHSCORES
1) "post:travel:002"
2) "89"
3) "post:travel:008"
4) "52"
5) "post:travel:005"
6) "34"

127.0.0.1:6379> ZREVRANGE trending:food 0 2 WITHSCORES
1) "post:food:009"
2) "95"
3) "post:food:003"
4) "78"
5) "post:food:006"
6) "41"

# ì „ì²´ ì¹´í…Œê³ ë¦¬ í†µí•© TOP 10
127.0.0.1:6379> ZUNIONSTORE trending:all 3 trending:tech trending:travel trending:food
(integer) 10

127.0.0.1:6379> ZREVRANGE trending:all 0 9 WITHSCORES
 1) "post:food:009"
 2) "95"
 3) "post:travel:002"
 4) "89"
 5) "post:food:003"
 6) "78"
 7) "post:tech:007"
 8) "67"
 9) "post:travel:008"
10) "52"
11) "post:tech:001"
12) "45"
13) "post:food:006"
14) "41"
15) "post:travel:005"
16) "34"
17) "post:tech:010"
18) "31"
19) "post:tech:004"
20) "23"
```

##### 3) ì‹œê°„ëŒ€ë³„ íŠ¸ë Œë”©
```bash
# ì‹œê°„ë³„ íŠ¸ë Œë”© (24ì‹œê°„)
127.0.0.1:6379> ZADD trending:hour:00 12 "post:news:001" 8 "post:tech:002"
(integer) 2

127.0.0.1:6379> ZADD trending:hour:09 45 "post:tech:003" 67 "post:business:004" 23 "post:tech:005"
(integer) 3

127.0.0.1:6379> ZADD trending:hour:12 89 "post:food:006" 34 "post:travel:007" 56 "post:lifestyle:008"
(integer) 3

127.0.0.1:6379> ZADD trending:hour:18 78 "post:entertainment:009" 91 "post:sports:010" 43 "post:music:011"
(integer) 3

# í˜„ìž¬ ì‹œê°„ëŒ€ ì¸ê¸° ê²Œì‹œë¬¼ (18ì‹œ)
127.0.0.1:6379> ZREVRANGE trending:hour:18 0 2 WITHSCORES
1) "post:sports:010"
2) "91"
3) "post:entertainment:009"
4) "78"
5) "post:music:011"
6) "43"

# ìµœê·¼ 3ì‹œê°„ í†µí•© íŠ¸ë Œë”© (16ì‹œ, 17ì‹œ, 18ì‹œ)
127.0.0.1:6379> ZUNIONSTORE trending:recent_3h 3 trending:hour:16 trending:hour:17 trending:hour:18
(integer) 3

# ì¼ê°„ íŠ¸ë Œë”© (24ì‹œê°„ í†µí•©)
127.0.0.1:6379> ZUNIONSTORE trending:daily 4 trending:hour:00 trending:hour:09 trending:hour:12 trending:hour:18
(integer) 11

127.0.0.1:6379> ZREVRANGE trending:daily 0 4 WITHSCORES
 1) "post:sports:010"
 2) "91"
 3) "post:food:006"
 4) "89"
 5) "post:entertainment:009"
 6) "78"
 7) "post:business:004"
 8) "67"
 9) "post:lifestyle:008"
10) "56"
```

##### 4) íŠ¸ë Œë”© ì ìˆ˜ ìžë™ ê°ì†Œ ì‹œìŠ¤í…œ
```bash
# ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì ìˆ˜ ìžë™ ê°ì†Œ (ì‹œê°„ ê°€ì¤‘ì¹˜ ì ìš©)
# í˜„ìž¬ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ 1ì‹œê°„ë§ˆë‹¤ 5% ê°ì†Œ

# 1ì‹œê°„ ì „ ê²Œì‹œë¬¼ë“¤ ì ìˆ˜ ê°ì†Œ (95% ì ìš©)
# ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ êµ¬í˜„:
# for post in trending_posts:
#     current_score = ZSCORE trending_posts post
#     new_score = current_score * 0.95
#     ZADD trending_posts new_score post

# ì˜ˆì‹œ: ì ìˆ˜ ê°ì†Œ ì ìš©
127.0.0.1:6379> ZSCORE trending_posts "post:travel:002"
"15"

# 1ì‹œê°„ í›„ (95% ì ìš©)
127.0.0.1:6379> ZADD trending_posts 14.25 "post:travel:002"
(integer) 0

# 24ì‹œê°„ í›„ì—ëŠ” ê±°ì˜ 0ì— ê°€ê¹Œì›Œì§
# new_score = original_score * (0.95^24) â‰ˆ original_score * 0.29

# ì¼ì • ì ìˆ˜ ì´í•˜ëŠ” ìžë™ ì œê±°
127.0.0.1:6379> ZREMRANGEBYSCORE trending_posts 0 1
(integer) 1   # ì ìˆ˜ 1 ì´í•˜ ê²Œì‹œë¬¼ ì œê±°

# ìµœì¢… íŠ¸ë Œë”© ìˆœìœ„
127.0.0.1:6379> ZREVRANGE trending_posts 0 -1 WITHSCORES
1) "post:travel:002"
2) "14.25"
3) "post:food:003"
4) "10"
5) "post:tech:001"
6) "9"
7) "post:music:005"
8) "8"
```

### 5.3 í”„ë¡œì íŠ¸ 3: ì „ìžìƒê±°ëž˜ ì¶”ì²œ ì‹œìŠ¤í…œ

#### ìš”êµ¬ì‚¬í•­
- ìƒí’ˆ ì¸ê¸°ë„ ìˆœìœ„
- ì‚¬ìš©ìžë³„ ì¶”ì²œ ì ìˆ˜
- ì¹´í…Œê³ ë¦¬ë³„ ë² ìŠ¤íŠ¸ì…€ëŸ¬
- ê°œì¸í™” ì¶”ì²œ

#### êµ¬í˜„

##### 1) ìƒí’ˆ ì¸ê¸°ë„ ìˆœìœ„
```bash
# ìƒí’ˆë³„ ì¢…í•© ì¸ê¸°ë„ ì ìˆ˜ (íŒë§¤ëŸ‰*10 + ì¡°íšŒìˆ˜*1 + ë¦¬ë·°ìˆ˜*5 + í‰ì *20)
127.0.0.1:6379> ZADD product_popularity 0 "laptop:gaming:001" 0 "laptop:office:002" 0 "mouse:gaming:003" 0 "keyboard:mech:004" 0 "monitor:4k:005"
(integer) 5

# ìƒí’ˆ íŒë§¤ ì‹œ ì ìˆ˜ ì¦ê°€ (+10)
127.0.0.1:6379> ZINCRBY product_popularity 10 "laptop:gaming:001"
"10"

# ìƒí’ˆ ì¡°íšŒ ì‹œ ì ìˆ˜ ì¦ê°€ (+1)
127.0.0.1:6379> ZINCRBY product_popularity 1 "laptop:gaming:001"
"11"

# ë¦¬ë·° ìž‘ì„± ì‹œ ì ìˆ˜ ì¦ê°€ (+5)
127.0.0.1:6379> ZINCRBY product_popularity 5 "laptop:gaming:001"
"16"

# í‰ì  ë°˜ì˜ ì‹œ ì ìˆ˜ ì¦ê°€ (í‰ì  4.5 = +90ì )
127.0.0.1:6379> ZINCRBY product_popularity 90 "laptop:gaming:001"
"106"

# ë‹¤ë¥¸ ìƒí’ˆë“¤ì˜ í™œë™
127.0.0.1:6379> ZINCRBY product_popularity 85 "mouse:gaming:003"     # íŒë§¤ 5 + ì¡°íšŒ 15 + ë¦¬ë·° 2 + í‰ì  4.0
"85"

127.0.0.1:6379> ZINCRBY product_popularity 120 "monitor:4k:005"      # íŒë§¤ 8 + ì¡°íšŒ 20 + ë¦¬ë·° 4 + í‰ì  4.8
"120"

127.0.0.1:6379> ZINCRBY product_popularity 65 "keyboard:mech:004"    # íŒë§¤ 3 + ì¡°íšŒ 25 + ë¦¬ë·° 3 + í‰ì  3.7
"65"

127.0.0.1:6379> ZINCRBY product_popularity 45 "laptop:office:002"    # íŒë§¤ 2 + ì¡°íšŒ 10 + ë¦¬ë·° 1 + í‰ì  3.2
"45"

# ì „ì²´ ì¸ê¸° ìƒí’ˆ ìˆœìœ„
127.0.0.1:6379> ZREVRANGE product_popularity 0 -1 WITHSCORES
 1) "monitor:4k:005"
 2) "120"
 3) "laptop:gaming:001"
 4) "106"
 5) "mouse:gaming:003"
 6) "85"
 7) "keyboard:mech:004"
 8) "65"
 9) "laptop:office:002"
10) "45"

# ì¸ê¸° ìƒí’ˆ (ì ìˆ˜ 80 ì´ìƒ)
127.0.0.1:6379> ZRANGEBYSCORE product_popularity 80 "+inf" WITHSCORES
1) "mouse:gaming:003"
2) "85"
3) "laptop:gaming:001"
4) "106"
5) "monitor:4k:005"
6) "120"
```

##### 2) ì‚¬ìš©ìžë³„ ê°œì¸í™” ì¶”ì²œ ì ìˆ˜
```bash
# ì‚¬ìš©ìžë³„ ìƒí’ˆ ì¶”ì²œ ì ìˆ˜ (êµ¬ë§¤ ì´ë ¥, ì¡°íšŒ ì´ë ¥, ì°œ ëª©ë¡ ê¸°ë°˜)
127.0.0.1:6379> ZADD user:1001:recommendations 0 "laptop:gaming:001" 0 "mouse:gaming:003" 0 "keyboard:mech:004" 0 "headset:gaming:006"
(integer) 4

# ì‚¬ìš©ìžì˜ ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ "gaming" ê´€ë ¨ ìƒí’ˆ ì ìˆ˜ ì¦ê°€
127.0.0.1:6379> ZINCRBY user:1001:recommendations 20 "laptop:gaming:001"
"20"

127.0.0.1:6379> ZINCRBY user:1001:recommendations 15 "mouse:gaming:003"
"15"

127.0.0.1:6379> ZINCRBY user:1001:recommendations 18 "headset:gaming:006"
"18"

# ì‚¬ìš©ìžê°€ ì¡°íšŒí•œ ìƒí’ˆ ì ìˆ˜ ì¦ê°€
127.0.0.1:6379> ZINCRBY user:1001:recommendations 5 "laptop:gaming:001"
"25"

# ì‚¬ìš©ìžê°€ ì°œí•œ ìƒí’ˆ ì ìˆ˜ ì¦ê°€
127.0.0.1:6379> ZINCRBY user:1001:recommendations 10 "keyboard:mech:004"
"10"

# ìœ ì‚¬í•œ ì‚¬ìš©ìžë“¤ì´ êµ¬ë§¤í•œ ìƒí’ˆ ì ìˆ˜ ì¦ê°€ (í˜‘ì—… í•„í„°ë§)
127.0.0.1:6379> ZINCRBY user:1001:recommendations 12 "monitor:gaming:007"
"12"

# ì‚¬ìš©ìž ë§žì¶¤ ì¶”ì²œ ìƒí’ˆ TOP 5
127.0.0.1:6379> ZREVRANGE user:1001:recommendations 0 4 WITHSCORES
 1) "laptop:gaming:001"
 2) "25"
 3) "headset:gaming:006"
 4) "18"
 5) "mouse:gaming:003"
 6) "15"
 7) "monitor:gaming:007"
 8) "12"
 9) "keyboard:mech:004"
10) "10"

# ë‹¤ë¥¸ ì‚¬ìš©ìž (ì˜¤í”¼ìŠ¤ ì›Œì»¤)
127.0.0.1:6379> ZADD user:1002:recommendations 25 "laptop:office:002" 20 "monitor:office:008" 15 "mouse:office:009" 18 "keyboard:quiet:010"
(integer) 4

127.0.0.1:6379> ZREVRANGE user:1002:recommendations 0 4 WITHSCORES
1) "laptop:office:002"
2) "25"
3) "monitor:office:008"
4) "20"
5) "keyboard:quiet:010"
6) "18"
7) "mouse:office:009"
8) "15"
```

##### 3) ì¹´í…Œê³ ë¦¬ë³„ ë² ìŠ¤íŠ¸ì…€ëŸ¬
```bash
# ë…¸íŠ¸ë¶ ì¹´í…Œê³ ë¦¬ ë² ìŠ¤íŠ¸ì…€ëŸ¬
127.0.0.1:6379> ZADD bestseller:laptop 156 "laptop:gaming:001" 89 "laptop:office:002" 234 "laptop:creator:011" 145 "laptop:student:012"
(integer) 4

# ë§ˆìš°ìŠ¤ ì¹´í…Œê³ ë¦¬ ë² ìŠ¤íŠ¸ì…€ëŸ¬
127.0.0.1:6379> ZADD bestseller:mouse 298 "mouse:gaming:003" 187 "mouse:office:009" 156 "mouse:creative:013" 89 "mouse:budget:014"
(integer) 4

# í‚¤ë³´ë“œ ì¹´í…Œê³ ë¦¬ ë² ìŠ¤íŠ¸ì…€ëŸ¬
127.0.0.1:6379> ZADD bestseller:keyboard 201 "keyboard:mech:004" 134 "keyboard:quiet:010" 167 "keyboard:gaming:015" 98 "keyboard:compact:016"
(integer) 4

# ëª¨ë‹ˆí„° ì¹´í…Œê³ ë¦¬ ë² ìŠ¤íŠ¸ì…€ëŸ¬
127.0.0.1:6379> ZADD bestseller:monitor 345 "monitor:4k:005" 267 "monitor:gaming:007" 189 "monitor:office:008" 156 "monitor:ultrawide:017"
(integer) 4

# ì¹´í…Œê³ ë¦¬ë³„ 1ìœ„ ìƒí’ˆ
127.0.0.1:6379> ZREVRANGE bestseller:laptop 0 0 WITHSCORES
1) "laptop:creator:011"
2) "234"

127.0.0.1:6379> ZREVRANGE bestseller:mouse 0 0 WITHSCORES
1) "mouse:gaming:003"
2) "298"

127.0.0.1:6379> ZREVRANGE bestseller:keyboard 0 0 WITHSCORES
1) "keyboard:mech:004"
2) "201"

127.0.0.1:6379> ZREVRANGE bestseller:monitor 0 0 WITHSCORES
1) "monitor:4k:005"
2) "345"

# ì „ì²´ ë² ìŠ¤íŠ¸ì…€ëŸ¬ TOP 10 (ëª¨ë“  ì¹´í…Œê³ ë¦¬ í†µí•©)
127.0.0.1:6379> ZUNIONSTORE bestseller:all 4 bestseller:laptop bestseller:mouse bestseller:keyboard bestseller:monitor
(integer) 16

127.0.0.1:6379> ZREVRANGE bestseller:all 0 9 WITHSCORES
 1) "monitor:4k:005"
 2) "345"
 3) "mouse:gaming:003"
 4) "298"
 5) "monitor:gaming:007"
 6) "267"
 7) "laptop:creator:011"
 8) "234"
 9) "keyboard:mech:004"
10) "201"
11) "monitor:office:008"
12) "189"
13) "mouse:office:009"
14) "187"
15) "keyboard:gaming:015"
16) "167"
17) "monitor:ultrawide:017"
18) "156"
19) "mouse:creative:013"
20) "156"

# íŠ¹ì • ì¹´í…Œê³ ë¦¬ ë‚´ ìˆœìœ„ í™•ì¸
127.0.0.1:6379> ZREVRANK bestseller:laptop "laptop:gaming:001"
(integer) 2   # ë…¸íŠ¸ë¶ ì¹´í…Œê³ ë¦¬ì—ì„œ 3ë“±

# ì¹´í…Œê³ ë¦¬ë³„ ìƒìœ„ 30% ìƒí’ˆ (ê° ì¹´í…Œê³ ë¦¬ TOP 1)
127.0.0.1:6379> ZREVRANGE bestseller:laptop 0 0
1) "laptop:creator:011"

127.0.0.1:6379> ZREVRANGE bestseller:mouse 0 0
1) "mouse:gaming:003"
```

##### 4) ì‹¤ì‹œê°„ ì¶”ì²œ ì—…ë°ì´íŠ¸
```bash
# ì‚¬ìš©ìž í–‰ë™ì— ë”°ë¥¸ ì‹¤ì‹œê°„ ì¶”ì²œ ì ìˆ˜ ì—…ë°ì´íŠ¸

# ìƒí’ˆ êµ¬ë§¤ ì‹œ (ê°•í•œ ì‹ í˜¸)
127.0.0.1:6379> ZINCRBY user:1001:recommendations 50 "laptop:gaming:001"
"75"   # ê¸°ì¡´ 25 + 50

# ê°™ì€ ì¹´í…Œê³ ë¦¬ ë‹¤ë¥¸ ìƒí’ˆë“¤ ì ìˆ˜ë„ ì¦ê°€ (ì—°ê´€ì„±)
127.0.0.1:6379> ZINCRBY user:1001:recommendations 10 "mouse:gaming:003"
"25"

127.0.0.1:6379> ZINCRBY user:1001:recommendations 10 "headset:gaming:006"
"28"

# ìƒí’ˆ ì°œí•˜ê¸° (ì¤‘ê°„ ì‹ í˜¸)
127.0.0.1:6379> ZINCRBY user:1001:recommendations 15 "monitor:gaming:007"
"27"

# ìƒí’ˆ ìƒì„¸ íŽ˜ì´ì§€ ë°©ë¬¸ (ì•½í•œ ì‹ í˜¸)
127.0.0.1:6379> ZINCRBY user:1001:recommendations 3 "keyboard:mech:004"
"13"

# ìž¥ë°”êµ¬ë‹ˆ ì¶”ê°€ (ê°•í•œ ì‹ í˜¸)
127.0.0.1:6379> ZINCRBY user:1001:recommendations 25 "headset:gaming:006"
"53"

# ì—…ë°ì´íŠ¸ëœ ê°œì¸ ì¶”ì²œ ìˆœìœ„
127.0.0.1:6379> ZREVRANGE user:1001:recommendations 0 -1 WITHSCORES
 1) "laptop:gaming:001"
 2) "75"
 3) "headset:gaming:006"
 4) "53"
 5) "monitor:gaming:007"
 6) "27"
 7) "mouse:gaming:003"
 8) "25"
 9) "keyboard:mech:004"
10) "13"

# ì¶”ì²œ ì ìˆ˜ê°€ ë‚®ì€ ìƒí’ˆ ì œê±° (10 ì´í•˜)
127.0.0.1:6379> ZREMRANGEBYSCORE user:1001:recommendations 0 10
(integer) 0   # ëª¨ë“  ìƒí’ˆì´ 10ë³´ë‹¤ ë†’ìŒ

# ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì ìˆ˜ ê°ì†Œ (ê´€ì‹¬ë„ í•˜ë½)
# ë§¤ì¼ 5% ê°ì†Œ ì ìš© (ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì²˜ë¦¬)
# for product in user:1001:recommendations:
#     current_score = ZSCORE user:1001:recommendations product
#     new_score = current_score * 0.95
#     ZADD user:1001:recommendations new_score product
```

---

## ðŸ“ 6. í•µì‹¬ ë‚´ìš© ì •ë¦¬ ë° ë² ìŠ¤íŠ¸ í”„ëž™í‹°ìŠ¤

### 6.1 Sorted Set íƒ€ìž… ëª…ë ¹ì–´ ì™„ì „ ì •ë¦¬

#### ê¸°ë³¸ ì¡°ìž‘ ëª…ë ¹ì–´
| ëª…ë ¹ì–´ | ìš©ë„ | ì˜ˆì‹œ | ë°˜í™˜ê°’ |
|--------|------|------|--------|
| `ZADD key score member [score member ...]` | ì›ì†Œ ì¶”ê°€ | `ZADD myzset 100 "a" 200 "b"` | ì¶”ê°€ëœ ì›ì†Œ ê°œìˆ˜ |
| `ZREM key member [member ...]` | ì›ì†Œ ì œê±° | `ZREM myzset "a"` | ì œê±°ëœ ì›ì†Œ ê°œìˆ˜ |
| `ZSCORE key member` | ì ìˆ˜ ì¡°íšŒ | `ZSCORE myzset "a"` | ì ìˆ˜ ë˜ëŠ” nil |
| `ZMSCORE key member [member ...]` | ì—¬ëŸ¬ ì ìˆ˜ ì¡°íšŒ | `ZMSCORE myzset "a" "b"` | ì ìˆ˜ë“¤ì˜ ë°°ì—´ |
| `ZINCRBY key increment member` | ì ìˆ˜ ì¦ê° | `ZINCRBY myzset 10 "a"` | ì¦ê° í›„ ì ìˆ˜ |

#### ìˆœìœ„ì™€ ë²”ìœ„ ì¡°íšŒ ëª…ë ¹ì–´
| ëª…ë ¹ì–´ | ìš©ë„ | ì˜ˆì‹œ | ë°˜í™˜ê°’ |
|--------|------|------|--------|
| `ZRANGE key start stop [WITHSCORES]` | ìˆœìœ„ ë²”ìœ„ ì¡°íšŒ (ì˜¤ë¦„ì°¨ìˆœ) | `ZRANGE myzset 0 2` | ì›ì†Œë“¤ì˜ ë°°ì—´ |
| `ZREVRANGE key start stop [WITHSCORES]` | ìˆœìœ„ ë²”ìœ„ ì¡°íšŒ (ë‚´ë¦¼ì°¨ìˆœ) | `ZREVRANGE myzset 0 2` | ì›ì†Œë“¤ì˜ ë°°ì—´ |
| `ZRANK key member` | ìˆœìœ„ ì¡°íšŒ (ì˜¤ë¦„ì°¨ìˆœ) | `ZRANK myzset "a"` | ìˆœìœ„ ë˜ëŠ” nil |
| `ZREVRANK key member` | ìˆœìœ„ ì¡°íšŒ (ë‚´ë¦¼ì°¨ìˆœ) | `ZREVRANK myzset "a"` | ìˆœìœ„ ë˜ëŠ” nil |

#### ì ìˆ˜ ë²”ìœ„ ì¡°íšŒ ëª…ë ¹ì–´
| ëª…ë ¹ì–´ | ìš©ë„ | ì˜ˆì‹œ | ë°˜í™˜ê°’ |
|--------|------|------|--------|
| `ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]` | ì ìˆ˜ ë²”ìœ„ ì¡°íšŒ | `ZRANGEBYSCORE myzset 100 200` | ì›ì†Œë“¤ì˜ ë°°ì—´ |
| `ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]` | ì ìˆ˜ ë²”ìœ„ ì—­ìˆœ ì¡°íšŒ | `ZREVRANGEBYSCORE myzset 200 100` | ì›ì†Œë“¤ì˜ ë°°ì—´ |
| `ZCOUNT key min max` | ì ìˆ˜ ë²”ìœ„ ë‚´ ê°œìˆ˜ | `ZCOUNT myzset 100 200` | ê°œìˆ˜ |

#### ë²”ìœ„ ì œê±° ëª…ë ¹ì–´
| ëª…ë ¹ì–´ | ìš©ë„ | ì˜ˆì‹œ | ë°˜í™˜ê°’ |
|--------|------|------|--------|
| `ZREMRANGEBYRANK key start stop` | ìˆœìœ„ ë²”ìœ„ ì œê±° | `ZREMRANGEBYRANK myzset 0 2` | ì œê±°ëœ ê°œìˆ˜ |
| `ZREMRANGEBYSCORE key min max` | ì ìˆ˜ ë²”ìœ„ ì œê±° | `ZREMRANGEBYSCORE myzset 100 200` | ì œê±°ëœ ê°œìˆ˜ |

#### ì •ë³´ ì¡°íšŒ ëª…ë ¹ì–´
| ëª…ë ¹ì–´ | ìš©ë„ | ì˜ˆì‹œ | ë°˜í™˜ê°’ |
|--------|------|------|--------|
| `ZCARD key` | ì›ì†Œ ê°œìˆ˜ | `ZCARD myzset` | ê°œìˆ˜ |
| `ZPOPMAX key [count]` | ìµœê³  ì ìˆ˜ ì›ì†Œ ì œê±° | `ZPOPMAX myzset 2` | ì œê±°ëœ ì›ì†Œì™€ ì ìˆ˜ |
| `ZPOPMIN key [count]` | ìµœì € ì ìˆ˜ ì›ì†Œ ì œê±° | `ZPOPMIN myzset 2` | ì œê±°ëœ ì›ì†Œì™€ ì ìˆ˜ |

### 6.2 ì ìˆ˜ ë²”ìœ„ í‘œí˜„ë²•

#### ê¸°ë³¸ ë²”ìœ„
```bash
# í¬í•¨ (inclusive)
ZRANGEBYSCORE myzset 100 200        # 100 â‰¤ score â‰¤ 200

# ì œì™¸ (exclusive)
ZRANGEBYSCORE myzset "(100" "(200"  # 100 < score < 200

# ë¬´í•œëŒ€
ZRANGEBYSCORE myzset 100 "+inf"     # 100 â‰¤ score < âˆž
ZRANGEBYSCORE myzset "-inf" 200     # -âˆž < score â‰¤ 200
```

### 6.3 ì‹¤ë¬´ ë² ìŠ¤íŠ¸ í”„ëž™í‹°ìŠ¤

#### 1) ì ì ˆí•œ ì ìˆ˜ ì„¤ê³„
```bash
# ì¢‹ì€ ì˜ˆ: ì˜ë¯¸ ìžˆëŠ” ì ìˆ˜ ì²´ê³„
# ê²Œìž„ ì ìˆ˜: ì‹¤ì œ ê²Œìž„ ì ìˆ˜
# ì¸ê¸°ë„: ì¡°íšŒìˆ˜ + ì¢‹ì•„ìš”*ê°€ì¤‘ì¹˜
# ì‹œê°„ìˆœ: timestamp ì‚¬ìš©

# ë‚˜ìœ ì˜ˆ: ìž„ì˜ì˜ ì ìˆ˜
ZADD rankings 1 "item1" 2 "item2" 3 "item3"  # ì˜ë¯¸ ì—†ëŠ” ì—°ì† ìˆ«ìž
```

#### 2) ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ê´€ë¦¬
```bash
# í° Sorted Setì˜ ì¼ë¶€ë§Œ ì¡°íšŒ
ZREVRANGE large_leaderboard 0 9     # TOP 10ë§Œ ì¡°íšŒ
ZRANGEBYSCORE scores 80 100 LIMIT 0 10  # íŽ˜ì´ì§•ìœ¼ë¡œ ì¡°íšŒ

# ì˜¤ëž˜ëœ ë°ì´í„° ì •ë¦¬
ZREMRANGEBYRANK old_rankings 100 -1  # 100ë“± ì´í•˜ ì œê±°
```

#### 3) ì‹œê°„ ê¸°ë°˜ ì ìˆ˜ ì„¤ê³„
```bash
# íƒ€ìž„ìŠ¤íƒ¬í”„ë¥¼ ì ìˆ˜ë¡œ ì‚¬ìš©
timestamp=$(date +%s)
ZADD timeline $timestamp "event:123"

# ì‹œê°„ ê°€ì¤‘ì¹˜ ì ìš©
# score = base_score * time_factor
# ìµœì‹ ì¼ìˆ˜ë¡ ë†’ì€ ì ìˆ˜
```

#### 4) ë³µí•© ì ìˆ˜ ê³„ì‚°
```bash
# ì—¬ëŸ¬ ìš”ì†Œë¥¼ ì¡°í•©í•œ ì ìˆ˜
# ì¸ê¸°ë„ = ì¡°íšŒìˆ˜*1 + ì¢‹ì•„ìš”*3 + ëŒ“ê¸€*5 + ê³µìœ *10
views=100
likes=20
comments=5
shares=2
total_score=$((views*1 + likes*3 + comments*5 + shares*10))
ZADD popular_posts $total_score "post:123"
```

#### 5) ì„±ëŠ¥ ìµœì í™”
```bash
# ìžì£¼ ë³€ê²½ë˜ëŠ” ì ìˆ˜ëŠ” ì£¼ê¸°ì  ë°°ì¹˜ ì—…ë°ì´íŠ¸
# ì‹¤ì‹œê°„: ìž„ì‹œ ì €ìž¥
# ë°°ì¹˜: ì£¼ê¸°ì ìœ¼ë¡œ ë©”ì¸ ëž­í‚¹ì— ë°˜ì˜

# í° ë²”ìœ„ ì¡°íšŒ ì‹œ LIMIT ì‚¬ìš©
ZRANGEBYSCORE huge_set 0 1000 LIMIT 0 100  # ì²« 100ê°œë§Œ
```

---

## ðŸ‘¨â€ðŸ’» ì£¼ë‹ˆì–´ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ëž­í‚¹ ì—…ë°ì´íŠ¸ ì‹œ ì „ì²´ ìž¬ì •ë ¬ ì‹¤ìˆ˜

**ìƒí™©**: ì£¼ë‹ˆì–´ ê°œë°œìžê°€ ê²Œìž„ ì ìˆ˜ê°€ ë°”ë€” ë•Œë§ˆë‹¤ ì „ì²´ ëž­í‚¹ì„ ìž¬ì •ë ¬í•˜ëŠ” ì½”ë“œë¥¼ ìž‘ì„±í–ˆìŠµë‹ˆë‹¤.

```python
# âŒ ì£¼ë‹ˆì–´ ê°œë°œìžê°€ ìž‘ì„±í•œ ì½”ë“œ
def update_player_score(player_id, new_score):
    # 1. ëª¨ë“  í”Œë ˆì´ì–´ ì ìˆ˜ë¥¼ ê°€ì ¸ì™€ì„œ
    all_players = redis.zrange("leaderboard", 0, -1, withscores=True)

    # 2. ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜ í›„ ì •ë ¬
    player_list = [(p, s) for p, s in all_players]

    # 3. í•´ë‹¹ í”Œë ˆì´ì–´ ì ìˆ˜ ì°¾ì•„ì„œ ì—…ë°ì´íŠ¸
    for i, (p, s) in enumerate(player_list):
        if p == player_id:
            player_list[i] = (p, new_score)

    # 4. ë‹¤ì‹œ ì •ë ¬
    player_list.sort(key=lambda x: x[1], reverse=True)

    # 5. Redisì— ë‹¤ì‹œ ì €ìž¥
    redis.delete("leaderboard")
    for player, score in player_list:
        redis.zadd("leaderboard", {player: score})
```

**ë¬¸ì œì **:
- ë¬¸ì œ 1: O(N log N) ì‹œê°„ ë³µìž¡ë„ë¡œ ë§¤ìš° ëŠë¦¼ (100ë§Œ ìœ ì €ë©´ ìˆ˜ ì´ˆ ì†Œìš”)
- ë¬¸ì œ 2: ì „ì²´ ë°ì´í„°ë¥¼ ì½ê³  ì“°ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì—…ë°ì´íŠ¸ ì†ì‹¤ ê°€ëŠ¥
- ë¬¸ì œ 3: ë„¤íŠ¸ì›Œí¬ ì™•ë³µ ì‹œê°„ì´ ë„ˆë¬´ ë§ŽìŒ (ZRANGE + DELETE + ZADD * N)
- ì™œ ì´ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ê°€: Sorted Setì˜ ìžë™ ì •ë ¬ ê¸°ëŠ¥ì„ ëª°ëžê¸° ë•Œë¬¸

**í•´ê²°ì±…**:
```python
# âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
def update_player_score(player_id, new_score):
    # Sorted Setì€ ìžë™ìœ¼ë¡œ ì •ë ¬ë˜ë¯€ë¡œ ZADDë§Œ í•˜ë©´ ë¨!
    redis.zadd("leaderboard", {player_id: new_score})
    # ë! O(log N) ì‹œê°„ ë³µìž¡ë„

# ì„¤ëª…
# 1. ZADDëŠ” ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ë©¤ë²„ë©´ ì ìˆ˜ë§Œ ì—…ë°ì´íŠ¸
# 2. ìžë™ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ìž¬ë°°ì¹˜
# 3. ë‹¨ í•œ ë²ˆì˜ ëª…ë ¹ì–´ë¡œ ì™„ë£Œ
```

**ë°°ìš´ ì **:
- ðŸ’¡ íŒ 1: Sorted Setì€ ìžë™ ì •ë ¬ë˜ë¯€ë¡œ ì§ì ‘ ì •ë ¬í•  í•„ìš” ì—†ìŒ
- ðŸ’¡ íŒ 2: ZADDëŠ” O(log N)ìœ¼ë¡œ ë§¤ìš° ë¹ ë¦„ (100ë§Œ ê°œë„ 1ms ì´ë‚´)
- ðŸ’¡ íŒ 3: Redisì˜ ë°ì´í„° êµ¬ì¡° íŠ¹ì„±ì„ ì´í•´í•˜ë©´ ì½”ë“œê°€ 10ë°° ì´ìƒ ê°„ê²°í•´ì§

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì ìˆ˜ ì¦ê°€ ì‹œ GET-SET íŒ¨í„´ ì‚¬ìš©

**ìƒí™©**: ì£¼ë‹ˆì–´ ê°œë°œìžê°€ ê²Œìž„ì—ì„œ ì ìˆ˜ë¥¼ ì–»ì„ ë•Œë§ˆë‹¤ í˜„ìž¬ ì ìˆ˜ë¥¼ ê°€ì ¸ì™€ì„œ ë”í•œ í›„ ë‹¤ì‹œ ì €ìž¥í•˜ëŠ” ì½”ë“œë¥¼ ìž‘ì„±í–ˆìŠµë‹ˆë‹¤.

```python
# âŒ ì£¼ë‹ˆì–´ ê°œë°œìžê°€ ìž‘ì„±í•œ ì½”ë“œ
def add_points(player_id, earned_points):
    # 1. í˜„ìž¬ ì ìˆ˜ ê°€ì ¸ì˜¤ê¸°
    current_score = redis.zscore("leaderboard", player_id)
    if current_score is None:
        current_score = 0

    # 2. ìƒˆ ì ìˆ˜ ê³„ì‚°
    new_score = current_score + earned_points

    # 3. ìƒˆ ì ìˆ˜ ì €ìž¥
    redis.zadd("leaderboard", {player_id: new_score})
```

**ë¬¸ì œì **:
- ë¬¸ì œ 1: Race Condition ë°œìƒ ê°€ëŠ¥ (ë™ì‹œì— ë‘ ì ìˆ˜ íšë“ ì‹œ í•˜ë‚˜ ì†ì‹¤)
- ë¬¸ì œ 2: 2ë²ˆì˜ ë„¤íŠ¸ì›Œí¬ ì™•ë³µ í•„ìš” (ZSCORE + ZADD)
- ë¬¸ì œ 3: ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë°ì´í„° ë¶ˆì¼ì¹˜
- ì™œ ì´ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ê°€: ZINCRBY ëª…ë ¹ì–´ë¥¼ ëª°ëžê¸° ë•Œë¬¸

**í•´ê²°ì±…**:
```python
# âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
def add_points(player_id, earned_points):
    # ZINCRBYë¡œ ì›ìžì ìœ¼ë¡œ ì ìˆ˜ ì¦ê°€
    new_score = redis.zincrby("leaderboard", earned_points, player_id)
    return new_score

# ì„¤ëª…
# 1. ZINCRBYëŠ” ì›ìžì (atomic) ì—°ì‚°
# 2. ë™ì‹œì— ì—¬ëŸ¬ ìš”ì²­ì´ ì™€ë„ ì•ˆì „
# 3. ë©¤ë²„ê°€ ì—†ìœ¼ë©´ ìžë™ìœ¼ë¡œ ìƒì„± í›„ ì¦ê°€
# 4. í•œ ë²ˆì˜ ëª…ë ¹ì–´ë¡œ ì™„ë£Œ
```

**ë°°ìš´ ì **:
- ðŸ’¡ íŒ 1: ì ìˆ˜ ì¦ê°ì€ í•­ìƒ ZINCRBY ì‚¬ìš© (GET-SET íŒ¨í„´ ê¸ˆì§€)
- ðŸ’¡ íŒ 2: ZINCRBYëŠ” ì›ìžì  ì—°ì‚°ì´ë¯€ë¡œ ë©€í‹°ìŠ¤ë ˆë“œì—ì„œë„ ì•ˆì „
- ðŸ’¡ íŒ 3: ìŒìˆ˜ë„ ê°€ëŠ¥í•˜ë¯€ë¡œ ì ìˆ˜ ê°ì†Œë„ ZINCRBY ì‚¬ìš©

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: ìˆœìœ„ ì¡°íšŒ ì‹œ ì „ì²´ ì¡°íšŒ í›„ í•„í„°ë§

**ìƒí™©**: ì£¼ë‹ˆì–´ ê°œë°œìžê°€ íŠ¹ì • í”Œë ˆì´ì–´ì˜ ìˆœìœ„ë¥¼ ì•Œê¸° ìœ„í•´ ì „ì²´ ë¦¬ë”ë³´ë“œë¥¼ ê°€ì ¸ì˜¨ í›„ ìˆœíšŒí•˜ë©° ì°¾ëŠ” ì½”ë“œë¥¼ ìž‘ì„±í–ˆìŠµë‹ˆë‹¤.

```python
# âŒ ì£¼ë‹ˆì–´ ê°œë°œìžê°€ ìž‘ì„±í•œ ì½”ë“œ
def get_player_rank(player_id):
    # 1. ì „ì²´ ë¦¬ë”ë³´ë“œ ê°€ì ¸ì˜¤ê¸° (ì—­ìˆœìœ¼ë¡œ)
    all_players = redis.zrevrange("leaderboard", 0, -1)

    # 2. ìˆœíšŒí•˜ë©° í”Œë ˆì´ì–´ ì°¾ê¸°
    for rank, player in enumerate(all_players):
        if player == player_id:
            return rank + 1  # 1ë“±ë¶€í„° ì‹œìž‘

    return None  # í”Œë ˆì´ì–´ ì—†ìŒ

# ì‚¬ìš© ì˜ˆì‹œ
rank = get_player_rank("player123")
print(f"í˜„ìž¬ ìˆœìœ„: {rank}ë“±")
```

**ë¬¸ì œì **:
- ë¬¸ì œ 1: O(N) ì‹œê°„ ë³µìž¡ë„ë¡œ ëŠë¦¼ (100ë§Œ ìœ ì €ë©´ ìˆ˜ë°± ms ì†Œìš”)
- ë¬¸ì œ 2: ì „ì²´ ë°ì´í„°ë¥¼ ë„¤íŠ¸ì›Œí¬ë¡œ ì „ì†¡í•´ì•¼ í•¨ (ë©”ëª¨ë¦¬ ë‚­ë¹„)
- ë¬¸ì œ 3: Redis ì„œë²„ì™€ ë„¤íŠ¸ì›Œí¬ì— ë¶€í•˜
- ì™œ ì´ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ê°€: ZREVRANK ëª…ë ¹ì–´ë¥¼ ëª°ëžê¸° ë•Œë¬¸

**í•´ê²°ì±…**:
```python
# âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
def get_player_rank(player_id):
    # ZREVRANKë¡œ O(log N)ì— ìˆœìœ„ ì¡°íšŒ
    rank = redis.zrevrank("leaderboard", player_id)

    if rank is None:
        return None  # í”Œë ˆì´ì–´ ì—†ìŒ

    return rank + 1  # 0-based â†’ 1-based (1ë“±ë¶€í„° ì‹œìž‘)

# ì‚¬ìš© ì˜ˆì‹œ
rank = get_player_rank("player123")
if rank:
    print(f"í˜„ìž¬ ìˆœìœ„: {rank}ë“±")
else:
    print("ìˆœìœ„ ì—†ìŒ")

# ì ìˆ˜ë„ í•¨ê»˜ ì¡°íšŒ
score = redis.zscore("leaderboard", "player123")
print(f"í˜„ìž¬ ì ìˆ˜: {score}ì ")
```

**ë°°ìš´ ì **:
- ðŸ’¡ íŒ 1: ìˆœìœ„ ì¡°íšŒëŠ” ZRANK/ZREVRANK ì‚¬ìš© (O(log N))
- ðŸ’¡ íŒ 2: ZREVRANKëŠ” ë†’ì€ ì ìˆ˜ë¶€í„° 0, 1, 2... (ì¼ë°˜ì ì¸ ìˆœìœ„ í‘œì‹œ)
- ðŸ’¡ íŒ 3: 100ë§Œ ê°œ ë°ì´í„°ë„ 1ms ì´ë‚´ì— ìˆœìœ„ ì¡°íšŒ ê°€ëŠ¥

---

### ì‹œë‚˜ë¦¬ì˜¤ 4: TOP 10 ì¡°íšŒ í›„ ì ìˆ˜ ê°œë³„ ì¡°íšŒ

**ìƒí™©**: ì£¼ë‹ˆì–´ ê°œë°œìžê°€ ìƒìœ„ 10ëª…ì˜ ë¦¬ë”ë³´ë“œë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ ë¨¼ì € í”Œë ˆì´ì–´ ëª©ë¡ì„ ê°€ì ¸ì˜¨ í›„ ê° í”Œë ˆì´ì–´ì˜ ì ìˆ˜ë¥¼ ê°œë³„ ì¡°íšŒí•˜ëŠ” ì½”ë“œë¥¼ ìž‘ì„±í–ˆìŠµë‹ˆë‹¤.

```python
# âŒ ì£¼ë‹ˆì–´ ê°œë°œìžê°€ ìž‘ì„±í•œ ì½”ë“œ
def get_top10_leaderboard():
    # 1. ìƒìœ„ 10ëª… í”Œë ˆì´ì–´ ì´ë¦„ë§Œ ê°€ì ¸ì˜¤ê¸°
    top_players = redis.zrevrange("leaderboard", 0, 9)

    # 2. ê° í”Œë ˆì´ì–´ì˜ ì ìˆ˜ ê°œë³„ ì¡°íšŒ
    leaderboard = []
    for player in top_players:
        score = redis.zscore("leaderboard", player)
        leaderboard.append({
            "player": player,
            "score": score
        })

    return leaderboard

# ì¶œë ¥
for i, entry in enumerate(get_top10_leaderboard(), 1):
    print(f"{i}. {entry['player']}: {entry['score']}ì ")
```

**ë¬¸ì œì **:
- ë¬¸ì œ 1: 11ë²ˆì˜ ë„¤íŠ¸ì›Œí¬ ì™•ë³µ (ZREVRANGE 1ë²ˆ + ZSCORE 10ë²ˆ)
- ë¬¸ì œ 2: ë¶ˆí•„ìš”í•œ ì§€ì—° ì‹œê°„ (ê° ZSCOREë§ˆë‹¤ RTT ë°œìƒ)
- ë¬¸ì œ 3: Redis ì„œë²„ì— ë¶€í•˜ ì¦ê°€
- ì™œ ì´ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ê°€: WITHSCORES ì˜µì…˜ì„ ëª°ëžê¸° ë•Œë¬¸

**í•´ê²°ì±…**:
```python
# âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
def get_top10_leaderboard():
    # WITHSCORES ì˜µì…˜ìœ¼ë¡œ í•œ ë²ˆì— ê°€ì ¸ì˜¤ê¸°
    top_players = redis.zrevrange("leaderboard", 0, 9, withscores=True)

    # ê²°ê³¼ë¥¼ ë”•ì…”ë„ˆë¦¬ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
    leaderboard = [
        {"player": player, "score": score}
        for player, score in top_players
    ]

    return leaderboard

# ì¶œë ¥
for i, entry in enumerate(get_top10_leaderboard(), 1):
    print(f"{i}. {entry['player']}: {entry['score']}ì ")

# ë˜ëŠ” ë” ê°„ê²°í•˜ê²Œ
top10 = redis.zrevrange("leaderboard", 0, 9, withscores=True)
for rank, (player, score) in enumerate(top10, 1):
    print(f"{rank}. {player}: {score}ì ")
```

**ë°°ìš´ ì **:
- ðŸ’¡ íŒ 1: ZRANGE/ZREVRANGEëŠ” WITHSCORES ì˜µì…˜ìœ¼ë¡œ ì ìˆ˜ë„ í•¨ê»˜ ê°€ì ¸ì˜¤ê¸°
- ðŸ’¡ íŒ 2: ë„¤íŠ¸ì›Œí¬ ì™•ë³µì„ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ì˜ í•µì‹¬
- ðŸ’¡ íŒ 3: 11ë²ˆ ì™•ë³µ â†’ 1ë²ˆ ì™•ë³µìœ¼ë¡œ 10ë°° ì´ìƒ ë¹¨ë¼ì§

---

## â“ 7. ìžì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

<details>
<summary><strong>Q1: ê°™ì€ ì ìˆ˜ë¥¼ ê°€ì§„ ë©¤ë²„ë“¤ì˜ ìˆœì„œëŠ”?</strong></summary>

**A**: ì‚¬ì „ìˆœ(lexicographical order)ìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- Redis Sorted Setì€ ì ìˆ˜ê°€ ê°™ì„ ë•Œ ë©¤ë²„ ì´ë¦„ì˜ ì‚¬ì „ìˆœìœ¼ë¡œ ìžë™ ì •ë ¬
- ëŒ€ì†Œë¬¸ìž êµ¬ë¶„í•˜ë©° UTF-8 ë°”ì´íŠ¸ ìˆœì„œë¡œ ë¹„êµ
- ìˆ«ìž ë¬¸ìžì—´ë„ ì‚¬ì „ìˆœìœ¼ë¡œ ì •ë ¬ ("10" < "2")

**ì˜ˆì‹œ**:
```bash
ZADD myzset 100 "charlie" 100 "alice" 100 "bob"
ZRANGE myzset 0 -1
1) "alice"     # ì‚¬ì „ìˆœìœ¼ë¡œ ì •ë ¬
2) "bob"
3) "charlie"

# ìˆ«ìž ë¬¸ìžì—´ë„ ì‚¬ì „ìˆœ
ZADD scores 100 "player2" 100 "player10" 100 "player1"
ZRANGE scores 0 -1
1) "player1"
2) "player10"   # "10"ì´ "2"ë³´ë‹¤ ì‚¬ì „ìˆœìœ¼ë¡œ ì•žì„¬
3) "player2"
```

**ì‹¤ë¬´ íŒ**:
ðŸ’¡ ìˆ«ìž ìˆœì„œë¥¼ ì›í•œë‹¤ë©´ ì ìˆ˜ë¥¼ ë¯¸ì„¸í•˜ê²Œ ë‹¤ë¥´ê²Œ ì„¤ì •í•˜ê±°ë‚˜, ë©¤ë²„ ì´ë¦„ì— zero-padding ì‚¬ìš© ("player01", "player02", "player10")

</details>

<details>
<summary><strong>Q2: ì ìˆ˜ê°€ ì‹¤ìˆ˜ì¼ ë•Œ ì •ë°€ë„ëŠ”?</strong></summary>

**A**: RedisëŠ” IEEE 754 double precisionì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- 64ë¹„íŠ¸ ë¶€ë™ì†Œìˆ˜ì  (ì•½ 15-17ìžë¦¬ ìœ íš¨ìˆ«ìž)
- ë§¤ìš° í° ìˆ˜ë‚˜ ìž‘ì€ ìˆ˜ í‘œí˜„ ê°€ëŠ¥ (Â±10^308)
- ì •ë°€ë„ í•œê³„ë¡œ ì¸í•œ ê·¼ì‚¬ê°’ ë°œìƒ ê°€ëŠ¥

**ì˜ˆì‹œ**:
```bash
ZADD scores 1.23456789012345 "precise"
ZSCORE scores "precise"
"1.2345678901234499"  # ë¶€ë™ì†Œìˆ˜ì  ì •ë°€ë„ í•œê³„

# ë§¤ìš° ìž‘ì€ ì°¨ì´ë„ êµ¬ë¶„ ê°€ëŠ¥
ZADD rankings 1.0000001 "player1" 1.0000002 "player2"
ZRANGE rankings 0 -1 WITHSCORES
1) "player1"
2) "1.0000001"
3) "player2"
4) "1.0000002"

# ì •ìˆ˜ë¡œ í‘œí˜„í•˜ë©´ ì •ë°€ë„ ë¬¸ì œ ì—†ìŒ
ZADD money 1234567890 "account1"  # 12ì–µì›ì„ í¬ì¸íŠ¸ë¡œ
ZSCORE money "account1"
"1234567890"  # ì •í™•ížˆ ì¼ì¹˜
```

**ì‹¤ë¬´ íŒ**:
ðŸ’¡ ê¸ˆì•¡ì´ë‚˜ ì •í™•í•œ ê³„ì‚°ì´ í•„ìš”í•˜ë©´ ì •ìˆ˜ë¡œ ë³€í™˜ (100ì› ë‹¨ìœ„ â†’ í¬ì¸íŠ¸ë¡œ ì €ìž¥)

</details>

<details>
<summary><strong>Q3: ZRANK vs ZREVRANK ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?</strong></summary>

**A**: ìˆœìœ„ í‘œì‹œ ë°©ì‹ì— ë”°ë¼ ì„ íƒí•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- ZRANK: ë‚®ì€ ì ìˆ˜ë¶€í„° ìˆœìœ„ (0-based, ë‚®ì€ ì ìˆ˜ê°€ 0)
- ZREVRANK: ë†’ì€ ì ìˆ˜ë¶€í„° ìˆœìœ„ (0-based, ë†’ì€ ì ìˆ˜ê°€ 0)
- ì‹¤ë¬´ì—ì„œëŠ” "ë†’ì€ ì ìˆ˜ = 1ë“±"ì´ ì§ê´€ì ì´ë¯€ë¡œ ZREVRANK ìžì£¼ ì‚¬ìš©

**ì˜ˆì‹œ**:
```bash
# ë†’ì€ ì ìˆ˜ê°€ ì¢‹ì€ ê²½ìš° (ê²Œìž„ ì ìˆ˜, ì¸ê¸°ë„)
ZADD leaderboard 1500 "player1" 2300 "player2" 1800 "player3"

ZREVRANK leaderboard "player2"  # 0 (1ë“±, ê°€ìž¥ ë†’ì€ ì ìˆ˜)
ZREVRANK leaderboard "player3"  # 1 (2ë“±)
ZREVRANK leaderboard "player1"  # 2 (3ë“±)

# ë‚®ì€ ì ìˆ˜ê°€ ì¢‹ì€ ê²½ìš° (ì‘ë‹µì‹œê°„, ì—ëŸ¬ìœ¨)
ZADD response_times 15 "server1" 25 "server2" 10 "server3"

ZRANK response_times "server3"  # 0 (1ë“±, ê°€ìž¥ ë¹ ë¦„)
ZRANK response_times "server1"  # 1 (2ë“±)
ZRANK response_times "server2"  # 2 (3ë“±)
```

**ì‹¤ë¬´ íŒ**:
ðŸ’¡ ì‚¬ìš©ìžì—ê²Œ "Në“±"ìœ¼ë¡œ í‘œì‹œí•˜ë ¤ë©´ ZREVRANK ê²°ê³¼ì— +1 í•„ìš” (0-based â†’ 1-based)

</details>

<details>
<summary><strong>Q4: Sorted Set vs List ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?</strong></summary>

**A**: ì •ë ¬ê³¼ ê²€ìƒ‰ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ì„ íƒí•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- Sorted Set: ì ìˆ˜ ê¸°ë°˜ ìžë™ ì •ë ¬, ì¤‘ë³µ ë¶ˆê°€, ë¹ ë¥¸ ìˆœìœ„ ê²€ìƒ‰ (O(log N))
- List: ì‚½ìž… ìˆœì„œ ìœ ì§€, ì¤‘ë³µ í—ˆìš©, ì–‘ë ì ‘ê·¼ ë¹ ë¦„ (O(1))

**ë¹„êµí‘œ**:

| ê¸°ëŠ¥ | Sorted Set | List |
|------|-----------|------|
| ì •ë ¬ | ì ìˆ˜ ê¸°ë°˜ ìžë™ ì •ë ¬ | ì‚½ìž… ìˆœì„œ ìœ ì§€ |
| ì¤‘ë³µ | ë¶ˆê°€ (ìœ ì¼í•œ ë©¤ë²„) | ê°€ëŠ¥ |
| ìˆœìœ„ ì¡°íšŒ | O(log N) ë¹ ë¦„ | O(N) ëŠë¦¼ |
| ì–‘ë ì ‘ê·¼ | O(log N) | O(1) ë§¤ìš° ë¹ ë¦„ |
| ë²”ìœ„ ì¡°íšŒ | ì ìˆ˜/ìˆœìœ„ ê¸°ë°˜ | ì¸ë±ìŠ¤ ê¸°ë°˜ |
| ì‚¬ìš© ì‚¬ë¡€ | ëž­í‚¹, ìˆœìœ„, íŠ¸ë Œë”© | í, ìŠ¤íƒ, íƒ€ìž„ë¼ì¸ |

**ì˜ˆì‹œ**:
```bash
# Sorted Setì´ ì¢‹ì€ ê²½ìš°:
# âœ… ê²Œìž„ ë¦¬ë”ë³´ë“œ (ì ìˆ˜ ìˆœìœ„)
# âœ… ì¸ê¸° ìƒí’ˆ ìˆœìœ„ (íŒë§¤ëŸ‰ ê¸°ë°˜)
# âœ… ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´ (ë¹ˆë„ ê¸°ë°˜)
# âœ… ì‚¬ìš©ìž ëª…ì„± ì ìˆ˜

# Listê°€ ì¢‹ì€ ê²½ìš°:
# âœ… ìµœê·¼ í™œë™ ë¡œê·¸ (ì‹œê°„ ìˆœì„œ)
# âœ… ë©”ì‹œì§€ í (FIFO)
# âœ… ìž‘ì—… ìŠ¤íƒ (LIFO)
# âœ… íƒ€ìž„ë¼ì¸ í”¼ë“œ (ì‚½ìž… ìˆœì„œ)
```

**ì‹¤ë¬´ íŒ**:
ðŸ’¡ "ìˆœìœ„ê°€ í•„ìš”í•˜ë©´ Sorted Set, ìˆœì„œë§Œ í•„ìš”í•˜ë©´ List" ë¡œ ê¸°ì–µ

</details>

<details>
<summary><strong>Q5: ëŒ€ìš©ëŸ‰ ë¦¬ë”ë³´ë“œ ì„±ëŠ¥ ìµœì í™” ë°©ë²•ì€?</strong></summary>

**A**: ì—¬ëŸ¬ ì „ëžµì„ ì¡°í•©í•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- ìƒ¤ë”©: ë°ì´í„°ë¥¼ ì—¬ëŸ¬ Sorted Setìœ¼ë¡œ ë¶„í• 
- ìºì‹±: ìžì£¼ ì¡°íšŒë˜ëŠ” TOP Në§Œ ë³„ë„ ê´€ë¦¬
- ë°°ì¹˜ ì²˜ë¦¬: ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ + ì£¼ê¸°ì  í†µí•©
- ë°ì´í„° ì •ë¦¬: ì˜¤ëž˜ë˜ê±°ë‚˜ ë¹„í™œì„± ë°ì´í„° ì œê±°

**ìµœì í™” ì „ëžµ**:

```bash
# 1. ìƒ¤ë”©: ì§€ì—­ë³„/ë ˆë²¨ë³„ë¡œ ë¶„í• 
ZADD leaderboard:kr 1500 "player1"
ZADD leaderboard:us 2300 "player2"
ZADD leaderboard:level10 1800 "player3"

# 2. ìºì‹±: TOP 100ë§Œ ë³„ë„ ê´€ë¦¬
# ì£¼ê¸°ì ìœ¼ë¡œ ê°±ì‹  (1ë¶„ë§ˆë‹¤)
ZREVRANGE global_ranking 0 99 -> cache:top100

# 3. ë°°ì¹˜ ì²˜ë¦¬: ì‹¤ì‹œê°„ + í†µí•©
ZADD leaderboard:realtime:shard1 100 "player1"
ZADD leaderboard:realtime:shard2 200 "player2"
# 1ì‹œê°„ë§ˆë‹¤ í†µí•©
ZUNIONSTORE leaderboard:daily leaderboard:realtime:*

# 4. ì •ë¦¬: ë¹„í™œì„± ì‚¬ìš©ìž ì œê±°
ZREMRANGEBYRANK inactive_users 0 -1000000  # í•˜ìœ„ 100ë§Œ ëª… ì‚­ì œ
```

**ì„±ëŠ¥ ë¹„êµ**:

| ë°©ë²• | 100ë§Œ ëª… | 1000ë§Œ ëª… | 1ì–µ ëª… |
|------|---------|----------|-------|
| ë‹¨ì¼ Sorted Set | 1ms | 2ms | 5ms |
| ìƒ¤ë”© (100ê°œ) | 0.5ms | 0.8ms | 1ms |
| ìºì‹± (TOP 100) | 0.01ms | 0.01ms | 0.01ms |

**ì‹¤ë¬´ íŒ**:
ðŸ’¡ ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ëŠ” ìƒ¤ë”© + ìºì‹± ì¡°í•© í•„ìˆ˜, ì§€ì—­ë³„/ë ˆë²¨ë³„ë¡œ ë‚˜ëˆ„ê³  TOP Nì€ ë³„ë„ ìºì‹œ

</details>

<details>
<summary><strong>Q6: Sorted Setì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ ì–¼ë§ˆë‚˜ ë˜ë‚˜ìš”?</strong></summary>

**A**: ë©¤ë²„ì™€ ì ìˆ˜ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ:

**ìƒì„¸ ì„¤ëª…**:
- ziplist ì¸ì½”ë”©: ìž‘ì€ Sorted Setì— ìµœì í™” (ë©”ëª¨ë¦¬ íš¨ìœ¨ì )
- skiplist ì¸ì½”ë”©: í° Sorted Setì— ì‚¬ìš© (ê²€ìƒ‰ ì†ë„ ìš°ì„ )
- ìžë™ ë³€í™˜: ì¡°ê±´ ì´ˆê³¼ ì‹œ ziplist â†’ skiplist

**ì¸ì½”ë”©ë³„ íŠ¹ì§•**:

```bash
# ziplist ì¸ì½”ë”© (ìž‘ì€ Sorted Set)
# - ì¡°ê±´: ì›ì†Œ 128ê°œ ì´í•˜, ê°’ 64ë°”ì´íŠ¸ ì´í•˜
# - ë©”ëª¨ë¦¬: ì•½ 15-20 ë°”ì´íŠ¸/ì›ì†Œ
# - ì†ë„: ìž‘ì€ í¬ê¸°ì—ì„œëŠ” ë¹ ë¦„

# skiplist ì¸ì½”ë”© (í° Sorted Set)
# - ì¡°ê±´: ì›ì†Œ 128ê°œ ì´ˆê³¼ ë˜ëŠ” ê°’ 64ë°”ì´íŠ¸ ì´ˆê³¼
# - ë©”ëª¨ë¦¬: ì•½ 40-50 ë°”ì´íŠ¸/ì›ì†Œ (ì¸ë±ìŠ¤ í¬í•¨)
# - ì†ë„: O(log N) ë³´ìž¥

# ì˜ˆì‹œ: ë‹¤ì–‘í•œ í¬ê¸°ë³„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
# - 100ê°œ ì›ì†Œ (ziplist): ì•½ 1.5-2 KB
# - 10,000ê°œ ì›ì†Œ (skiplist): ì•½ 400-500 KB
# - 100ë§Œ ê°œ ì›ì†Œ (skiplist): ì•½ 40-50 MB
# - 1000ë§Œ ê°œ ì›ì†Œ (skiplist): ì•½ 400-500 MB

# ë©”ëª¨ë¦¬ í™•ì¸ ë°©ë²•
ZADD test_zset 100 "member1" 200 "member2"
OBJECT ENCODING test_zset   # "ziplist" ë˜ëŠ” "skiplist"
MEMORY USAGE test_zset       # ë°”ì´íŠ¸ ë‹¨ìœ„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
```

**ì‹¤ë¬´ íŒ**:
ðŸ’¡ ëŒ€ìš©ëŸ‰ ë¦¬ë”ë³´ë“œëŠ” ìƒ¤ë”©ìœ¼ë¡œ ë¶„í• í•˜ì—¬ ê° ìƒ¤ë“œë¥¼ ziplist í¬ê¸°ë¡œ ìœ ì§€í•˜ë©´ ë©”ëª¨ë¦¬ ì ˆì•½ ê°€ëŠ¥

</details>

<details>
<summary><strong>Q7: ì‹œê°„ ê¸°ë°˜ ì ìˆ˜ ì„¤ê³„ëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”?</strong></summary>

**A**: timestampë¥¼ ì ìˆ˜ë¡œ ì‚¬ìš©í•˜ê±°ë‚˜ ë³µí•© ì ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- ë°©ë²• 1: timestampë¥¼ ì ìˆ˜ë¡œ (ì‹œê°„ìˆœ ì •ë ¬)
- ë°©ë²• 2: ë³µí•© ì ìˆ˜ (ì¸ê¸°ë„ + ì‹œê°„ ê°€ì¤‘ì¹˜)
- ë°©ë²• 3: ì‹œê°„ ê°ì‡  í•¨ìˆ˜ ì ìš© (ìµœì‹  ì½˜í…ì¸  ìš°ì„ )

**êµ¬í˜„ ì˜ˆì‹œ**:

```bash
# ë°©ë²• 1: timestampë¥¼ ì ìˆ˜ë¡œ (ì‹œê°„ìˆœ ì •ë ¬)
timestamp=$(date +%s)
ZADD timeline $timestamp "event:123"
ZADD timeline 1704067200 "post:001"  # 2024-01-01 00:00:00

# ìµœì‹ ìˆœ ì¡°íšŒ
ZREVRANGE timeline 0 9

# íŠ¹ì • ì‹œê°„ ì´í›„ ì¡°íšŒ
ZRANGEBYSCORE timeline 1704067200 "+inf"

# ë°©ë²• 2: ë³µí•© ì ìˆ˜ (ì¸ê¸°ë„ + ì‹œê°„ ê°€ì¤‘ì¹˜)
# score = base_score * time_decay
# ìµœê·¼ í•­ëª©ì¼ìˆ˜ë¡ ë†’ì€ ì ìˆ˜

# ì˜ˆì‹œ: 1ì‹œê°„ë§ˆë‹¤ 5% ê°ì†Œ
current_time=$(date +%s)
created_time=1704067200
hours_passed=$(( (current_time - created_time) / 3600 ))
time_decay=$(echo "0.95^$hours_passed" | bc -l)
base_score=100  # ì¢‹ì•„ìš” ê°œìˆ˜
final_score=$(echo "$base_score * $time_decay" | bc)

ZADD trending_posts $final_score "post:123"

# ë°©ë²• 3: Reddit/Hacker News ìŠ¤íƒ€ì¼ ì ìˆ˜
# score = (upvotes - downvotes) / (age_in_hours + 2)^1.5
upvotes=100
downvotes=10
age_hours=5
score=$(echo "($upvotes - $downvotes) / (($age_hours + 2)^1.5)" | bc -l)

ZADD hot_posts $score "post:456"
```

**ì‹¤ë¬´ íŒ**:
ðŸ’¡ íŠ¸ë Œë”© ì•Œê³ ë¦¬ì¦˜ì€ ì£¼ê¸°ì ìœ¼ë¡œ ì ìˆ˜ ìž¬ê³„ì‚° í•„ìš” (1ì‹œê°„ë§ˆë‹¤ ì „ì²´ ìž¬ê³„ì‚°)

</details>

<details>
<summary><strong>Q8: ZRANGE vs ZRANGEBYSCORE ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?</strong></summary>

**A**: ì¡°íšŒ ê¸°ì¤€ì— ë”°ë¼ ì„ íƒí•©ë‹ˆë‹¤.

**ìƒì„¸ ì„¤ëª…**:
- ZRANGE: ìˆœìœ„ ê¸°ë°˜ ì¡°íšŒ (ìƒìœ„ Nê°œ, íŠ¹ì • ìˆœìœ„ ë²”ìœ„)
- ZRANGEBYSCORE: ì ìˆ˜ ê¸°ë°˜ ì¡°íšŒ (íŠ¹ì • ì ìˆ˜ ë²”ìœ„)
- ìš©ë„ì— ë”°ë¼ ì ì ˆížˆ ì„ íƒí•˜ë©´ íš¨ìœ¨ì 

**ë¹„êµ ë° í™œìš©**:

```bash
# ZRANGE: ìˆœìœ„ ê¸°ë°˜ ì¡°íšŒ
# âœ… ìƒìœ„ Nê°œ, í•˜ìœ„ Nê°œ
# âœ… íŠ¹ì • ìˆœìœ„ ë²”ìœ„
# âœ… ë¦¬ë”ë³´ë“œ TOP 10, íŽ˜ì´ì§•

ZREVRANGE leaderboard 0 9 WITHSCORES  # 1ë“±~10ë“±
ZRANGE leaderboard 0 99              # í•˜ìœ„ 100ëª…

# ZRANGEBYSCORE: ì ìˆ˜ ê¸°ë°˜ ì¡°íšŒ
# âœ… íŠ¹ì • ì ìˆ˜ ë²”ìœ„
# âœ… ì ìˆ˜ ê¸°ì¤€ í•„í„°ë§
# âœ… ë“±ê¸‰ë³„ ë¶„ë¥˜

ZRANGEBYSCORE scores 80 100          # 80ì ~100ì  (Aë“±ê¸‰)
ZRANGEBYSCORE scores 60 79           # 60ì ~79ì  (Bë“±ê¸‰)
ZRANGEBYSCORE scores "(90" "+inf"    # 90ì  ì´ˆê³¼ (ìš°ìˆ˜)

# ì‹¤ë¬´ í™œìš© ì˜ˆì‹œ

# 1. ë¦¬ë”ë³´ë“œ TOP N: ZRANGE ì‚¬ìš©
ZREVRANGE game_ranking 0 9  # 1~10ë“±

# 2. ë“±ê¸‰ë³„ ë¶„ë¥˜: ZRANGEBYSCORE ì‚¬ìš©
ZRANGEBYSCORE loyalty_points 1000 "+inf"  # VIP (1000ì  ì´ìƒ)
ZRANGEBYSCORE loyalty_points 500 999      # Gold (500~999ì )
ZRANGEBYSCORE loyalty_points 0 499        # Silver (0~499ì )

# 3. íŽ˜ì´ì§•: ZRANGE + LIMIT ì‚¬ìš©
# íŽ˜ì´ì§€ 1 (0~19ë“±)
ZREVRANGE leaderboard 0 19
# íŽ˜ì´ì§€ 2 (20~39ë“±)
ZREVRANGE leaderboard 20 39

# 4. ì‹œê°„ ë²”ìœ„: ZRANGEBYSCORE ì‚¬ìš©
# ìµœê·¼ 7ì¼ ê²Œì‹œë¬¼ (timestamp ì ìˆ˜)
ZRANGEBYSCORE posts $seven_days_ago $now
```

**ì„ íƒ ê°€ì´ë“œ**:

| ìš”êµ¬ì‚¬í•­ | ì‚¬ìš© ëª…ë ¹ì–´ | ì˜ˆì‹œ |
|---------|-----------|------|
| ìƒìœ„ Nê°œ | ZREVRANGE | TOP 10 ì¡°íšŒ |
| í•˜ìœ„ Nê°œ | ZRANGE | ìµœí•˜ìœ„ ì œê±° |
| íŠ¹ì • ìˆœìœ„ ë²”ìœ„ | ZRANGE | 10~20ë“± ì¡°íšŒ |
| ì ìˆ˜ ë²”ìœ„ | ZRANGEBYSCORE | 80~100ì  |
| ë“±ê¸‰ ë¶„ë¥˜ | ZRANGEBYSCORE | VIP/Gold/Silver |
| ì‹œê°„ ë²”ìœ„ | ZRANGEBYSCORE | ìµœê·¼ 7ì¼ |

**ì‹¤ë¬´ íŒ**:
ðŸ’¡ ë¦¬ë”ë³´ë“œëŠ” ZREVRANGE, ë“±ê¸‰ ì‹œìŠ¤í…œì€ ZRANGEBYSCOREë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©

</details>

---

## ðŸ’¼ ë©´ì ‘ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸

### ðŸ“˜ ì£¼ë‹ˆì–´/ì‹ ìž… ê°œë°œìžìš© (5-7ê°œ)

<details>
<summary><strong>1. Redis Sorted Setì´ ë¬´ì—‡ì´ê³ , ì¼ë°˜ Setê³¼ì˜ ì°¨ì´ì ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Sorted Setì€ ê° ë©¤ë²„ê°€ ì ìˆ˜(score)ë¥¼ ê°€ì§€ë©° ì ìˆ˜ ìˆœìœ¼ë¡œ ìžë™ ì •ë ¬ë˜ëŠ” ë°ì´í„° êµ¬ì¡°
- ì¼ë°˜ Setì€ ìˆœì„œê°€ ì—†ê³  ì¤‘ë³µ ë¶ˆê°€, Sorted Setì€ ì ìˆ˜ë¡œ ì •ë ¬ë˜ë©° ì¤‘ë³µ ë¶ˆê°€
- ê° ë©¤ë²„ëŠ” ìœ ì¼í•˜ì§€ë§Œ ì ìˆ˜ëŠ” ì¤‘ë³µ ê°€ëŠ¥
- ë‚´ë¶€ì ìœ¼ë¡œ skip listì™€ hash tableì„ ì‚¬ìš©í•˜ì—¬ O(log N) ì„±ëŠ¥ ë³´ìž¥

**ì˜ˆì‹œ ë‹µë³€**
> "Sorted Setì€ Setì˜ íŠ¹ì„±(ì¤‘ë³µ ë¶ˆê°€)ì— ì •ë ¬ ê¸°ëŠ¥ì„ ì¶”ê°€í•œ ë°ì´í„° êµ¬ì¡°ìž…ë‹ˆë‹¤. ê° ë©¤ë²„ê°€ ì ìˆ˜(score)ë¥¼ ê°€ì§€ê³  ìžˆì–´ì„œ ì ìˆ˜ ìˆœìœ¼ë¡œ ìžë™ ì •ë ¬ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê²Œìž„ ë¦¬ë”ë³´ë“œì—ì„œ í”Œë ˆì´ì–´ ì´ë¦„ì´ ë©¤ë²„ê³  ê²Œìž„ ì ìˆ˜ê°€ scoreê°€ ë©ë‹ˆë‹¤. ì¼ë°˜ Setê³¼ ë‹¬ë¦¬ ìˆœìœ„ ì¡°íšŒ, ë²”ìœ„ ì¡°íšŒ ë“±ì´ ë§¤ìš° ë¹ ë¥´ê²Œ ê°€ëŠ¥í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Sorted Setì˜ ì‹œê°„ ë³µìž¡ë„ëŠ”?
- A: ì‚½ìž…/ì‚­ì œ/ì¡°íšŒ ëª¨ë‘ O(log N), ìˆœìœ„ ì¡°íšŒë„ O(log N)

**ì‹¤ë¬´ ì—°ê´€**
- ì‹¤ì‹œê°„ ë¦¬ë”ë³´ë“œ, ì¸ê¸° ìˆœìœ„, íŠ¸ë Œë”© ì½˜í…ì¸  ë“±ì— í™œìš©
- ì ìˆ˜ ê¸°ë°˜ ì •ë ¬ì´ í•„ìš”í•œ ëª¨ë“  ê³³ì— ì‚¬ìš© ê°€ëŠ¥

</details>

<details>
<summary><strong>2. ZADD ëª…ë ¹ì–´ì˜ ë™ìž‘ ë°©ì‹ê³¼ ì˜µì…˜(NX, XX, CH)ì„ ì„¤ëª…í•˜ì„¸ìš”</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ZADDëŠ” Sorted Setì— ë©¤ë²„ì™€ ì ìˆ˜ë¥¼ ì¶”ê°€í•˜ëŠ” ëª…ë ¹ì–´
- ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ë©¤ë²„ë©´ ì ìˆ˜ë§Œ ì—…ë°ì´íŠ¸ (ìžë™ ìž¬ì •ë ¬)
- NX: ë©¤ë²„ê°€ ì—†ì„ ë•Œë§Œ ì¶”ê°€ (ìƒˆ í•­ëª©ë§Œ)
- XX: ë©¤ë²„ê°€ ìžˆì„ ë•Œë§Œ ì—…ë°ì´íŠ¸ (ê¸°ì¡´ í•­ëª©ë§Œ)
- CH: ë³€ê²½ëœ ë©¤ë²„ ê°œìˆ˜ ë°˜í™˜ (ì ìˆ˜ ë³€ê²½ í¬í•¨)

**ì˜ˆì‹œ ë‹µë³€**
> "ZADDëŠ” Sorted Setì— ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ê¸°ë³¸ ëª…ë ¹ì–´ìž…ë‹ˆë‹¤. ë§Œì•½ ê°™ì€ ë©¤ë²„ê°€ ì´ë¯¸ ìžˆë‹¤ë©´ ì ìˆ˜ë§Œ ì—…ë°ì´íŠ¸í•˜ê³  ìžë™ìœ¼ë¡œ ìž¬ì •ë ¬ë©ë‹ˆë‹¤. NX ì˜µì…˜ì€ ì‹ ê·œ ë“±ë¡ë§Œ, XX ì˜µì…˜ì€ ê¸°ì¡´ ì—…ë°ì´íŠ¸ë§Œ í—ˆìš©í•©ë‹ˆë‹¤. CH ì˜µì…˜ì„ ì“°ë©´ ì¶”ê°€ëœ ê°œìˆ˜ë¿ ì•„ë‹ˆë¼ ì ìˆ˜ê°€ ë³€ê²½ëœ ê°œìˆ˜ë„ ë°˜í™˜í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ZADDë¡œ ì ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìžˆë‚˜ìš”?
- A: ZADD INCR ì˜µì…˜ ë˜ëŠ” ZINCRBY ì‚¬ìš© ê°€ëŠ¥

**ì‹¤ë¬´ ì—°ê´€**
- NX: ìµœì´ˆ ë“±ë¡ ì‹œ (ì¤‘ë³µ ë°©ì§€)
- XX: ì—…ë°ì´íŠ¸ë§Œ í—ˆìš© (ì¡´ìž¬ í™•ì¸)
- CH: ë³€ê²½ ì¶”ì ì´ í•„ìš”í•œ ê²½ìš°

</details>

<details>
<summary><strong>3. ZRANKì™€ ZREVRANKì˜ ì°¨ì´ì ê³¼ ì‚¬ìš© ì‚¬ë¡€ëŠ”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ZRANK: ì ìˆ˜ ì˜¤ë¦„ì°¨ìˆœ ê¸°ì¤€ ìˆœìœ„ (ë‚®ì€ ì ìˆ˜ê°€ 0)
- ZREVRANK: ì ìˆ˜ ë‚´ë¦¼ì°¨ìˆœ ê¸°ì¤€ ìˆœìœ„ (ë†’ì€ ì ìˆ˜ê°€ 0)
- ë°˜í™˜ê°’ì€ 0ë¶€í„° ì‹œìž‘ (0 = 1ë“±)
- ì¼ë°˜ì ì¸ ìˆœìœ„ í‘œì‹œëŠ” ZREVRANK ì‚¬ìš© (ë†’ì€ ì ìˆ˜ê°€ ìƒìœ„)

**ì˜ˆì‹œ ë‹µë³€**
> "ZRANKëŠ” ì ìˆ˜ê°€ ë‚®ì€ ìˆœì„œë¶€í„° 0, 1, 2...ë¡œ ìˆœìœ„ë¥¼ ë§¤ê¸°ê³ , ZREVRANKëŠ” ì ìˆ˜ê°€ ë†’ì€ ìˆœì„œë¶€í„° 0, 1, 2...ë¡œ ìˆœìœ„ë¥¼ ë§¤ê¹ë‹ˆë‹¤. ê²Œìž„ ì ìˆ˜ë‚˜ ì¸ê¸°ë„ì²˜ëŸ¼ ë†’ì„ìˆ˜ë¡ ì¢‹ì€ ê²½ìš°ëŠ” ZREVRANKë¥¼ ì“°ê³ , ì‘ë‹µì‹œê°„ì´ë‚˜ ì—ëŸ¬ìœ¨ì²˜ëŸ¼ ë‚®ì„ìˆ˜ë¡ ì¢‹ì€ ê²½ìš°ëŠ” ZRANKë¥¼ ì”ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ìˆœìœ„ê°€ ì—†ëŠ” ë©¤ë²„ë¥¼ ì¡°íšŒí•˜ë©´?
- A: nil ë°˜í™˜

**ì‹¤ë¬´ ì—°ê´€**
- ê²Œìž„ ëž­í‚¹: ZREVRANK (ë†’ì€ ì ìˆ˜ê°€ 1ë“±)
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§: ZRANK (ë‚®ì€ ì‘ë‹µì‹œê°„ì´ 1ë“±)

</details>

<details>
<summary><strong>4. ZINCRBYë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì™€ GET-SET íŒ¨í„´ì˜ ë¬¸ì œì ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ZINCRBYëŠ” ì›ìžì (atomic) ì—°ì‚°ìœ¼ë¡œ ì ìˆ˜ ì¦ê°
- GET-SET íŒ¨í„´ì€ Race Condition ë°œìƒ ê°€ëŠ¥
- ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë™ì‹œ ì—…ë°ì´íŠ¸ ì‹œ ë°ì´í„° ì†ì‹¤ ìœ„í—˜
- ZINCRBYëŠ” í•œ ë²ˆì˜ ëª…ë ¹ì–´ë¡œ ì•ˆì „í•˜ê²Œ ì¦ê°

**ì˜ˆì‹œ ë‹µë³€**
> "ZINCRBYëŠ” ì›ìžì  ì—°ì‚°ì´ë¯€ë¡œ ë™ì‹œì— ì—¬ëŸ¬ ìš”ì²­ì´ ì™€ë„ ì•ˆì „í•©ë‹ˆë‹¤. ë§Œì•½ í˜„ìž¬ ì ìˆ˜ë¥¼ ê°€ì ¸ì™€ì„œ ë”í•œ í›„ ë‹¤ì‹œ ì €ìž¥í•˜ëŠ” GET-SET íŒ¨í„´ì„ ì“°ë©´, ë‘ ìš”ì²­ì´ ë™ì‹œì— ë“¤ì–´ì˜¬ ë•Œ í•˜ë‚˜ì˜ ì—…ë°ì´íŠ¸ê°€ ì†ì‹¤ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‘ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— +10ì„ í•˜ë ¤ê³  í•˜ëŠ”ë° GET-SET ë°©ì‹ì´ë©´ +10ë§Œ ë°˜ì˜ë˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì‚¬ë¼ì§‘ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ZINCRBYë¡œ ì ìˆ˜ë¥¼ ê°ì†Œì‹œí‚¬ ìˆ˜ ìžˆë‚˜ìš”?
- A: ë„¤, ìŒìˆ˜ ê°’ì„ ì „ë‹¬í•˜ë©´ ë©ë‹ˆë‹¤ (ZINCRBY key -10 member)

**ì‹¤ë¬´ ì—°ê´€**
- í¬ì¸íŠ¸ ì ë¦½/ì°¨ê°, ê²Œìž„ ì ìˆ˜ íšë“, ì¡°íšŒìˆ˜ ì¦ê°€ ë“±
- ë™ì‹œì„±ì´ ì¤‘ìš”í•œ ëª¨ë“  ì¹´ìš´í„° ì‹œìŠ¤í…œ

</details>

<details>
<summary><strong>5. Sorted Setì˜ ì‹œê°„ ë³µìž¡ë„ì™€ ì„±ëŠ¥ íŠ¹ì„±ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ì‚½ìž…/ì‚­ì œ/ì—…ë°ì´íŠ¸: O(log N)
- ìˆœìœ„ ì¡°íšŒ (ZRANK/ZREVRANK): O(log N)
- ì ìˆ˜ ì¡°íšŒ (ZSCORE): O(1)
- ë²”ìœ„ ì¡°íšŒ (ZRANGE): O(log N + M) (Mì€ ë°˜í™˜ ê°œìˆ˜)
- ë‚´ë¶€ì ìœ¼ë¡œ skip list ì‚¬ìš©í•˜ì—¬ ë¹ ë¥¸ ê²€ìƒ‰ ë³´ìž¥

**ì˜ˆì‹œ ë‹µë³€**
> "Sorted Setì€ skip listì™€ hash tableì„ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ëŒ€ë¶€ë¶„ì˜ ì—°ì‚°ì´ O(log N)ìž…ë‹ˆë‹¤. 100ë§Œ ê°œ ë°ì´í„°ê°€ ìžˆì–´ë„ ì‚½ìž…, ì‚­ì œ, ìˆœìœ„ ì¡°íšŒê°€ 1ms ì´ë‚´ì— ê°€ëŠ¥í•©ë‹ˆë‹¤. ì ìˆ˜ ì¡°íšŒëŠ” O(1)ë¡œ ë” ë¹ ë¥´ê³ , ë²”ìœ„ ì¡°íšŒëŠ” ì¡°íšŒí•  ê°œìˆ˜ì— ë¹„ë¡€í•©ë‹ˆë‹¤. ì¼ë°˜ ë°°ì—´ì„ ì •ë ¬í•˜ëŠ” O(N log N)ì— ë¹„í•´ í›¨ì”¬ íš¨ìœ¨ì ìž…ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ZCARDì˜ ì‹œê°„ ë³µìž¡ë„ëŠ”?
- A: O(1) (Redisê°€ ì¹´ìš´íŠ¸ë¥¼ ë³„ë„ ê´€ë¦¬)

**ì‹¤ë¬´ ì—°ê´€**
- ëŒ€ìš©ëŸ‰ ë¦¬ë”ë³´ë“œì—ì„œë„ ë¹ ë¥¸ ì‘ë‹µ ë³´ìž¥
- ì‹¤ì‹œê°„ ìˆœìœ„ ì‹œìŠ¤í…œì— ì í•©

</details>

<details>
<summary><strong>6. ZRANGEì™€ ZRANGEBYSCOREì˜ ì°¨ì´ì™€ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ëŠ”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ZRANGE: ìˆœìœ„(rank) ê¸°ë°˜ ì¡°íšŒ (ì¸ë±ìŠ¤ ì‚¬ìš©)
- ZRANGEBYSCORE: ì ìˆ˜(score) ê¸°ë°˜ ì¡°íšŒ (ì ìˆ˜ ë²”ìœ„ ì‚¬ìš©)
- ZRANGEëŠ” TOP N, ZRANGEBYSCOREëŠ” ë“±ê¸‰ë³„ í•„í„°ë§
- WITHSCORES ì˜µì…˜ìœ¼ë¡œ ì ìˆ˜ë„ í•¨ê»˜ ì¡°íšŒ ê°€ëŠ¥

**ì˜ˆì‹œ ë‹µë³€**
> "ZRANGEëŠ” '1ë“±ë¶€í„° 10ë“±ê¹Œì§€' ê°™ì´ ìˆœìœ„ë¡œ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•˜ê³ , ZRANGEBYSCOREëŠ” '80ì ë¶€í„° 100ì ê¹Œì§€' ê°™ì´ ì ìˆ˜ ë²”ìœ„ë¡œ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¦¬ë”ë³´ë“œ TOP 10ì„ ë³´ì—¬ì£¼ë ¤ë©´ ZREVRANGE 0 9ë¥¼ ì“°ê³ , ê³¨ë“œ ë“±ê¸‰(ì ìˆ˜ 1000~2000)ë§Œ í•„í„°ë§í•˜ë ¤ë©´ ZRANGEBYSCOREë¥¼ ì”ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: LIMIT ì˜µì…˜ì€ ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?
- A: ZRANGEBYSCOREì—ì„œ íŽ˜ì´ì§•í•  ë•Œ (LIMIT offset count)

**ì‹¤ë¬´ ì—°ê´€**
- ZRANGE: ë¦¬ë”ë³´ë“œ TOP N, ìµœê·¼ í•­ëª© Nê°œ
- ZRANGEBYSCORE: ë“±ê¸‰ë³„ ì‚¬ìš©ìž, íŠ¹ì • ê°€ê²©ëŒ€ ìƒí’ˆ

</details>

<details>
<summary><strong>7. Sorted Setì˜ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ê³¼ ìµœì í™” ë°©ë²•ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ìž‘ì€ Sorted Setì€ ziplist ì¸ì½”ë”© (ë©”ëª¨ë¦¬ íš¨ìœ¨ì )
- í° Sorted Setì€ skiplist ì¸ì½”ë”© (ê²€ìƒ‰ íš¨ìœ¨ì )
- ìž„ê³„ê°’: ì›ì†Œ 128ê°œ, ê°’ 64ë°”ì´íŠ¸
- ë¶ˆí•„ìš”í•œ ë°ì´í„°ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ì‚­ì œ (ZREMRANGEBYRANK ë“±)

**ì˜ˆì‹œ ë‹µë³€**
> "RedisëŠ” Sorted Set í¬ê¸°ì— ë”°ë¼ ë‹¤ë¥¸ ì¸ì½”ë”©ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. 128ê°œ ì´í•˜ì˜ ìž‘ì€ Setì€ ziplistë¡œ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ê³ , í° Setì€ skiplistë¡œ ê²€ìƒ‰ ì†ë„ë¥¼ ìµœì í™”í•©ë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œëŠ” TOP 100ë§Œ ìœ ì§€í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì‚­ì œí•˜ê±°ë‚˜, ì˜¤ëž˜ëœ ë°ì´í„°ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì •ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë©”ëª¨ë¦¬ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤."

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ì¸ì½”ë”© ë°©ì‹ì„ í™•ì¸í•˜ëŠ” ë°©ë²•ì€?
- A: OBJECT ENCODING key ëª…ë ¹ì–´ ì‚¬ìš©

**ì‹¤ë¬´ ì—°ê´€**
- ëŒ€ìš©ëŸ‰ ë¦¬ë”ë³´ë“œ: ìˆœìœ„ê¶Œ ì™¸ ë°ì´í„° ì •ë¦¬
- ë©”ëª¨ë¦¬ ìµœì í™”: ë¶ˆí•„ìš”í•œ í•­ëª© ì£¼ê¸°ì  ì‚­ì œ

</details>

---

### ðŸ“— ì¤‘ê¸‰ ê°œë°œìžìš© (3-5ê°œ)

<details>
<summary><strong>1. ëŒ€ìš©ëŸ‰ ê¸€ë¡œë²Œ ë¦¬ë”ë³´ë“œ ì‹œìŠ¤í…œ ì„¤ê³„ ë°©ë²•ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ìƒ¤ë”©: ì§€ì—­ë³„/ì„œë²„ë³„ë¡œ ë¶„í• í•˜ì—¬ ë¶€í•˜ ë¶„ì‚°
- ê³„ì¸µí™”: ì‹¤ì‹œê°„ + ì‹œê°„ë³„ + ì¼ë³„ ë¦¬ë”ë³´ë“œ êµ¬ë¶„
- ìºì‹±: TOP Në§Œ ë³„ë„ ìºì‹œë¡œ ê´€ë¦¬
- ë°°ì¹˜ ì²˜ë¦¬: ì£¼ê¸°ì ìœ¼ë¡œ í†µí•© ì§‘ê³„
- ì •ë¦¬ ì „ëžµ: ìˆœìœ„ê¶Œ ì™¸ ë°ì´í„°ëŠ” ì£¼ê¸°ì  ì‚­ì œ

**ì˜ˆì‹œ ë‹µë³€**
> "ìˆ˜ë°±ë§Œ ìœ ì €ì˜ ê¸€ë¡œë²Œ ë¦¬ë”ë³´ë“œëŠ” ë‹¨ì¼ Sorted Setìœ¼ë¡œëŠ” í•œê³„ê°€ ìžˆìŠµë‹ˆë‹¤. ë¨¼ì € ì§€ì—­ë³„ë¡œ ìƒ¤ë”©í•˜ì—¬ 'leaderboard:asia', 'leaderboard:eu'ë¡œ ë¶„í• í•˜ê³ , ìƒìœ„ê¶Œì€ 'leaderboard:global:top1000'ìœ¼ë¡œ ë³„ë„ ê´€ë¦¬í•©ë‹ˆë‹¤. ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ëŠ” ë¡œì»¬ ë¦¬ë”ë³´ë“œì—ë§Œ í•˜ê³ , ê¸€ë¡œë²Œì€ 1ë¶„ë§ˆë‹¤ ë°°ì¹˜ë¡œ í†µí•©í•©ë‹ˆë‹¤. ë˜í•œ ìˆœìœ„ê¶Œ ì™¸(ì˜ˆ: 100ë§Œë“± ì´í•˜)ëŠ” 7ì¼ í›„ ìžë™ ì‚­ì œí•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```python
# ì§€ì—­ë³„ ë¦¬ë”ë³´ë“œ
redis.zadd("leaderboard:asia", {player_id: score})

# ê¸€ë¡œë²Œ TOP 1000 ì—…ë°ì´íŠ¸ (ë°°ì¹˜)
def sync_global_top1000():
    for region in ["asia", "eu", "us"]:
        top100 = redis.zrevrange(f"leaderboard:{region}", 0, 99, withscores=True)
        for player, score in top100:
            redis.zadd("leaderboard:global:top1000", {player: score})
    # ìƒìœ„ 1000ëª…ë§Œ ìœ ì§€
    redis.zremrangebyrank("leaderboard:global:top1000", 0, -1001)
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ìƒ¤ë”© ì‹œ ê¸€ë¡œë²Œ ìˆœìœ„ëŠ” ì–´ë–»ê²Œ ê³„ì‚°í•˜ë‚˜ìš”?
- A: ì£¼ê¸°ì ìœ¼ë¡œ ZUNIONSTOREë¡œ í†µí•©í•˜ê±°ë‚˜, ê° ìƒ¤ë“œì˜ TOP Nì„ ë³‘í•©

**ì‹¤ë¬´ ì—°ê´€**
- ê¸€ë¡œë²Œ ê²Œìž„ ë¦¬ë”ë³´ë“œ (ìˆ˜ë°±ë§Œ~ìˆ˜ì²œë§Œ ìœ ì €)
- ì§€ì—­ë³„ + ì „ì²´ ìˆœìœ„ ë™ì‹œ ì œê³µ í•„ìš”í•œ ì„œë¹„ìŠ¤

</details>

<details>
<summary><strong>2. ì‹œê°„ ê¸°ë°˜ íŠ¸ë Œë”© ì•Œê³ ë¦¬ì¦˜ì„ Sorted Setìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ì ìˆ˜ = ê¸°ë³¸ ì ìˆ˜ * ì‹œê°„ ê°ì‡  í•¨ìˆ˜
- ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ì ìˆ˜ ìžë™ ê°ì†Œ êµ¬í˜„
- ì£¼ê¸°ì ìœ¼ë¡œ ì ìˆ˜ ìž¬ê³„ì‚° (ë°°ì¹˜ ìž‘ì—…)
- ì¼ì • ì ìˆ˜ ì´í•˜ëŠ” ìžë™ ì œê±°
- ì˜ˆì‹œ: Redditì˜ Hot ì•Œê³ ë¦¬ì¦˜, Hacker News ì•Œê³ ë¦¬ì¦˜

**ì˜ˆì‹œ ë‹µë³€**
> "ì‹œê°„ ê¸°ë°˜ íŠ¸ë Œë”©ì€ ìµœì‹ ì„±ê³¼ ì¸ê¸°ë„ë¥¼ ëª¨ë‘ ë°˜ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì ìˆ˜ë¥¼ ê³„ì‚°í•  ë•Œ ê¸°ë³¸ ì¸ê¸°ë„(ì¡°íšŒìˆ˜, ì¢‹ì•„ìš” ë“±)ì— ì‹œê°„ ê°€ì¤‘ì¹˜ë¥¼ ê³±í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 1ì‹œê°„ë§ˆë‹¤ 5% ê°ì†Œí•˜ëŠ” ê³µì‹ì„ ì ìš©í•˜ë©´, 24ì‹œê°„ í›„ì—ëŠ” ì•½ 30%ë§Œ ë‚¨ìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ 1ì‹œê°„ë§ˆë‹¤ ë°°ì¹˜ ìž‘ì—…ìœ¼ë¡œ ëª¨ë“  í•­ëª©ì˜ ì ìˆ˜ë¥¼ ìž¬ê³„ì‚°í•˜ê³ , ì ìˆ˜ 1 ì´í•˜ëŠ” ìžë™ ì‚­ì œí•©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```python
import time
import math

def calculate_trending_score(base_score, created_timestamp):
    """
    score = base_score * (0.95 ^ hours_passed)
    """
    current_time = time.time()
    hours_passed = (current_time - created_timestamp) / 3600
    time_decay = math.pow(0.95, hours_passed)
    return base_score * time_decay

def update_trending_scores():
    """1ì‹œê°„ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ë°°ì¹˜ ìž‘ì—…"""
    # ëª¨ë“  í•­ëª© ì¡°íšŒ
    all_items = redis.zrange("trending", 0, -1, withscores=True)

    for item_id, current_score in all_items:
        # ìƒì„± ì‹œê°„ ì¡°íšŒ (ë³„ë„ ì €ìž¥)
        created_at = redis.hget(f"item:{item_id}", "created_at")
        base_score = redis.hget(f"item:{item_id}", "base_score")

        # ìƒˆ íŠ¸ë Œë”© ì ìˆ˜ ê³„ì‚°
        new_score = calculate_trending_score(float(base_score), float(created_at))

        # ì—…ë°ì´íŠ¸
        redis.zadd("trending", {item_id: new_score})

    # ì ìˆ˜ 1 ì´í•˜ í•­ëª© ì œê±°
    redis.zremrangebyscore("trending", 0, 1)
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ì™€ ë°°ì¹˜ ì—…ë°ì´íŠ¸ë¥¼ ì–´ë–»ê²Œ ì¡°í•©í•˜ë‚˜ìš”?
- A: ì‹¤ì‹œê°„ì€ base_score ì¦ê°€, ë°°ì¹˜ëŠ” ì‹œê°„ ê°ì‡  ì ìš©

**ì‹¤ë¬´ ì—°ê´€**
- Reddit, Hacker News ê°™ì€ íŠ¸ë Œë”© ì‹œìŠ¤í…œ
- ì‹¤ì‹œê°„ ê²€ìƒ‰ì–´, ì¸ê¸° ê¸‰ìƒìŠ¹ ì½˜í…ì¸ 

</details>

<details>
<summary><strong>3. Sorted Setì„ í™œìš©í•œ Rate Limiting (ì†ë„ ì œí•œ) êµ¬í˜„ ë°©ë²•ì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Sliding Window ë°©ì‹ìœ¼ë¡œ ì‹œê°„ ê¸°ë°˜ ì œí•œ
- Scoreë¥¼ timestampë¡œ ì‚¬ìš©
- ZREMRANGEBYSCOREë¡œ ì˜¤ëž˜ëœ ìš”ì²­ ì œê±°
- ZCARDë¡œ í˜„ìž¬ ìš”ì²­ ìˆ˜ í™•ì¸
- TTL ì„¤ì •ìœ¼ë¡œ ë©”ëª¨ë¦¬ ìžë™ ê´€ë¦¬

**ì˜ˆì‹œ ë‹µë³€**
> "Sorted Setìœ¼ë¡œ Sliding Window Rate Limitingì„ êµ¬í˜„í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìžë³„ ìš”ì²­ì„ ì €ìž¥í•˜ë˜, scoreë¥¼ ìš”ì²­ ì‹œê°„(timestamp)ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ìƒˆ ìš”ì²­ì´ ì˜¤ë©´ ë¨¼ì € 1ë¶„ ì „ ìš”ì²­ë“¤ì„ ì‚­ì œí•˜ê³ , ë‚¨ì€ ìš”ì²­ ìˆ˜ë¥¼ ì„¸ì–´ì„œ ì œí•œì„ ì´ˆê³¼í•˜ë©´ ê±°ë¶€í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë¶„ë‹¹ 100íšŒ ì œí•œì´ë©´, í˜„ìž¬ ì‹œê°„ - 60ì´ˆ ë²”ìœ„ì˜ ìš”ì²­ì´ 100ê°œ ë¯¸ë§Œì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```python
import time

def is_rate_limit_exceeded(user_id, max_requests=100, window_seconds=60):
    """
    Sliding Window Rate Limiting
    ë¶„ë‹¹ max_requests ì œí•œ
    """
    current_time = time.time()
    key = f"rate_limit:{user_id}"

    # 1. ì˜¤ëž˜ëœ ìš”ì²­ ì œê±° (window ë°–)
    redis.zremrangebyscore(key, 0, current_time - window_seconds)

    # 2. í˜„ìž¬ ìš”ì²­ ìˆ˜ í™•ì¸
    current_count = redis.zcard(key)

    if current_count >= max_requests:
        return True  # ì œí•œ ì´ˆê³¼

    # 3. í˜„ìž¬ ìš”ì²­ ì¶”ê°€
    redis.zadd(key, {f"req:{current_time}": current_time})

    # 4. TTL ì„¤ì • (ë©”ëª¨ë¦¬ ì ˆì•½)
    redis.expire(key, window_seconds + 10)

    return False  # í—ˆìš©

# ì‚¬ìš© ì˜ˆì‹œ
if is_rate_limit_exceeded("user123"):
    return "Too many requests. Please try again later."
else:
    # ì •ìƒ ì²˜ë¦¬
    return process_request()
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Fixed Window ë°©ì‹ê³¼ Sliding Window ë°©ì‹ì˜ ì°¨ì´ëŠ”?
- A: FixedëŠ” ì •ê° ê¸°ì¤€, Slidingì€ í˜„ìž¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ ë” ì •í™•

**ì‹¤ë¬´ ì—°ê´€**
- API ì†ë„ ì œí•œ (ë¶„ë‹¹ 100íšŒ, ì‹œê°„ë‹¹ 1000íšŒ ë“±)
- DDoS ë°©ì–´, ìŠ¤íŒ¸ ë°©ì§€

</details>

<details>
<summary><strong>4. ZUNIONSTOREì™€ ZINTERSTOREë¥¼ í™œìš©í•œ ë³µí•© ëž­í‚¹ ì‹œìŠ¤í…œì€?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- ZUNIONSTORE: ì—¬ëŸ¬ Sorted Set í•©ì¹˜ê¸° (ì ìˆ˜ í•©ì‚°)
- ZINTERSTORE: ê³µí†µ ë©¤ë²„ë§Œ ì¶”ì¶œ (êµì§‘í•©)
- WEIGHTS ì˜µì…˜ìœ¼ë¡œ ê° Setì— ê°€ì¤‘ì¹˜ ë¶€ì—¬
- AGGREGATE ì˜µì…˜ìœ¼ë¡œ ì ìˆ˜ í•©ì‚° ë°©ì‹ ì„ íƒ (SUM, MIN, MAX)
- ì¹´í…Œê³ ë¦¬ë³„ ìˆœìœ„ë¥¼ í†µí•©í•œ ì¢…í•© ìˆœìœ„ ê³„ì‚°ì— í™œìš©

**ì˜ˆì‹œ ë‹µë³€**
> "ZUNIONSTOREì™€ ZINTERSTOREë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê¸°ì¤€ì˜ ì ìˆ˜ë¥¼ í†µí•©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê²Œìž„ì—ì„œ 'ì „íˆ¬ ì ìˆ˜', 'ë ˆë²¨ ì ìˆ˜', 'ì—…ì  ì ìˆ˜'ë¥¼ ê°ê° ë³„ë„ Sorted Setìœ¼ë¡œ ê´€ë¦¬í•˜ë‹¤ê°€, ZUNIONSTOREë¡œ í•©ì³ì„œ ì¢…í•© ìˆœìœ„ë¥¼ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. WEIGHTS ì˜µì…˜ìœ¼ë¡œ ì „íˆ¬:ë ˆë²¨:ì—…ì ì„ 5:3:2 ë¹„ìœ¨ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ì£¼ë©´ ë” ì •êµí•œ ëž­í‚¹ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```bash
# ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜
ZADD combat_score 100 "player1" 150 "player2" 200 "player3"
ZADD level_score 50 "player1" 60 "player2" 70 "player3"
ZADD achievement_score 30 "player1" 25 "player2" 40 "player3"

# ì¢…í•© ì ìˆ˜ = ì „íˆ¬*5 + ë ˆë²¨*3 + ì—…ì *2
ZUNIONSTORE total_ranking 3 combat_score level_score achievement_score WEIGHTS 5 3 2

# ê²°ê³¼ í™•ì¸
ZREVRANGE total_ranking 0 -1 WITHSCORES
# player1: 100*5 + 50*3 + 30*2 = 710
# player2: 150*5 + 60*3 + 25*2 = 980
# player3: 200*5 + 70*3 + 40*2 = 1290

# ì§€ì—­ë³„ ë¦¬ë”ë³´ë“œ í†µí•© (ê¸€ë¡œë²Œ ìˆœìœ„)
ZUNIONSTORE global_leaderboard 3 leaderboard:asia leaderboard:eu leaderboard:us

# ê³µí†µ ìƒìœ„ê¶Œ (ì—¬ëŸ¬ ì¹´í…Œê³ ë¦¬ì—ì„œ ëª¨ë‘ ìƒìœ„ê¶Œ)
ZINTERSTORE top_all_categories 3 ranking:category1 ranking:category2 ranking:category3
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: AGGREGATE MINê³¼ MAXëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?
- A: MINì€ ìµœì € ì ìˆ˜ ê¸°ì¤€, MAXëŠ” ìµœê³  ì ìˆ˜ ê¸°ì¤€ í•„í„°ë§ì— ì‚¬ìš©

**ì‹¤ë¬´ ì—°ê´€**
- ì¢…í•© ëž­í‚¹ ì‹œìŠ¤í…œ (ì—¬ëŸ¬ ì§€í‘œ í†µí•©)
- ì§€ì—­ë³„ ë¦¬ë”ë³´ë“œ â†’ ê¸€ë¡œë²Œ ë¦¬ë”ë³´ë“œ í†µí•©
- ë©€í‹° ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ê²°ê³¼ í†µí•©

</details>

<details>
<summary><strong>5. Sorted Setì˜ ë‚´ë¶€ êµ¬ì¡° (Skip List)ì™€ ì„±ëŠ¥ ìµœì í™”ëŠ”?</strong></summary>

**ëª¨ë²” ë‹µì•ˆ í¬ì¸íŠ¸**
- Skip List: ë‹¤ì¸µ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¡œ O(log N) ê²€ìƒ‰ ë³´ìž¥
- Hash Table: O(1) ë©¤ë²„ ì¡´ìž¬ í™•ì¸
- ziplist: ìž‘ì€ Setì—ì„œ ë©”ëª¨ë¦¬ ì ˆì•½
- ì„¤ì • ì¡°ì •: zset-max-ziplist-entries, zset-max-ziplist-value
- ì„±ëŠ¥ ìµœì í™”: íŽ˜ì´ì§•, ë°°ì¹˜ ì²˜ë¦¬, ìƒ¤ë”©

**ì˜ˆì‹œ ë‹µë³€**
> "Sorted Setì€ ë‚´ë¶€ì ìœ¼ë¡œ Skip Listì™€ Hash Tableì„ í•¨ê»˜ ì‚¬ìš©í•©ë‹ˆë‹¤. Skip ListëŠ” ì—¬ëŸ¬ ì¸µì˜ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¡œ, ìƒìœ„ ì¸µì—ì„œ í° í­ìœ¼ë¡œ ê±´ë„ˆë›°ë©´ì„œ ê²€ìƒ‰í•˜ì—¬ O(log N) ì„±ëŠ¥ì„ ë³´ìž¥í•©ë‹ˆë‹¤. Hash Tableì€ ë©¤ë²„ì˜ ì¡´ìž¬ ì—¬ë¶€ì™€ ì ìˆ˜ë¥¼ O(1)ì— ì¡°íšŒí•©ë‹ˆë‹¤. ìž‘ì€ Set(128ê°œ ì´í•˜)ì€ ziplistë¡œ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ê³ , í° Setì€ Skip Listë¡œ ê²€ìƒ‰ ì†ë„ë¥¼ ìµœì í™”í•©ë‹ˆë‹¤. ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ì„œëŠ” LIMITìœ¼ë¡œ ê²°ê³¼ë¥¼ ì œí•œí•˜ê³ , ë¶ˆí•„ìš”í•œ ë°ì´í„°ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤."

**ì‹¤ë¬´ ì˜ˆì‹œ**
```bash
# Skip List ë™ìž‘ ì›ë¦¬ (ê°œë…)
# Level 3: 1 -----------------> 9
# Level 2: 1 ------> 5 ------> 9
# Level 1: 1 -> 3 -> 5 -> 7 -> 9
# 9ë¥¼ ì°¾ì„ ë•Œ: Level 3ì—ì„œ ë°”ë¡œ ë„ë‹¬ (O(log N))

# ì„¤ì • ì¡°ì • (redis.conf)
# 128ê°œê¹Œì§€ ziplist ì‚¬ìš© (ê¸°ë³¸ê°’)
zset-max-ziplist-entries 128
# 64ë°”ì´íŠ¸ê¹Œì§€ ziplist ì‚¬ìš© (ê¸°ë³¸ê°’)
zset-max-ziplist-value 64

# ì„±ëŠ¥ ìµœì í™” ì˜ˆì‹œ

# âŒ ë‚˜ìœ ì˜ˆ: ì „ì²´ ì¡°íšŒ
ZRANGE huge_leaderboard 0 -1  # 100ë§Œ ê°œ ëª¨ë‘ ì¡°íšŒ (ëŠë¦¼)

# âœ… ì¢‹ì€ ì˜ˆ: íŽ˜ì´ì§•
ZRANGE huge_leaderboard 0 99  # ìƒìœ„ 100ê°œë§Œ (ë¹ ë¦„)

# âŒ ë‚˜ìœ ì˜ˆ: ë°˜ë³µ ì¡°íšŒ
for player in players:
    rank = ZREVRANK leaderboard player  # Në²ˆ ì™•ë³µ

# âœ… ì¢‹ì€ ì˜ˆ: ë°°ì¹˜ ì²˜ë¦¬ (Lua ìŠ¤í¬ë¦½íŠ¸)
# í•œ ë²ˆì— ì—¬ëŸ¬ í”Œë ˆì´ì–´ ìˆœìœ„ ì¡°íšŒ
```

**ê¼¬ë¦¬ ì§ˆë¬¸**
- Q: Skip List vs B-Treeì˜ ìž¥ë‹¨ì ì€?
- A: Skip ListëŠ” êµ¬í˜„ì´ ê°„ë‹¨í•˜ê³  ë™ì‹œì„± ì œì–´ê°€ ì‰¬ì›€, B-TreeëŠ” ìºì‹œ íš¨ìœ¨ì„±ì´ ì¢‹ìŒ

**ì‹¤ë¬´ ì—°ê´€**
- ëŒ€ìš©ëŸ‰ ì‹œìŠ¤í…œ ì„¤ê³„ ì‹œ ë‚´ë¶€ êµ¬ì¡° ì´í•´ í•„ìˆ˜
- ì„±ëŠ¥ íŠœë‹ê³¼ ìµœì í™” ë°©í–¥ ê²°ì •

</details>

---

## ðŸš€ 8. ë‹¤ìŒ ë‹¨ê³„ ì˜ˆê³ 

ì´ì œ Redisì˜ 5ê°€ì§€ ì£¼ìš” ë°ì´í„° íƒ€ìž…ì„ ëª¨ë‘ ë§ˆìŠ¤í„°í–ˆìŠµë‹ˆë‹¤! ë‹¤ìŒ ìž¥ë¶€í„°ëŠ” **Redis ê³ ê¸‰ ê¸°ëŠ¥**ì„ í•™ìŠµí•©ë‹ˆë‹¤.

### ë‹¤ìŒ ìž¥ ë¯¸ë¦¬ë³´ê¸°: Redis ê³ ê¸‰ ëª…ë ¹ì–´ì™€ ê¸°ëŠ¥
- **íŒŒì´í”„ë¼ì´ë‹**: ì—¬ëŸ¬ ëª…ë ¹ì–´ ì¼ê´„ ì²˜ë¦¬ë¡œ ì„±ëŠ¥ í–¥ìƒ
- **íŠ¸ëžœìž­ì…˜**: MULTI, EXECë¡œ ì›ìžì„± ë³´ìž¥
- **Lua ìŠ¤í¬ë¦½íŠ¸**: ë³µìž¡í•œ ë¡œì§ì„ ì„œë²„ì—ì„œ ì‹¤í–‰
- **ë°œí–‰/êµ¬ë…**: ì‹¤ì‹œê°„ ë©”ì‹œì§• ì‹œìŠ¤í…œ êµ¬í˜„
- **ë¹„íŠ¸ë§µ ì—°ì‚°**: íš¨ìœ¨ì ì¸ ë¹„íŠ¸ ë ˆë²¨ ë°ì´í„° ì²˜ë¦¬

### ì¤€ë¹„í•˜ë©´ ì¢‹ì„ ê²ƒë“¤
```bash
# ë‹¤ìŒ ìž¥ì„ ìœ„í•œ í™˜ê²½ ì •ë¦¬
127.0.0.1:6379> SELECT 5
OK

127.0.0.1:6379[5]> FLUSHDB
OK

127.0.0.1:6379[5]> SELECT 0
OK
```

---

## ðŸŽ‰ ì¶•í•˜í•©ë‹ˆë‹¤!

Redis Sorted Set íƒ€ìž…ê³¼ ëª¨ë“  ì£¼ìš” ë°ì´í„° íƒ€ìž…ì„ ì™„ì „ížˆ ë§ˆìŠ¤í„°í–ˆìŠµë‹ˆë‹¤!

**ì´ì œ ì—¬ëŸ¬ë¶„ì€**:
âœ… **Sorted Set ê¸°ë³¸ ê°œë…**ì„ ì™„ë²½ížˆ ì´í•´í•˜ê³  ì„¤ëª…í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤
âœ… **ì‹¤ì‹œê°„ ë¦¬ë”ë³´ë“œ**ë¥¼ O(log N) ì„±ëŠ¥ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤
âœ… **íŠ¸ë Œë”© ì•Œê³ ë¦¬ì¦˜**ì„ ì‹œê°„ ê°€ì¤‘ì¹˜ì™€ í•¨ê»˜ êµ¬í˜„í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤
âœ… **ë³µí•© ëž­í‚¹ ì‹œìŠ¤í…œ**ì„ ZUNIONSTOREë¡œ ì„¤ê³„í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤
âœ… **ëŒ€ìš©ëŸ‰ ê¸€ë¡œë²Œ ë¦¬ë”ë³´ë“œ**ë¥¼ ìƒ¤ë”©ê³¼ ìºì‹±ìœ¼ë¡œ ìµœì í™”í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤
âœ… **Rate Limiting**ì„ Sliding Window ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤
âœ… **ë©´ì ‘ì—ì„œ Sorted Set ì§ˆë¬¸**ì— ìžì‹  ìžˆê²Œ ë‹µë³€í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤

**í˜„ìž¬ ì—¬ëŸ¬ë¶„ì˜ ì¢…í•© ëŠ¥ë ¥**:
âœ… **String**: ê¸°ë³¸ ë°ì´í„°ì™€ ì¹´ìš´í„° ì™„ë²½ í™œìš©
âœ… **List**: í, ìŠ¤íƒ, ì‹œê³„ì—´ ë°ì´í„° ìžìœ ìžìž¬ êµ¬í˜„
âœ… **Set**: ì§‘í•© ì—°ì‚°ê³¼ íƒœê·¸ ì‹œìŠ¤í…œ ì™„ì „ ì •ë³µ
âœ… **Hash**: êµ¬ì¡°í™”ëœ ë°ì´í„°ì™€ ê°ì²´ ëª¨ë¸ë§ ë§ˆìŠ¤í„°
âœ… **Sorted Set**: ëž­í‚¹ê³¼ ìˆœìœ„ ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„
âœ… **ì‹¤ì „ í”„ë¡œì íŠ¸**: ê²Œìž„, ì „ìžìƒê±°ëž˜, ì†Œì…œë¯¸ë””ì–´ ì‹œìŠ¤í…œ ì„¤ê³„

### ðŸ“‹ í•™ìŠµ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ê¸°ë³¸ ê°œë… (í•„ìˆ˜)
- [ ] Sorted Setì˜ ì •ì˜ì™€ íŠ¹ì§• 5ê°€ì§€ ì„¤ëª… ê°€ëŠ¥
- [ ] ZADD, ZREM, ZINCRBY ëª…ë ¹ì–´ ìžìœ ìžìž¬ ì‚¬ìš©
- [ ] ZRANKì™€ ZREVRANK ì°¨ì´ì  ì„¤ëª… ê°€ëŠ¥
- [ ] ZRANGEì™€ ZRANGEBYSCORE ì ì ˆížˆ ì„ íƒ ê°€ëŠ¥
- [ ] WITHSCORES ì˜µì…˜ì˜ ì¤‘ìš”ì„± ì´í•´

#### ì‹¤ë¬´ í™œìš© (í•„ìˆ˜)
- [ ] ê²Œìž„ ë¦¬ë”ë³´ë“œ ì‹œìŠ¤í…œ êµ¬í˜„ ê°€ëŠ¥
- [ ] ì¸ê¸° ì½˜í…ì¸  ìˆœìœ„ ì‹œìŠ¤í…œ ì„¤ê³„ ê°€ëŠ¥
- [ ] ì‹œê°„ ê¸°ë°˜ íŠ¸ë Œë”© ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ ê°€ëŠ¥
- [ ] ZINCRBYë¡œ ì›ìžì  ì ìˆ˜ ì—…ë°ì´íŠ¸ êµ¬í˜„
- [ ] GET-SET íŒ¨í„´ì˜ ë¬¸ì œì  ì„¤ëª… ê°€ëŠ¥

#### ì„±ëŠ¥ ìµœì í™” (ê¶Œìž¥)
- [ ] O(log N) ì‹œê°„ ë³µìž¡ë„ ì´í•´
- [ ] LIMITìœ¼ë¡œ íŽ˜ì´ì§• êµ¬í˜„ ê°€ëŠ¥
- [ ] ëŒ€ìš©ëŸ‰ ë¦¬ë”ë³´ë“œ ìƒ¤ë”© ì„¤ê³„ ê°€ëŠ¥
- [ ] ë¶ˆí•„ìš”í•œ ë°ì´í„° ì •ë¦¬ ì „ëžµ ìˆ˜ë¦½ ê°€ëŠ¥
- [ ] ziplistì™€ skiplist ì¸ì½”ë”© ì°¨ì´ ì„¤ëª… ê°€ëŠ¥

#### ê³ ê¸‰ ê¸°ëŠ¥ (ì„ íƒ)
- [ ] ZUNIONSTOREë¡œ ë³µí•© ëž­í‚¹ êµ¬í˜„ ê°€ëŠ¥
- [ ] Rate Limitingì„ Sorted Setìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥
- [ ] ì‹œê°„ ê°ì‡  í•¨ìˆ˜ ì„¤ê³„ ê°€ëŠ¥
- [ ] Skip List ë‚´ë¶€ êµ¬ì¡° ì´í•´
- [ ] ê¸€ë¡œë²Œ ë¦¬ë”ë³´ë“œ ì•„í‚¤í…ì²˜ ì„¤ê³„ ê°€ëŠ¥

#### ë©´ì ‘ ì¤€ë¹„
- [ ] ì£¼ë‹ˆì–´ ì§ˆë¬¸ 7ê°œ ëª¨ë‘ ë‹µë³€ ê°€ëŠ¥
- [ ] ì¤‘ê¸‰ ì§ˆë¬¸ 3ê°œ ì´ìƒ ë‹µë³€ ê°€ëŠ¥
- [ ] ì‹¤ë¬´ ì‚¬ë¡€ 3ê°€ì§€ ì´ìƒ ì„¤ëª… ê°€ëŠ¥
- [ ] ì„±ëŠ¥ ìµœì í™” ì „ëžµ ì„¤ëª… ê°€ëŠ¥
- [ ] ì£¼ë‹ˆì–´ ì‹œë‚˜ë¦¬ì˜¤ 4ê°€ì§€ ì´í•´

### ðŸŽ¯ ë‹¤ìŒ ë‹¨ê³„

**ë³µìŠµ ê¶Œìž¥**:
- [ ] ì‹¤ì „ í”„ë¡œì íŠ¸ 3ê°€ì§€ ì§ì ‘ êµ¬í˜„
- [ ] ì£¼ë‹ˆì–´ ì‹œë‚˜ë¦¬ì˜¤ ì½”ë“œ ì§ì ‘ ìž‘ì„±
- [ ] FAQ 7ê°œ ë‹µë³€ ì™¸ìš°ê¸°
- [ ] ë©´ì ‘ ì§ˆë¬¸ ë‹µë³€ ì—°ìŠµ

**ë‹¤ìŒ í•™ìŠµ**:
- [ ] ë‹¤ìŒ ìž¥: Redis ê³ ê¸‰ ëª…ë ¹ì–´ì™€ ê¸°ëŠ¥
- [ ] íŒŒì´í”„ë¼ì´ë‹, íŠ¸ëžœìž­ì…˜, Lua ìŠ¤í¬ë¦½íŠ¸ í•™ìŠµ
- [ ] ë°œí–‰/êµ¬ë…, ë¹„íŠ¸ë§µ ì—°ì‚° í•™ìŠµ
- [ ] Redis ì‹¤ì „ í”„ë¡œì íŠ¸ êµ¬í˜„

ì´ì œ Redis ë°ì´í„° ëª¨ë¸ë§ì˜ ì „ë¬¸ê°€ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ì—ì„œëŠ” ì´ ëª¨ë“  ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ Redisì˜ ê³ ê¸‰ ê¸°ëŠ¥ë“¤ì„ í•™ìŠµí•˜ì—¬ ë”ìš± ê°•ë ¥í•˜ê³  íš¨ìœ¨ì ì¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìžˆëŠ” ëŠ¥ë ¥ì„ í‚¤ì›Œë³´ê² ìŠµë‹ˆë‹¤! ðŸš€

---

**ë‹¤ìŒ ìž¥ìœ¼ë¡œ ì´ë™**: [9. Redis ê³ ê¸‰ ëª…ë ¹ì–´ì™€ ê¸°ëŠ¥](./09-Redis-ê³ ê¸‰-ëª…ë ¹ì–´ì™€-ê¸°ëŠ¥.md)

**ì´ì „ ìž¥ìœ¼ë¡œ ëŒì•„ê°€ê¸°**: [7. Hash íƒ€ìž… ì™„ì „ ê°€ì´ë“œ](./07-Hash-íƒ€ìž…-ì™„ì „-ê°€ì´ë“œ.md)

**ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°**: [Redis ì™„ì „ í•™ìŠµ ê°€ì´ë“œ](./redis%20ê°€ì´ë“œ.md)