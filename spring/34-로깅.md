# 34ì¥: ë¡œê¹… - ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¸”ë™ë°•ìŠ¤

> **"ë¡œê·¸ëŠ” ê³¼ê±°ë¥¼ ë§í•´ì£¼ê³ , ë¯¸ë˜ë¥¼ ì˜ˆì¸¡í•˜ê²Œ í•©ë‹ˆë‹¤"**

---

## ğŸ“‹ í•™ìŠµ ëª©í‘œ

ì´ ì¥ì„ í•™ìŠµí•˜ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- ë¡œê¹…ì˜ ì¤‘ìš”ì„±ê³¼ ë ˆë²¨ ì²´ê³„ë¥¼ ì´í•´í•©ë‹ˆë‹¤
- SLF4Jì™€ Logbackì„ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•©ë‹ˆë‹¤
- í™˜ê²½ë³„ë¡œ ë‹¤ë¥¸ ë¡œê¹… ì „ëµì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- êµ¬ì¡°í™”ëœ ë¡œê·¸(Structured Logging)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
- ELK Stackê³¼ ì—°ë™í•˜ì—¬ ë¡œê·¸ë¥¼ ì¤‘ì•™í™”í•©ë‹ˆë‹¤

**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 3-4ì‹œê°„
**ë‚œì´ë„**: â­â­â­ (ì¤‘ê¸‰)

---

## ğŸ¤” ì™œ ë¡œê¹…ì´ í•„ìš”í•œê°€?

### ë¬¸ì œ ìƒí™©: System.out.printlnì˜ í•œê³„

#### ë¬¸ì œ 1: ì •ë³´ ë¶€ì¡±

```java
// âŒ ë‚˜ìœ ì˜ˆ
System.out.println("ì‚¬ìš©ì ë¡œê·¸ì¸");
System.out.println("ì£¼ë¬¸ ìƒì„±");

// ëˆ„ê°€? ì–¸ì œ? ì–´ë””ì„œ? ì™œ?
// ì•„ë¬´ ì •ë³´ë„ ì—†ìŒ
```

#### ë¬¸ì œ 2: ìš´ì˜ í™˜ê²½ì—ì„œ í™•ì¸ ë¶ˆê°€

```java
// ê°œë°œ í™˜ê²½
System.out.println("ë””ë²„ê·¸: " + data);
// â†’ ì½˜ì†”ì— ì¶œë ¥ë¨

// ìš´ì˜ í™˜ê²½
System.out.println("ë””ë²„ê·¸: " + data);
// â†’ ì–´ë””ë¡œ ê°”ëŠ”ì§€ ëª¨ë¦„
// â†’ íŒŒì¼ì— ì €ì¥ ì•ˆ ë¨
```

#### ë¬¸ì œ 3: ì„±ëŠ¥ ì €í•˜

```java
// í•­ìƒ ì‹¤í–‰ë¨
System.out.println("ë””ë²„ê·¸: " + expensiveOperation());
// â†’ ë””ë²„ê·¸ê°€ í•„ìš” ì—†ì–´ë„ ì‹¤í–‰
// â†’ ì„±ëŠ¥ ë‚­ë¹„
```

### ë¡œê¹…ì˜ í•´ê²°ì±…

```java
// âœ… ì¢‹ì€ ì˜ˆ
@Slf4j
@Service
public class UserService {

    public User login(String username, String password) {
        log.info("Login attempt - username: {}", username);

        try {
            User user = authenticate(username, password);
            log.info("Login successful - userId: {}, username: {}",
                user.getId(), user.getUsername());
            return user;

        } catch (AuthenticationException e) {
            log.warn("Login failed - username: {}, reason: {}",
                username, e.getMessage());
            throw e;
        }
    }
}
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
2025-01-15 10:30:00.123 INFO  [http-nio-8080-exec-1] c.e.UserService : Login attempt - username: hong
2025-01-15 10:30:00.456 INFO  [http-nio-8080-exec-1] c.e.UserService : Login successful - userId: 123, username: hong
```

---

## ğŸŒ ì‹¤ìƒí™œ ë¹„ìœ ë¡œ ì´í•´í•˜ëŠ” ë¡œê¹…

### ë¹„ìœ  1: í•­ê³µê¸° ë¸”ë™ë°•ìŠ¤

**ë¡œê·¸ ì—†ëŠ” ì‹œìŠ¤í…œ:**
```
ë¹„í–‰ê¸° ì¶”ë½
â†’ ì›ì¸ì„ ì•Œ ìˆ˜ ì—†ìŒ
â†’ ì¬ë°œ ë°©ì§€ ë¶ˆê°€ëŠ¥
```

**ë¡œê·¸ ìˆëŠ” ì‹œìŠ¤í…œ (ë¸”ë™ë°•ìŠ¤):**
```
[10:00:00] ì´ë¥™
[10:15:00] ê³ ë„ 10,000ft
[10:30:00] ì—”ì§„ ê²½ê³ 
[10:31:00] ì—”ì§„ ì¶œë ¥ ê°ì†Œ
[10:32:00] ë¹„ìƒ ì°©ë¥™ ì‹œë„
â†’ ì •í™•í•œ ì›ì¸ íŒŒì•… ê°€ëŠ¥
```

### ë¹„ìœ  2: ì˜ë£Œ ì°¨íŠ¸

**System.out.println:**
```
í™˜ìê°€ ì•„í”„ë‹¤ê³  í•¨
â†’ ì–¸ì œë¶€í„°? ì–´ë””ê°€? ì–¼ë§ˆë‚˜?
â†’ ì •ë³´ ë¶€ì¡±
```

**ë¡œê¹… (ì˜ë£Œ ì°¨íŠ¸):**
```
[2025-01-15 09:00] ì²´ì˜¨: 38.5Â°C, ë‘í†µ í˜¸ì†Œ
[2025-01-15 12:00] ì²´ì˜¨: 39.0Â°C, ì¦ìƒ ì•…í™”
[2025-01-15 15:00] í•´ì—´ì œ íˆ¬ì—¬
[2025-01-15 18:00] ì²´ì˜¨: 37.2Â°C, ì¦ìƒ í˜¸ì „
â†’ ì •í™•í•œ ì§„ë£Œ ê¸°ë¡
```

### ë¹„ìœ  3: CCTV

**ë¡œê·¸ ì—†ìŒ:**
```
ë„ë‚œ ì‚¬ê±´ ë°œìƒ
â†’ ëˆ„ê°€? ì–¸ì œ? ì–´ë–»ê²Œ?
â†’ ìˆ˜ì‚¬ ë¶ˆê°€ëŠ¥
```

**ë¡œê·¸ (CCTV):**
```
[23:45] ì •ë¬¸ ì—´ë¦¼ ê°ì§€
[23:46] 1ì¸µ ë³µë„ ì´ë™ ê°ì§€
[23:47] ê¸ˆê³ ì‹¤ ì¶œì… ê°ì§€
[23:50] ë¹„ìƒêµ¬ í†µê³¼
â†’ ë²”ì¸ ë™ì„  íŒŒì•…
```

---

## ğŸ’¡ ë¡œê¹… í•µì‹¬ ê°œë…

### 1ï¸âƒ£ ì´ˆê¸‰: ë¡œê·¸ ë ˆë²¨

```
TRACE (ê°€ì¥ ìƒì„¸)
  â†“
DEBUG (ë””ë²„ê·¸ ì •ë³´)
  â†“
INFO  (ì¼ë°˜ ì •ë³´)
  â†“
WARN  (ê²½ê³ )
  â†“
ERROR (ì—ëŸ¬)
  â†“
FATAL (ì¹˜ëª…ì )
```

#### ë ˆë²¨ë³„ ì‚¬ìš© ì˜ˆì‹œ

```java
@Slf4j
@Service
public class OrderService {

    public Order createOrder(OrderRequest request) {
        // TRACE: ë§¤ìš° ìƒì„¸í•œ ì •ë³´
        log.trace("Method called: createOrder, request: {}", request);

        // DEBUG: ê°œë°œ ì‹œ í•„ìš”í•œ ì •ë³´
        log.debug("Validating order request: {}", request);

        // INFO: ì •ìƒì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ í”Œë¡œìš°
        log.info("Creating order for user: {}, amount: {}",
            request.getUserId(), request.getAmount());

        try {
            Order order = processOrder(request);

            log.info("Order created successfully: orderId={}", order.getId());
            return order;

        } catch (InsufficientStockException e) {
            // WARN: ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ˆì™¸ (ë³µêµ¬ ê°€ëŠ¥)
            log.warn("Insufficient stock for product: {}", request.getProductId());
            throw e;

        } catch (Exception e) {
            // ERROR: ì‹œìŠ¤í…œ ì—ëŸ¬ (ë³µêµ¬ ì–´ë ¤ì›€)
            log.error("Failed to create order: {}", e.getMessage(), e);
            throw e;
        }
    }
}
```

### 2ï¸âƒ£ ì¤‘ê¸‰: Logback ì„¤ì •

#### logback-spring.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>

    <!-- ë³€ìˆ˜ ì •ì˜ -->
    <property name="LOG_PATH" value="./logs"/>
    <property name="LOG_FILE_NAME" value="application"/>

    <!-- Console Appender -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>
                %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
            </pattern>
            <charset>UTF-8</charset>
        </encoder>
    </appender>

    <!-- File Appender -->
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_PATH}/${LOG_FILE_NAME}.log</file>
        <encoder>
            <pattern>
                %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
            </pattern>
        </encoder>

        <!-- ë¡¤ë§ ì •ì±… -->
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <!-- ì¼ë³„ ë¡œê·¸ íŒŒì¼ -->
            <fileNamePattern>${LOG_PATH}/${LOG_FILE_NAME}.%d{yyyy-MM-dd}.%i.log</fileNamePattern>
            <timeBasedFileNamingAndTriggeringPolicy
                class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <!-- íŒŒì¼ í¬ê¸° -->
                <maxFileSize>10MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
            <!-- ë³´ê´€ ê¸°ê°„ -->
            <maxHistory>30</maxHistory>
        </rollingPolicy>
    </appender>

    <!-- Error ì „ìš© Appender -->
    <appender name="ERROR_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_PATH}/error.log</file>
        <filter class="ch.qos.logback.classic.filter.LevelFilter">
            <level>ERROR</level>
            <onMatch>ACCEPT</onMatch>
            <onMismatch>DENY</onMismatch>
        </filter>
        <encoder>
            <pattern>
                %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
            </pattern>
        </encoder>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_PATH}/error.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>90</maxHistory>
        </rollingPolicy>
    </appender>

    <!-- í”„ë¡œíŒŒì¼ë³„ ì„¤ì • -->
    <springProfile name="dev">
        <root level="DEBUG">
            <appender-ref ref="CONSOLE"/>
            <appender-ref ref="FILE"/>
        </root>
    </springProfile>

    <springProfile name="prod">
        <root level="INFO">
            <appender-ref ref="FILE"/>
            <appender-ref ref="ERROR_FILE"/>
        </root>
    </springProfile>

    <!-- íŒ¨í‚¤ì§€ë³„ ë¡œê·¸ ë ˆë²¨ -->
    <logger name="com.example.myapp" level="DEBUG"/>
    <logger name="org.springframework" level="INFO"/>
    <logger name="org.hibernate" level="WARN"/>

</configuration>
```

#### application.yml ì„¤ì •

```yaml
logging:
  level:
    root: INFO
    com.example.myapp: DEBUG
    org.springframework.web: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

  file:
    name: logs/application.log
    max-size: 10MB
    max-history: 30
```

### 3ï¸âƒ£ ê³ ê¸‰: êµ¬ì¡°í™”ëœ ë¡œê·¸ (Structured Logging)

#### Logstash Encoder

```gradle
dependencies {
    implementation 'net.logstash.logback:logstash-logback-encoder:7.3'
}
```

```xml
<!-- logback-spring.xml -->
<appender name="JSON_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file>logs/application.json</file>
    <encoder class="net.logstash.logback.encoder.LogstashEncoder">
        <includeMdcKeyName>traceId</includeMdcKeyName>
        <includeMdcKeyName>spanId</includeMdcKeyName>
    </encoder>
    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
        <fileNamePattern>logs/application.%d{yyyy-MM-dd}.json</fileNamePattern>
        <maxHistory>30</maxHistory>
    </rollingPolicy>
</appender>
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```json
{
  "timestamp": "2025-01-15T10:30:00.123Z",
  "level": "INFO",
  "thread": "http-nio-8080-exec-1",
  "logger": "com.example.OrderService",
  "message": "Order created",
  "context": {
    "userId": 123,
    "orderId": 456,
    "amount": 50000
  },
  "traceId": "abc123",
  "spanId": "def456"
}
```

#### MDC (Mapped Diagnostic Context)

```java
@Component
public class RequestLoggingFilter extends OncePerRequestFilter {

    @Override
    protected void doFilterInternal(HttpServletRequest request,
                                     HttpServletResponse response,
                                     FilterChain filterChain) throws ServletException, IOException {

        // ìš”ì²­ IDë¥¼ MDCì— ì €ì¥
        String requestId = UUID.randomUUID().toString();
        MDC.put("requestId", requestId);
        MDC.put("userId", getCurrentUserId());

        try {
            filterChain.doFilter(request, response);
        } finally {
            MDC.clear();
        }
    }
}
```

```xml
<pattern>
    %d{yyyy-MM-dd HH:mm:ss} [%X{requestId}] [%X{userId}] - %msg%n
</pattern>
```

**ì¶œë ¥:**
```
2025-01-15 10:30:00 [req-abc123] [user-456] - Order created
2025-01-15 10:30:01 [req-abc123] [user-456] - Payment processed
```

---

## ğŸ› ï¸ ê¸°ë³¸ ì‹¤ìŠµ

### ì‹¤ìŠµ 1: Lombok @Slf4j í™œìš©

```java
@Slf4j
@RestController
@RequestMapping("/api/orders")
public class OrderController {

    @PostMapping
    public ResponseEntity<Order> createOrder(@RequestBody OrderRequest request) {
        log.info("Received order request: userId={}, productId={}",
            request.getUserId(), request.getProductId());

        try {
            Order order = orderService.createOrder(request);
            log.info("Order created successfully: orderId={}", order.getId());
            return ResponseEntity.ok(order);

        } catch (Exception e) {
            log.error("Failed to create order: userId={}, error={}",
                request.getUserId(), e.getMessage(), e);
            return ResponseEntity.status(500).build();
        }
    }
}
```

### ì‹¤ìŠµ 2: ì¡°ê±´ë¶€ ë¡œê¹…

```java
@Slf4j
@Service
public class AnalyticsService {

    public void processData(List<Data> dataList) {
        // âŒ ë‚˜ìœ ì˜ˆ - í•­ìƒ ì‹¤í–‰
        log.debug("Processing data: " + dataList.toString());

        // âœ… ì¢‹ì€ ì˜ˆ - DEBUG ë ˆë²¨ì¼ ë•Œë§Œ ì‹¤í–‰
        if (log.isDebugEnabled()) {
            log.debug("Processing data: {}", expensiveToString(dataList));
        }

        // âœ… ë” ì¢‹ì€ ì˜ˆ - lazy evaluation
        log.debug("Processing data: {}", () -> expensiveToString(dataList));
    }
}
```

### ì‹¤ìŠµ 3: ë¡œê·¸ ë ˆë²¨ ë™ì  ë³€ê²½

```yaml
# application.yml
management:
  endpoint:
    loggers:
      enabled: true
  endpoints:
    web:
      exposure:
        include: loggers
```

```bash
# í˜„ì¬ ë¡œê·¸ ë ˆë²¨ í™•ì¸
curl http://localhost:8080/actuator/loggers/com.example

# ë¡œê·¸ ë ˆë²¨ ë³€ê²½ (ì¬ì‹œì‘ ë¶ˆí•„ìš”!)
curl -X POST http://localhost:8080/actuator/loggers/com.example \
  -H "Content-Type: application/json" \
  -d '{"configuredLevel":"DEBUG"}'
```

---

## ğŸ‘¨â€ğŸ’» ì£¼ë‹ˆì–´ ê°œë°œì ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤: "ìš´ì˜ ì¥ì•  ë¡œê·¸ ë¶„ì„"

**ìƒí™©:**
```
ìƒˆë²½ 3ì‹œ, ì¥ì•  ë°œìƒ
"ê²°ì œê°€ ì•ˆ ë¼ìš”!"
```

**ë¡œê·¸ í™•ì¸:**

```bash
# ì—ëŸ¬ ë¡œê·¸ í™•ì¸
tail -f logs/error.log
```

```
2025-01-15 03:00:00 ERROR [http-nio-8080-exec-5] c.e.PaymentService - Payment failed: userId=123
java.net.ConnectException: Connection refused: connect
    at com.example.PaymentService.processPayment(PaymentService.java:45)
    ...
```

**ì›ì¸ íŒŒì•…:**
```java
// PaymentService.java:45
@Slf4j
@Service
public class PaymentService {

    public void processPayment(Payment payment) {
        log.info("Processing payment: paymentId={}, amount={}",
            payment.getId(), payment.getAmount());

        try {
            // ì™¸ë¶€ API í˜¸ì¶œ
            paymentGateway.charge(payment);

        } catch (ConnectException e) {
            // â† ì—¬ê¸°ì„œ ì—ëŸ¬ ë°œìƒ
            log.error("Payment gateway connection failed: paymentId={}",
                payment.getId(), e);
            throw new PaymentException("Payment service unavailable", e);
        }
    }
}
```

**í•´ê²°:**
```java
// Retry ë¡œì§ ì¶”ê°€
@Retryable(
    value = ConnectException.class,
    maxAttempts = 3,
    backoff = @Backoff(delay = 1000)
)
public void processPayment(Payment payment) {
    log.info("Attempting payment: attempt={}", RetryContext.getRetryCount());
    paymentGateway.charge(payment);
}
```

---

## ğŸ¢ ê¸°ì—… ì‚¬ë¡€: Airbnb

### ë°°ê²½

AirbnbëŠ” ìˆ˜ë°± ê°œì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì—ì„œ ì¼ì¼ ìˆ˜ TBì˜ ë¡œê·¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

**ë¬¸ì œ:**
- ë¡œê·¸ê°€ ë¶„ì‚°ë˜ì–´ ìˆìŒ
- íŠ¹ì • ìš”ì²­ ì¶”ì  ì–´ë ¤ì›€
- ë¡œê·¸ ê²€ìƒ‰ ëŠë¦¼

### í•´ê²°ì±…: ELK Stack

```yaml
# logback-spring.xml
<appender name="LOGSTASH" class="net.logstash.logback.appender.LogstashTcpSocketAppender">
    <destination>logstash:5000</destination>
    <encoder class="net.logstash.logback.encoder.LogstashEncoder">
        <customFields>{"service":"booking-service"}</customFields>
    </encoder>
</appender>
```

**íš¨ê³¼:**
- ë¡œê·¸ ê²€ìƒ‰ ì‹œê°„: 30ë¶„ â†’ 10ì´ˆ
- ì¥ì•  ì›ì¸ íŒŒì•…: 2ì‹œê°„ â†’ 5ë¶„
- ì¤‘ì•™í™”ëœ ë¡œê·¸ ê´€ë¦¬

---

## â“ FAQ

### Q1. ë¡œê·¸ë¥¼ ë„ˆë¬´ ë§ì´ ë‚¨ê¸°ë©´ ì„±ëŠ¥ì´ ë‚˜ë¹ ì§€ë‚˜ìš”?

**A:** ë„¤, ì ì ˆí•œ ë ˆë²¨ ì‚¬ìš©ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

```java
// âŒ ë‚˜ìœ ì˜ˆ
for (int i = 0; i < 1000000; i++) {
    log.debug("Processing: {}", i);  // 100ë§Œ ë²ˆ ë¡œê·¸
}

// âœ… ì¢‹ì€ ì˜ˆ
log.debug("Processing {} items", list.size());
for (Item item : list) {
    processItem(item);
}
log.debug("Processing completed");
```

### Q2. ìš´ì˜ í™˜ê²½ì—ì„œ ë¡œê·¸ ë ˆë²¨ì€?

**A:**

```yaml
# ê°œë°œ
logging:
  level:
    root: DEBUG

# ìš´ì˜
logging:
  level:
    root: INFO
    com.example: DEBUG  # ìš°ë¦¬ ì½”ë“œë§Œ DEBUG
```

### Q3. ë¯¼ê° ì •ë³´(ë¹„ë°€ë²ˆí˜¸ ë“±)ë¥¼ ë¡œê·¸ì— ë‚¨ê¸°ë©´?

**A:** ì ˆëŒ€ ì•ˆ ë©ë‹ˆë‹¤! í•„í„°ë§ í•„ìˆ˜

```java
@Slf4j
public class User {
    private String username;
    private String password;

    @Override
    public String toString() {
        return "User{username='" + username + "', password='***'}";
    }
}

// âŒ ë‚˜ìœ ì˜ˆ
log.info("User: {}", user);  // password ë…¸ì¶œ ìœ„í—˜

// âœ… ì¢‹ì€ ì˜ˆ
log.info("User login: username={}", user.getUsername());
```

### Q4. ë¡œê·¸ íŒŒì¼ì´ ë„ˆë¬´ ì»¤ì§€ë©´?

**A:** Rolling Policy ì‚¬ìš©

```xml
<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
    <!-- ì¼ë³„ ë¡¤ë§ -->
    <fileNamePattern>logs/app.%d{yyyy-MM-dd}.log</fileNamePattern>

    <!-- 30ì¼ ë³´ê´€ -->
    <maxHistory>30</maxHistory>

    <!-- ì „ì²´ í¬ê¸° ì œí•œ -->
    <totalSizeCap>3GB</totalSizeCap>
</rollingPolicy>
```

### Q5. ì—¬ëŸ¬ ì„œë²„ì˜ ë¡œê·¸ë¥¼ í†µí•©í•˜ë ¤ë©´?

**A:** ì¤‘ì•™ ë¡œê·¸ ìˆ˜ì§‘ ì‹œìŠ¤í…œ ì‚¬ìš©

```
[Server 1] â”€â”
[Server 2] â”€â”¼â†’ [Logstash] â†’ [Elasticsearch] â†’ [Kibana]
[Server 3] â”€â”˜
```

---

## ğŸ’¼ ë©´ì ‘ ì§ˆë¬¸ TOP 5

### â­ ì´ˆê¸‰ 1: ë¡œê·¸ ë ˆë²¨ì˜ ì¢…ë¥˜ëŠ”?

**ë‹µë³€:**
```
TRACE < DEBUG < INFO < WARN < ERROR < FATAL

- TRACE: ê°€ì¥ ìƒì„¸í•œ ì •ë³´
- DEBUG: ë””ë²„ê¹… ì •ë³´
- INFO: ì¼ë°˜ ì •ë³´
- WARN: ê²½ê³ 
- ERROR: ì—ëŸ¬
```

### â­ ì´ˆê¸‰ 2: SLF4Jë€?

**ë‹µë³€:**
Simple Logging Facade for Javaì˜ ì•½ìë¡œ, ë¡œê¹… í”„ë ˆì„ì›Œí¬ì˜ ì¶”ìƒí™” ê³„ì¸µì…ë‹ˆë‹¤.

```java
// SLF4J (ì¸í„°í˜ì´ìŠ¤)
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

// ì‹¤ì œ êµ¬í˜„ì²´
// - Logback
// - Log4j2
// - JUL
```

### â­â­ ì¤‘ê¸‰ 1: ë¡œê·¸ íŒ¨í„´ì˜ ì£¼ìš” ìš”ì†ŒëŠ”?

**ë‹µë³€:**

```xml
<pattern>
    %d{yyyy-MM-dd HH:mm:ss}  <!-- ë‚ ì§œ/ì‹œê°„ -->
    [%thread]                 <!-- ì“°ë ˆë“œ ì´ë¦„ -->
    %-5level                  <!-- ë¡œê·¸ ë ˆë²¨ -->
    %logger{36}               <!-- ë¡œê±° ì´ë¦„ -->
    - %msg%n                  <!-- ë©”ì‹œì§€ -->
</pattern>
```

### â­â­ ì¤‘ê¸‰ 2: MDCë€?

**ë‹µë³€:**
Mapped Diagnostic Contextë¡œ, ì“°ë ˆë“œë³„ë¡œ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë§µì…ë‹ˆë‹¤.

```java
MDC.put("userId", "123");
MDC.put("requestId", "abc");

// ë¡œê·¸ì— ìë™ í¬í•¨
log.info("Processing...");
// â†’ [userId=123] [requestId=abc] Processing...

MDC.clear();
```

### â­â­ ì¤‘ê¸‰ 3: ë¹„ë™ê¸° ë¡œê¹…ì˜ ì¥ì ì€?

**ë‹µë³€:**

```xml
<!-- ë™ê¸° ë¡œê¹…: ë¡œê·¸ ì“¸ ë•Œê¹Œì§€ ëŒ€ê¸° -->
<appender name="FILE" class="...">

<!-- ë¹„ë™ê¸° ë¡œê¹…: ë³„ë„ ì“°ë ˆë“œì—ì„œ ì²˜ë¦¬ -->
<appender name="ASYNC" class="ch.qos.logback.classic.AsyncAppender">
    <appender-ref ref="FILE"/>
    <queueSize>512</queueSize>
</appender>
```

**ì¥ì :**
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ ì˜í–¥ ìµœì†Œí™”
- ì²˜ë¦¬ëŸ‰ í–¥ìƒ

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

ë¡œê¹…ì„ ë§ˆì³¤ë‹¤ë©´:

1. **35ì¥: í…ŒìŠ¤íŠ¸** - ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸
2. **ELK Stack** - ë¡œê·¸ ìˆ˜ì§‘/ë¶„ì„
3. **ì•ŒëŒ ì‹œìŠ¤í…œ** - ì—ëŸ¬ ë¡œê·¸ ìë™ ì•Œë¦¼

---

**ğŸ“ í•™ìŠµ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸:**

- [ ] ë¡œê·¸ ë ˆë²¨ ì´í•´ ë° í™œìš©
- [ ] Logback ì„¤ì •
- [ ] êµ¬ì¡°í™”ëœ ë¡œê·¸ ì‘ì„±
- [ ] MDC í™œìš©
- [ ] í”„ë¡œíŒŒì¼ë³„ ë¡œê·¸ ì „ëµ
- [ ] ë¡œê·¸ ë ˆë²¨ ë™ì  ë³€ê²½

**ë‹¤ìŒ ì¥ì—ì„œëŠ” íš¨ê³¼ì ì¸ í…ŒìŠ¤íŠ¸ ì „ëµì„ ë°°ì›ë‹ˆë‹¤!** ğŸš€
