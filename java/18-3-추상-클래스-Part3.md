# 18-3. ì¶”ìƒ í´ë˜ìŠ¤ Part 3: ì‹¤ì „ í”„ë¡œì íŠ¸ ë° ë©´ì ‘ ëŒ€ë¹„

## ğŸš€ ì‹¤ì „ í”„ë¡œì íŠ¸: ì „ììƒê±°ë˜ ê²°ì œ ì‹œìŠ¤í…œ

ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì‹¤ì œ ì „ììƒê±°ë˜ ì‚¬ì´íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í†µí•© ê²°ì œ ì‹œìŠ¤í…œì„ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

### ğŸ“‹ í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­

**ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­:**
1. ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ ì§€ì› (ì‹ ìš©ì¹´ë“œ, ê³„ì¢Œì´ì²´, ê°„í¸ê²°ì œ, ê°€ìƒê³„ì¢Œ)
2. ëª¨ë“  ê²°ì œëŠ” ë™ì¼í•œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë”°ë¼ì•¼ í•¨ (ê²€ì¦ â†’ ê²°ì œ â†’ ì˜ìˆ˜ì¦ ë°œí–‰)
3. ê° ê²°ì œ ìˆ˜ë‹¨ë§ˆë‹¤ ê³ ìœ í•œ ê²€ì¦ ë° ì²˜ë¦¬ ë¡œì§ í•„ìš”
4. ê²°ì œ ì´ë ¥ ìë™ ì €ì¥
5. í™˜ë¶ˆ ì§€ì›
6. ê²°ì œ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜

**ê¸°ìˆ  ìš”êµ¬ì‚¬í•­:**
1. ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³µí†µ ë¡œì§ê³¼ ê°œë³„ ë¡œì§ ë¶„ë¦¬
2. í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ ì ìš©
3. í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° (ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ ì¶”ê°€ ìš©ì´)
4. ì˜ˆì™¸ ì²˜ë¦¬ ë° ë¡œê¹…

### ğŸ’» ì „ì²´ ì½”ë“œ êµ¬í˜„

```java
// ========== ê¸°ë³¸ ì—”í‹°í‹° í´ë˜ìŠ¤ë“¤ ==========

import java.time.LocalDateTime;
import java.util.*;

/**
 * ê²°ì œ ì •ë³´
 */
class PaymentInfo {
    private String orderId;           // ì£¼ë¬¸ ID
    private String userId;            // ì‚¬ìš©ì ID
    private int amount;               // ê²°ì œ ê¸ˆì•¡
    private String productName;       // ìƒí’ˆëª…
    private LocalDateTime createdAt;  // ìƒì„± ì‹œê°

    public PaymentInfo(String orderId, String userId, int amount, String productName) {
        this.orderId = orderId;
        this.userId = userId;
        this.amount = amount;
        this.productName = productName;
        this.createdAt = LocalDateTime.now();
    }

    // Getters
    public String getOrderId() { return orderId; }
    public String getUserId() { return userId; }
    public int getAmount() { return amount; }
    public String getProductName() { return productName; }
    public LocalDateTime getCreatedAt() { return createdAt; }
}

/**
 * ê²°ì œ ê²°ê³¼
 */
class PaymentResult {
    private boolean success;
    private String transactionId;
    private String message;
    private LocalDateTime completedAt;
    private PaymentInfo paymentInfo;

    public PaymentResult(boolean success, String transactionId, String message, PaymentInfo paymentInfo) {
        this.success = success;
        this.transactionId = transactionId;
        this.message = message;
        this.completedAt = LocalDateTime.now();
        this.paymentInfo = paymentInfo;
    }

    // Getters
    public boolean isSuccess() { return success; }
    public String getTransactionId() { return transactionId; }
    public String getMessage() { return message; }
    public LocalDateTime getCompletedAt() { return completedAt; }
    public PaymentInfo getPaymentInfo() { return paymentInfo; }

    @Override
    public String toString() {
        return String.format("[ê²°ì œ ê²°ê³¼] ì„±ê³µ: %s | ê±°ë˜ID: %s | ë©”ì‹œì§€: %s",
            success ? "âœ“" : "âœ—", transactionId, message);
    }
}

/**
 * ê²°ì œ ì´ë ¥
 */
class PaymentHistory {
    private String transactionId;
    private String paymentMethod;
    private PaymentInfo paymentInfo;
    private boolean success;
    private LocalDateTime timestamp;

    public PaymentHistory(String transactionId, String paymentMethod,
                         PaymentInfo paymentInfo, boolean success) {
        this.transactionId = transactionId;
        this.paymentMethod = paymentMethod;
        this.paymentInfo = paymentInfo;
        this.success = success;
        this.timestamp = LocalDateTime.now();
    }

    @Override
    public String toString() {
        return String.format("[%s] %s | %s | ê¸ˆì•¡: %,dì› | ìƒíƒœ: %s",
            timestamp, paymentMethod, paymentInfo.getProductName(),
            paymentInfo.getAmount(), success ? "ì„±ê³µ" : "ì‹¤íŒ¨");
    }
}

/**
 * ê²°ì œ ì˜ˆì™¸ í´ë˜ìŠ¤
 */
class PaymentException extends Exception {
    public PaymentException(String message) {
        super(message);
    }

    public PaymentException(String message, Throwable cause) {
        super(message, cause);
    }
}

// ========== ì¶”ìƒ ê²°ì œ í”„ë¡œì„¸ì„œ ==========

/**
 * ì¶”ìƒ ê²°ì œ í”„ë¡œì„¸ì„œ - ëª¨ë“  ê²°ì œ ìˆ˜ë‹¨ì˜ ë¶€ëª¨ í´ë˜ìŠ¤
 */
abstract class AbstractPaymentProcessor {

    // ê³µí†µ í•„ë“œ
    protected String processorName;
    protected int maxRetryCount = 3;
    protected List<PaymentHistory> historyList = new ArrayList<>();

    public AbstractPaymentProcessor(String processorName) {
        this.processorName = processorName;
    }

    /**
     * í…œí”Œë¦¿ ë©”ì„œë“œ: ê²°ì œ ì²˜ë¦¬ì˜ ì „ì²´ íë¦„ì„ ì •ì˜ (finalë¡œ ë³´í˜¸)
     */
    public final PaymentResult processPayment(PaymentInfo paymentInfo) {
        System.out.println("\n========================================");
        System.out.println("ê²°ì œ í”„ë¡œì„¸ì„œ: " + processorName);
        System.out.println("ì£¼ë¬¸ ID: " + paymentInfo.getOrderId());
        System.out.println("ìƒí’ˆëª…: " + paymentInfo.getProductName());
        System.out.println("ê¸ˆì•¡: " + String.format("%,d", paymentInfo.getAmount()) + "ì›");
        System.out.println("========================================");

        try {
            // 1ë‹¨ê³„: ê²°ì œ ì •ë³´ ê²€ì¦
            System.out.println("\n[1ë‹¨ê³„] ê²°ì œ ì •ë³´ ê²€ì¦ ì¤‘...");
            validatePaymentInfo(paymentInfo);
            System.out.println("âœ“ ê²€ì¦ ì™„ë£Œ");

            // 2ë‹¨ê³„: ê²°ì œ ìˆ˜ë‹¨ë³„ ê²€ì¦
            System.out.println("\n[2ë‹¨ê³„] " + processorName + " ê²€ì¦ ì¤‘...");
            validatePaymentMethod(paymentInfo);
            System.out.println("âœ“ ê²°ì œ ìˆ˜ë‹¨ ê²€ì¦ ì™„ë£Œ");

            // 3ë‹¨ê³„: ê²°ì œ ì „ì²˜ë¦¬
            System.out.println("\n[3ë‹¨ê³„] ê²°ì œ ì „ì²˜ë¦¬ ì¤‘...");
            preProcess(paymentInfo);
            System.out.println("âœ“ ì „ì²˜ë¦¬ ì™„ë£Œ");

            // 4ë‹¨ê³„: ì‹¤ì œ ê²°ì œ ì²˜ë¦¬ (ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ í¬í•¨)
            System.out.println("\n[4ë‹¨ê³„] ê²°ì œ ì²˜ë¦¬ ì¤‘...");
            boolean paymentSuccess = executePaymentWithRetry(paymentInfo);

            if (!paymentSuccess) {
                throw new PaymentException("ê²°ì œ ì²˜ë¦¬ ì‹¤íŒ¨");
            }

            System.out.println("âœ“ ê²°ì œ ì²˜ë¦¬ ì™„ë£Œ");

            // 5ë‹¨ê³„: ê²°ì œ í›„ì²˜ë¦¬
            System.out.println("\n[5ë‹¨ê³„] ê²°ì œ í›„ì²˜ë¦¬ ì¤‘...");
            postProcess(paymentInfo);
            System.out.println("âœ“ í›„ì²˜ë¦¬ ì™„ë£Œ");

            // 6ë‹¨ê³„: ì˜ìˆ˜ì¦ ë°œí–‰
            System.out.println("\n[6ë‹¨ê³„] ì˜ìˆ˜ì¦ ë°œí–‰ ì¤‘...");
            String transactionId = generateTransactionId();
            issueReceipt(transactionId, paymentInfo);
            System.out.println("âœ“ ì˜ìˆ˜ì¦ ë°œí–‰ ì™„ë£Œ");

            // 7ë‹¨ê³„: ì´ë ¥ ì €ì¥
            saveHistory(transactionId, paymentInfo, true);

            System.out.println("\n========================================");
            System.out.println("ê²°ì œê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
            System.out.println("========================================\n");

            return new PaymentResult(true, transactionId, "ê²°ì œ ì„±ê³µ", paymentInfo);

        } catch (PaymentException e) {
            System.err.println("\nâœ— ê²°ì œ ì‹¤íŒ¨: " + e.getMessage());

            // ì‹¤íŒ¨ ì´ë ¥ ì €ì¥
            String transactionId = generateTransactionId();
            saveHistory(transactionId, paymentInfo, false);

            // ì‹¤íŒ¨ í›„ì²˜ë¦¬
            onPaymentFailure(paymentInfo, e);

            return new PaymentResult(false, transactionId, e.getMessage(), paymentInfo);
        }
    }

    /**
     * ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ì„ í¬í•¨í•œ ê²°ì œ ì‹¤í–‰
     */
    private boolean executePaymentWithRetry(PaymentInfo paymentInfo) throws PaymentException {
        for (int attempt = 1; attempt <= maxRetryCount; attempt++) {
            try {
                System.out.println("  ì‹œë„ " + attempt + "/" + maxRetryCount);
                boolean result = executePayment(paymentInfo);

                if (result) {
                    return true;
                }

                System.out.println("  â†’ ê²°ì œ ì‹¤íŒ¨, ì¬ì‹œë„ ì¤‘...");

            } catch (Exception e) {
                System.out.println("  â†’ ì˜¤ë¥˜ ë°œìƒ: " + e.getMessage());

                if (attempt == maxRetryCount) {
                    throw new PaymentException("ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê³¼", e);
                }
            }

            // ì¬ì‹œë„ ì „ ëŒ€ê¸° (exponential backoff)
            try {
                int waitTime = attempt * 100;
                Thread.sleep(waitTime);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }

        throw new PaymentException("ê²°ì œ ì²˜ë¦¬ ì‹¤íŒ¨: ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê³¼");
    }

    /**
     * í™˜ë¶ˆ ì²˜ë¦¬ (í…œí”Œë¦¿ ë©”ì„œë“œ)
     */
    public final PaymentResult refund(String transactionId, int refundAmount) {
        System.out.println("\n========== í™˜ë¶ˆ ì²˜ë¦¬ ì‹œì‘ ==========");
        System.out.println("ê±°ë˜ ID: " + transactionId);
        System.out.println("í™˜ë¶ˆ ê¸ˆì•¡: " + String.format("%,d", refundAmount) + "ì›");

        try {
            // 1. ê±°ë˜ ë‚´ì—­ ì¡°íšŒ
            System.out.println("\n[1ë‹¨ê³„] ê±°ë˜ ë‚´ì—­ ì¡°íšŒ ì¤‘...");
            validateTransaction(transactionId);
            System.out.println("âœ“ ê±°ë˜ í™•ì¸ ì™„ë£Œ");

            // 2. í™˜ë¶ˆ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
            System.out.println("\n[2ë‹¨ê³„] í™˜ë¶ˆ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ ì¤‘...");
            validateRefund(transactionId, refundAmount);
            System.out.println("âœ“ í™˜ë¶ˆ ê°€ëŠ¥");

            // 3. ì‹¤ì œ í™˜ë¶ˆ ì²˜ë¦¬
            System.out.println("\n[3ë‹¨ê³„] í™˜ë¶ˆ ì²˜ë¦¬ ì¤‘...");
            boolean refundSuccess = executeRefund(transactionId, refundAmount);

            if (!refundSuccess) {
                throw new PaymentException("í™˜ë¶ˆ ì²˜ë¦¬ ì‹¤íŒ¨");
            }

            System.out.println("âœ“ í™˜ë¶ˆ ì™„ë£Œ");
            System.out.println("\n========== í™˜ë¶ˆ ì„±ê³µ ==========\n");

            return new PaymentResult(true, transactionId + "-REFUND", "í™˜ë¶ˆ ì™„ë£Œ", null);

        } catch (PaymentException e) {
            System.err.println("\nâœ— í™˜ë¶ˆ ì‹¤íŒ¨: " + e.getMessage());
            return new PaymentResult(false, transactionId + "-REFUND", e.getMessage(), null);
        }
    }

    // ========== ê³µí†µ ë©”ì„œë“œ (ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©) ==========

    /**
     * ê²°ì œ ì •ë³´ ê¸°ë³¸ ê²€ì¦
     */
    private void validatePaymentInfo(PaymentInfo paymentInfo) throws PaymentException {
        if (paymentInfo == null) {
            throw new PaymentException("ê²°ì œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤");
        }
        if (paymentInfo.getAmount() <= 0) {
            throw new PaymentException("ê²°ì œ ê¸ˆì•¡ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤");
        }
        if (paymentInfo.getUserId() == null || paymentInfo.getUserId().isEmpty()) {
            throw new PaymentException("ì‚¬ìš©ì IDê°€ ì—†ìŠµë‹ˆë‹¤");
        }
    }

    /**
     * ê±°ë˜ ID ìƒì„±
     */
    protected String generateTransactionId() {
        return "TXN-" + System.currentTimeMillis() + "-" + (int)(Math.random() * 10000);
    }

    /**
     * ì˜ìˆ˜ì¦ ë°œí–‰
     */
    private void issueReceipt(String transactionId, PaymentInfo paymentInfo) {
        System.out.println("\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì˜ìˆ˜ì¦ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”");
        System.out.println("â”‚ ê±°ë˜ ID: " + transactionId);
        System.out.println("â”‚ ê²°ì œ ìˆ˜ë‹¨: " + processorName);
        System.out.println("â”‚ ìƒí’ˆëª…: " + paymentInfo.getProductName());
        System.out.println("â”‚ ê¸ˆì•¡: " + String.format("%,d", paymentInfo.getAmount()) + "ì›");
        System.out.println("â”‚ ì¼ì‹œ: " + LocalDateTime.now());
        System.out.println("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜");
    }

    /**
     * ì´ë ¥ ì €ì¥
     */
    private void saveHistory(String transactionId, PaymentInfo paymentInfo, boolean success) {
        PaymentHistory history = new PaymentHistory(transactionId, processorName, paymentInfo, success);
        historyList.add(history);
        System.out.println("  â†’ ì´ë ¥ ì €ì¥ë¨: " + history);
    }

    /**
     * ì´ë ¥ ì¡°íšŒ
     */
    public List<PaymentHistory> getHistory() {
        return new ArrayList<>(historyList);
    }

    // ========== ì¶”ìƒ ë©”ì„œë“œ (í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë°˜ë“œì‹œ êµ¬í˜„) ==========

    /**
     * ê²°ì œ ìˆ˜ë‹¨ë³„ ê²€ì¦ (ì˜ˆ: ì¹´ë“œ ìœ íš¨ì„±, ê³„ì¢Œ ì”ì•¡ ë“±)
     */
    protected abstract void validatePaymentMethod(PaymentInfo paymentInfo) throws PaymentException;

    /**
     * ì‹¤ì œ ê²°ì œ ì²˜ë¦¬
     */
    protected abstract boolean executePayment(PaymentInfo paymentInfo) throws PaymentException;

    /**
     * ê±°ë˜ ë‚´ì—­ ê²€ì¦
     */
    protected abstract void validateTransaction(String transactionId) throws PaymentException;

    /**
     * ì‹¤ì œ í™˜ë¶ˆ ì²˜ë¦¬
     */
    protected abstract boolean executeRefund(String transactionId, int refundAmount) throws PaymentException;

    // ========== Hook ë©”ì„œë“œ (í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì„ íƒì  ì˜¤ë²„ë¼ì´ë“œ) ==========

    /**
     * ê²°ì œ ì „ì²˜ë¦¬ (ì„ íƒì )
     */
    protected void preProcess(PaymentInfo paymentInfo) throws PaymentException {
        // ê¸°ë³¸ êµ¬í˜„ ì—†ìŒ
    }

    /**
     * ê²°ì œ í›„ì²˜ë¦¬ (ì„ íƒì )
     */
    protected void postProcess(PaymentInfo paymentInfo) throws PaymentException {
        // ê¸°ë³¸ êµ¬í˜„ ì—†ìŒ
    }

    /**
     * í™˜ë¶ˆ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ (ì„ íƒì )
     */
    protected void validateRefund(String transactionId, int refundAmount) throws PaymentException {
        // ê¸°ë³¸ êµ¬í˜„: ëª¨ë“  í™˜ë¶ˆ í—ˆìš©
    }

    /**
     * ê²°ì œ ì‹¤íŒ¨ ì‹œ í˜¸ì¶œ (ì„ íƒì )
     */
    protected void onPaymentFailure(PaymentInfo paymentInfo, PaymentException e) {
        System.err.println("  â†’ ê²°ì œ ì‹¤íŒ¨ ì•Œë¦¼ ë°œì†¡: " + paymentInfo.getUserId());
    }
}

// ========== êµ¬ì²´ì ì¸ ê²°ì œ í”„ë¡œì„¸ì„œ êµ¬í˜„ ==========

/**
 * ì‹ ìš©ì¹´ë“œ ê²°ì œ í”„ë¡œì„¸ì„œ
 */
class CreditCardPaymentProcessor extends AbstractPaymentProcessor {

    private Map<String, String> cardDatabase = new HashMap<>();
    private Map<String, Integer> transactionAmounts = new HashMap<>();

    public CreditCardPaymentProcessor() {
        super("ì‹ ìš©ì¹´ë“œ");

        // í…ŒìŠ¤íŠ¸ìš© ì¹´ë“œ ë“±ë¡
        cardDatabase.put("1234-5678-9012-3456", "ê¹€ì² ìˆ˜");
        cardDatabase.put("9876-5432-1098-7654", "ì´ì˜í¬");
    }

    @Override
    protected void validatePaymentMethod(PaymentInfo paymentInfo) throws PaymentException {
        // ì‹¤ì œë¡œëŠ” ì¹´ë“œ ë²ˆí˜¸ë¥¼ ë°›ì•„ì•¼ í•˜ì§€ë§Œ, ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜
        String cardNumber = "1234-5678-9012-3456"; // í…ŒìŠ¤íŠ¸ìš©

        if (!cardDatabase.containsKey(cardNumber)) {
            throw new PaymentException("ìœ íš¨í•˜ì§€ ì•Šì€ ì¹´ë“œì…ë‹ˆë‹¤");
        }

        System.out.println("  â†’ ì¹´ë“œ ì†Œìœ ì: " + cardDatabase.get(cardNumber));
        System.out.println("  â†’ ì¹´ë“œ ìœ íš¨ì„± í™•ì¸ ì™„ë£Œ");
    }

    @Override
    protected boolean executePayment(PaymentInfo paymentInfo) throws PaymentException {
        // ì‹ ìš©ì¹´ë“œ ê²°ì œ ì‹œë®¬ë ˆì´ì…˜
        System.out.println("  â†’ ì¹´ë“œì‚¬ ìŠ¹ì¸ ìš”ì²­ ì¤‘...");

        // 90% í™•ë¥ ë¡œ ì„±ê³µ (ì‹œë®¬ë ˆì´ì…˜)
        boolean approved = Math.random() < 0.9;

        if (approved) {
            String txnId = generateTransactionId();
            transactionAmounts.put(txnId, paymentInfo.getAmount());
            System.out.println("  â†’ ì¹´ë“œì‚¬ ìŠ¹ì¸ ì™„ë£Œ");
            return true;
        }

        throw new PaymentException("ì¹´ë“œì‚¬ ìŠ¹ì¸ ê±°ë¶€");
    }

    @Override
    protected void validateTransaction(String transactionId) throws PaymentException {
        if (!transactionAmounts.containsKey(transactionId)) {
            throw new PaymentException("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê±°ë˜ì…ë‹ˆë‹¤");
        }
    }

    @Override
    protected boolean executeRefund(String transactionId, int refundAmount) throws PaymentException {
        String originalTxnId = transactionId.replace("-REFUND", "");

        if (!transactionAmounts.containsKey(originalTxnId)) {
            throw new PaymentException("ì› ê±°ë˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        }

        int originalAmount = transactionAmounts.get(originalTxnId);

        if (refundAmount > originalAmount) {
            throw new PaymentException("í™˜ë¶ˆ ê¸ˆì•¡ì´ ì› ê±°ë˜ ê¸ˆì•¡ì„ ì´ˆê³¼í•©ë‹ˆë‹¤");
        }

        System.out.println("  â†’ ì¹´ë“œì‚¬ í™˜ë¶ˆ ì²˜ë¦¬ ì¤‘...");
        transactionAmounts.remove(originalTxnId);
        System.out.println("  â†’ ì¹´ë“œì‚¬ í™˜ë¶ˆ ì™„ë£Œ");

        return true;
    }

    @Override
    protected void postProcess(PaymentInfo paymentInfo) {
        // ì‹ ìš©ì¹´ë“œ í¬ì¸íŠ¸ ì ë¦½
        int points = paymentInfo.getAmount() / 100;
        System.out.println("  â†’ í¬ì¸íŠ¸ ì ë¦½: " + points + "P");
    }
}

/**
 * ê³„ì¢Œì´ì²´ ê²°ì œ í”„ë¡œì„¸ì„œ
 */
class BankTransferPaymentProcessor extends AbstractPaymentProcessor {

    private Map<String, Integer> accountBalances = new HashMap<>();
    private Map<String, Integer> transactionAmounts = new HashMap<>();

    public BankTransferPaymentProcessor() {
        super("ê³„ì¢Œì´ì²´");

        // í…ŒìŠ¤íŠ¸ìš© ê³„ì¢Œ ë“±ë¡
        accountBalances.put("110-123-456789", 1000000);
        accountBalances.put("220-987-654321", 500000);
    }

    @Override
    protected void validatePaymentMethod(PaymentInfo paymentInfo) throws PaymentException {
        String accountNumber = "110-123-456789"; // í…ŒìŠ¤íŠ¸ìš©

        if (!accountBalances.containsKey(accountNumber)) {
            throw new PaymentException("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³„ì¢Œì…ë‹ˆë‹¤");
        }

        int balance = accountBalances.get(accountNumber);
        System.out.println("  â†’ ê³„ì¢Œ ì”ì•¡: " + String.format("%,d", balance) + "ì›");

        if (balance < paymentInfo.getAmount()) {
            throw new PaymentException("ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤");
        }
    }

    @Override
    protected boolean executePayment(PaymentInfo paymentInfo) throws PaymentException {
        String accountNumber = "110-123-456789"; // í…ŒìŠ¤íŠ¸ìš©

        System.out.println("  â†’ ê³„ì¢Œ ì¶œê¸ˆ ì¤‘...");

        int balance = accountBalances.get(accountNumber);
        balance -= paymentInfo.getAmount();
        accountBalances.put(accountNumber, balance);

        String txnId = generateTransactionId();
        transactionAmounts.put(txnId, paymentInfo.getAmount());

        System.out.println("  â†’ ì¶œê¸ˆ ì™„ë£Œ, ë‚¨ì€ ì”ì•¡: " + String.format("%,d", balance) + "ì›");

        return true;
    }

    @Override
    protected void validateTransaction(String transactionId) throws PaymentException {
        if (!transactionAmounts.containsKey(transactionId)) {
            throw new PaymentException("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê±°ë˜ì…ë‹ˆë‹¤");
        }
    }

    @Override
    protected boolean executeRefund(String transactionId, int refundAmount) throws PaymentException {
        String originalTxnId = transactionId.replace("-REFUND", "");

        if (!transactionAmounts.containsKey(originalTxnId)) {
            throw new PaymentException("ì› ê±°ë˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        }

        String accountNumber = "110-123-456789"; // í…ŒìŠ¤íŠ¸ìš©

        System.out.println("  â†’ ê³„ì¢Œ ì…ê¸ˆ ì¤‘...");

        int balance = accountBalances.get(accountNumber);
        balance += refundAmount;
        accountBalances.put(accountNumber, balance);

        transactionAmounts.remove(originalTxnId);

        System.out.println("  â†’ ì…ê¸ˆ ì™„ë£Œ, í˜„ì¬ ì”ì•¡: " + String.format("%,d", balance) + "ì›");

        return true;
    }

    @Override
    protected void preProcess(PaymentInfo paymentInfo) {
        // ì´ì²´ í•œë„ í™•ì¸
        System.out.println("  â†’ 1íšŒ ì´ì²´ í•œë„: 1,000,000ì›");
        System.out.println("  â†’ ì´ì²´ ê°€ëŠ¥");
    }
}

/**
 * ê°„í¸ê²°ì œ í”„ë¡œì„¸ì„œ (ì˜ˆ: ì¹´ì¹´ì˜¤í˜ì´, ë„¤ì´ë²„í˜ì´)
 */
class SimplePaymentProcessor extends AbstractPaymentProcessor {

    private Map<String, Boolean> userAuthenticated = new HashMap<>();
    private Map<String, Integer> transactionAmounts = new HashMap<>();

    public SimplePaymentProcessor(String serviceName) {
        super(serviceName);

        // í…ŒìŠ¤íŠ¸ìš© ì‚¬ìš©ì ë“±ë¡
        userAuthenticated.put("user001", true);
        userAuthenticated.put("user002", true);
    }

    @Override
    protected void validatePaymentMethod(PaymentInfo paymentInfo) throws PaymentException {
        String userId = paymentInfo.getUserId();

        if (!userAuthenticated.containsKey(userId)) {
            throw new PaymentException("ê°„í¸ê²°ì œì— ë“±ë¡ë˜ì§€ ì•Šì€ ì‚¬ìš©ìì…ë‹ˆë‹¤");
        }

        if (!userAuthenticated.get(userId)) {
            throw new PaymentException("ì‚¬ìš©ì ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤");
        }

        System.out.println("  â†’ ì‚¬ìš©ì ì¸ì¦ í™•ì¸ ì™„ë£Œ");
    }

    @Override
    protected void preProcess(PaymentInfo paymentInfo) throws PaymentException {
        // ìƒì²´ ì¸ì¦ ì‹œë®¬ë ˆì´ì…˜
        System.out.println("  â†’ ìƒì²´ ì¸ì¦ ìš”ì²­ ì¤‘...");

        boolean bioAuthSuccess = Math.random() < 0.95;

        if (!bioAuthSuccess) {
            throw new PaymentException("ìƒì²´ ì¸ì¦ ì‹¤íŒ¨");
        }

        System.out.println("  â†’ ìƒì²´ ì¸ì¦ ì„±ê³µ");
    }

    @Override
    protected boolean executePayment(PaymentInfo paymentInfo) throws PaymentException {
        System.out.println("  â†’ " + processorName + " ê²°ì œ ì²˜ë¦¬ ì¤‘...");

        // 95% í™•ë¥ ë¡œ ì„±ê³µ
        boolean success = Math.random() < 0.95;

        if (success) {
            String txnId = generateTransactionId();
            transactionAmounts.put(txnId, paymentInfo.getAmount());
            System.out.println("  â†’ ê²°ì œ ì™„ë£Œ");
            return true;
        }

        throw new PaymentException("ê°„í¸ê²°ì œ ì²˜ë¦¬ ì‹¤íŒ¨");
    }

    @Override
    protected void validateTransaction(String transactionId) throws PaymentException {
        if (!transactionAmounts.containsKey(transactionId)) {
            throw new PaymentException("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê±°ë˜ì…ë‹ˆë‹¤");
        }
    }

    @Override
    protected boolean executeRefund(String transactionId, int refundAmount) throws PaymentException {
        String originalTxnId = transactionId.replace("-REFUND", "");

        if (!transactionAmounts.containsKey(originalTxnId)) {
            throw new PaymentException("ì› ê±°ë˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        }

        System.out.println("  â†’ " + processorName + " í™˜ë¶ˆ ì²˜ë¦¬ ì¤‘...");
        transactionAmounts.remove(originalTxnId);
        System.out.println("  â†’ í™˜ë¶ˆ ì™„ë£Œ");

        return true;
    }

    @Override
    protected void postProcess(PaymentInfo paymentInfo) {
        // ìºì‹œë°± ì ë¦½
        int cashback = (int) (paymentInfo.getAmount() * 0.01); // 1% ìºì‹œë°±
        System.out.println("  â†’ ìºì‹œë°± ì ë¦½: " + cashback + "ì›");
    }
}

/**
 * ê°€ìƒê³„ì¢Œ ê²°ì œ í”„ë¡œì„¸ì„œ
 */
class VirtualAccountPaymentProcessor extends AbstractPaymentProcessor {

    private Map<String, String> virtualAccounts = new HashMap<>();
    private Map<String, Integer> deposits = new HashMap<>();

    public VirtualAccountPaymentProcessor() {
        super("ê°€ìƒê³„ì¢Œ");
    }

    @Override
    protected void validatePaymentMethod(PaymentInfo paymentInfo) throws PaymentException {
        // ê°€ìƒê³„ì¢ŒëŠ” í•­ìƒ ìƒì„± ê°€ëŠ¥
        System.out.println("  â†’ ê°€ìƒê³„ì¢Œ ìƒì„± ê°€ëŠ¥");
    }

    @Override
    protected void preProcess(PaymentInfo paymentInfo) {
        // ê°€ìƒê³„ì¢Œ ë°œê¸‰
        String virtualAccount = "9999-" + (int)(Math.random() * 100000000);
        virtualAccounts.put(paymentInfo.getOrderId(), virtualAccount);

        System.out.println("  â†’ ê°€ìƒê³„ì¢Œ ë°œê¸‰: " + virtualAccount);
        System.out.println("  â†’ ì…ê¸ˆ ëŒ€ê¸° ì¤‘ (ì‹¤ì œë¡œëŠ” ë¹„ë™ê¸° ì²˜ë¦¬)");
    }

    @Override
    protected boolean executePayment(PaymentInfo paymentInfo) throws PaymentException {
        // ì‹¤ì œë¡œëŠ” ë¹„ë™ê¸°ë¡œ ì…ê¸ˆì„ ê¸°ë‹¤ë¦¬ì§€ë§Œ, ì—¬ê¸°ì„œëŠ” ì¦‰ì‹œ ì…ê¸ˆëœ ê²ƒìœ¼ë¡œ ì‹œë®¬ë ˆì´ì…˜
        String virtualAccount = virtualAccounts.get(paymentInfo.getOrderId());

        System.out.println("  â†’ ì…ê¸ˆ í™•ì¸ë¨");

        String txnId = generateTransactionId();
        deposits.put(txnId, paymentInfo.getAmount());

        return true;
    }

    @Override
    protected void validateTransaction(String transactionId) throws PaymentException {
        if (!deposits.containsKey(transactionId)) {
            throw new PaymentException("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê±°ë˜ì…ë‹ˆë‹¤");
        }
    }

    @Override
    protected boolean executeRefund(String transactionId, int refundAmount) throws PaymentException {
        String originalTxnId = transactionId.replace("-REFUND", "");

        if (!deposits.containsKey(originalTxnId)) {
            throw new PaymentException("ì› ê±°ë˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        }

        System.out.println("  â†’ í™˜ë¶ˆ ê³„ì¢Œë¡œ ì†¡ê¸ˆ ì¤‘...");
        deposits.remove(originalTxnId);
        System.out.println("  â†’ ì†¡ê¸ˆ ì™„ë£Œ (ì˜ì—…ì¼ ê¸°ì¤€ 1-2ì¼ ì†Œìš”)");

        return true;
    }
}

// ========== ê²°ì œ ì„œë¹„ìŠ¤ (Facade) ==========

/**
 * í†µí•© ê²°ì œ ì„œë¹„ìŠ¤
 */
class PaymentService {

    private Map<String, AbstractPaymentProcessor> processors = new HashMap<>();

    public PaymentService() {
        // ê²°ì œ í”„ë¡œì„¸ì„œ ë“±ë¡
        processors.put("CREDIT_CARD", new CreditCardPaymentProcessor());
        processors.put("BANK_TRANSFER", new BankTransferPaymentProcessor());
        processors.put("KAKAO_PAY", new SimplePaymentProcessor("ì¹´ì¹´ì˜¤í˜ì´"));
        processors.put("NAVER_PAY", new SimplePaymentProcessor("ë„¤ì´ë²„í˜ì´"));
        processors.put("VIRTUAL_ACCOUNT", new VirtualAccountPaymentProcessor());
    }

    /**
     * ê²°ì œ ì²˜ë¦¬
     */
    public PaymentResult pay(String paymentMethod, PaymentInfo paymentInfo) {
        AbstractPaymentProcessor processor = processors.get(paymentMethod);

        if (processor == null) {
            return new PaymentResult(false, "N/A",
                "ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²°ì œ ìˆ˜ë‹¨ì…ë‹ˆë‹¤: " + paymentMethod, paymentInfo);
        }

        return processor.processPayment(paymentInfo);
    }

    /**
     * í™˜ë¶ˆ ì²˜ë¦¬
     */
    public PaymentResult refund(String paymentMethod, String transactionId, int refundAmount) {
        AbstractPaymentProcessor processor = processors.get(paymentMethod);

        if (processor == null) {
            return new PaymentResult(false, "N/A",
                "ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²°ì œ ìˆ˜ë‹¨ì…ë‹ˆë‹¤: " + paymentMethod, null);
        }

        return processor.refund(transactionId, refundAmount);
    }

    /**
     * ê²°ì œ ì´ë ¥ ì¡°íšŒ
     */
    public void printHistory(String paymentMethod) {
        AbstractPaymentProcessor processor = processors.get(paymentMethod);

        if (processor == null) {
            System.out.println("ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²°ì œ ìˆ˜ë‹¨ì…ë‹ˆë‹¤: " + paymentMethod);
            return;
        }

        List<PaymentHistory> history = processor.getHistory();

        System.out.println("\n========== " + paymentMethod + " ê²°ì œ ì´ë ¥ ==========");

        if (history.isEmpty()) {
            System.out.println("ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.");
        } else {
            for (PaymentHistory h : history) {
                System.out.println(h);
            }
        }

        System.out.println("=========================================\n");
    }
}
```

### ğŸ§ª í”„ë¡œì íŠ¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ

```java
/**
 * ì „ììƒê±°ë˜ ê²°ì œ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
 */
public class ECommercePaymentSystemTest {

    public static void main(String[] args) {

        PaymentService paymentService = new PaymentService();

        System.out.println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
        System.out.println("â•‘   ì „ììƒê±°ë˜ í†µí•© ê²°ì œ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸      â•‘");
        System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");

        // í…ŒìŠ¤íŠ¸ 1: ì‹ ìš©ì¹´ë“œ ê²°ì œ
        test1_CreditCardPayment(paymentService);

        // í…ŒìŠ¤íŠ¸ 2: ê³„ì¢Œì´ì²´ ê²°ì œ
        test2_BankTransferPayment(paymentService);

        // í…ŒìŠ¤íŠ¸ 3: ê°„í¸ê²°ì œ (ì¹´ì¹´ì˜¤í˜ì´)
        test3_SimplePayment(paymentService);

        // í…ŒìŠ¤íŠ¸ 4: ê°€ìƒê³„ì¢Œ ê²°ì œ
        test4_VirtualAccountPayment(paymentService);

        // í…ŒìŠ¤íŠ¸ 5: ê²°ì œ ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤
        test5_PaymentFailure(paymentService);

        // í…ŒìŠ¤íŠ¸ 6: í™˜ë¶ˆ ì²˜ë¦¬
        test6_Refund(paymentService);

        // í…ŒìŠ¤íŠ¸ 7: ê²°ì œ ì´ë ¥ ì¡°íšŒ
        test7_PaymentHistory(paymentService);

        System.out.println("\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
        System.out.println("â•‘        ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!       â•‘");
        System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    }

    /**
     * í…ŒìŠ¤íŠ¸ 1: ì‹ ìš©ì¹´ë“œ ê²°ì œ
     */
    static void test1_CreditCardPayment(PaymentService service) {
        System.out.println("\n### í…ŒìŠ¤íŠ¸ 1: ì‹ ìš©ì¹´ë“œ ê²°ì œ ###");

        PaymentInfo payment = new PaymentInfo(
            "ORDER-001",
            "user001",
            50000,
            "ë§¥ë¶ í”„ë¡œ 16ì¸ì¹˜"
        );

        PaymentResult result = service.pay("CREDIT_CARD", payment);
        printResult(result);

        waitForUser();
    }

    /**
     * í…ŒìŠ¤íŠ¸ 2: ê³„ì¢Œì´ì²´ ê²°ì œ
     */
    static void test2_BankTransferPayment(PaymentService service) {
        System.out.println("\n### í…ŒìŠ¤íŠ¸ 2: ê³„ì¢Œì´ì²´ ê²°ì œ ###");

        PaymentInfo payment = new PaymentInfo(
            "ORDER-002",
            "user002",
            120000,
            "ì•„ì´íŒ¨ë“œ ì—ì–´"
        );

        PaymentResult result = service.pay("BANK_TRANSFER", payment);
        printResult(result);

        waitForUser();
    }

    /**
     * í…ŒìŠ¤íŠ¸ 3: ê°„í¸ê²°ì œ
     */
    static void test3_SimplePayment(PaymentService service) {
        System.out.println("\n### í…ŒìŠ¤íŠ¸ 3: ì¹´ì¹´ì˜¤í˜ì´ ê²°ì œ ###");

        PaymentInfo payment = new PaymentInfo(
            "ORDER-003",
            "user001",
            35000,
            "ì—ì–´íŒŸ í”„ë¡œ"
        );

        PaymentResult result = service.pay("KAKAO_PAY", payment);
        printResult(result);

        waitForUser();
    }

    /**
     * í…ŒìŠ¤íŠ¸ 4: ê°€ìƒê³„ì¢Œ ê²°ì œ
     */
    static void test4_VirtualAccountPayment(PaymentService service) {
        System.out.println("\n### í…ŒìŠ¤íŠ¸ 4: ê°€ìƒê³„ì¢Œ ê²°ì œ ###");

        PaymentInfo payment = new PaymentInfo(
            "ORDER-004",
            "user002",
            80000,
            "ê°¤ëŸ­ì‹œ ë²„ì¦ˆ"
        );

        PaymentResult result = service.pay("VIRTUAL_ACCOUNT", payment);
        printResult(result);

        waitForUser();
    }

    /**
     * í…ŒìŠ¤íŠ¸ 5: ê²°ì œ ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤
     */
    static void test5_PaymentFailure(PaymentService service) {
        System.out.println("\n### í…ŒìŠ¤íŠ¸ 5: ê²°ì œ ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ ###");

        // ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ê²°ì œ
        // (executePaymentê°€ ëœë¤ìœ¼ë¡œ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ)

        PaymentInfo payment = new PaymentInfo(
            "ORDER-005",
            "user001",
            25000,
            "ë¬´ì„  í‚¤ë³´ë“œ"
        );

        PaymentResult result = service.pay("CREDIT_CARD", payment);
        printResult(result);

        waitForUser();
    }

    /**
     * í…ŒìŠ¤íŠ¸ 6: í™˜ë¶ˆ ì²˜ë¦¬
     */
    static void test6_Refund(PaymentService service) {
        System.out.println("\n### í…ŒìŠ¤íŠ¸ 6: í™˜ë¶ˆ ì²˜ë¦¬ ###");

        // ë¨¼ì € ê²°ì œ ì§„í–‰
        PaymentInfo payment = new PaymentInfo(
            "ORDER-006",
            "user001",
            60000,
            "ë¬´ì„  ë§ˆìš°ìŠ¤"
        );

        PaymentResult paymentResult = service.pay("CREDIT_CARD", payment);

        if (paymentResult.isSuccess()) {
            // ê²°ì œ ì„±ê³µ ì‹œ í™˜ë¶ˆ ì§„í–‰
            System.out.println("\nê³ ê°ì´ í™˜ë¶ˆì„ ìš”ì²­í–ˆìŠµë‹ˆë‹¤...");

            PaymentResult refundResult = service.refund(
                "CREDIT_CARD",
                paymentResult.getTransactionId(),
                60000
            );

            printResult(refundResult);
        }

        waitForUser();
    }

    /**
     * í…ŒìŠ¤íŠ¸ 7: ê²°ì œ ì´ë ¥ ì¡°íšŒ
     */
    static void test7_PaymentHistory(PaymentService service) {
        System.out.println("\n### í…ŒìŠ¤íŠ¸ 7: ê²°ì œ ì´ë ¥ ì¡°íšŒ ###");

        service.printHistory("CREDIT_CARD");
        service.printHistory("BANK_TRANSFER");
        service.printHistory("KAKAO_PAY");
    }

    /**
     * ê²°ê³¼ ì¶œë ¥
     */
    static void printResult(PaymentResult result) {
        System.out.println("\n" + result);
    }

    /**
     * ì‚¬ìš©ì ì…ë ¥ ëŒ€ê¸° (ê°€ë…ì„±ì„ ìœ„í•œ ì¼ì‹œ ì •ì§€)
     */
    static void waitForUser() {
        try {
            Thread.sleep(500); // 0.5ì´ˆ ëŒ€ê¸°
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}
```

### ğŸ¯ í”„ë¡œì íŠ¸ í•µì‹¬ í¬ì¸íŠ¸

1. **í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ ì™„ë²½ êµ¬í˜„**
   - `processPayment()`: ì „ì²´ ê²°ì œ íë¦„ì„ 7ë‹¨ê³„ë¡œ ì •ì˜
   - ê° ë‹¨ê³„ê°€ ëª…í™•í•˜ê²Œ ë¶„ë¦¬ë˜ê³  ìˆœì„œê°€ ë³´ì¥ë¨

2. **ì¶”ìƒ ë©”ì„œë“œì™€ Hook ë©”ì„œë“œì˜ ì¡°í™”**
   - í•„ìˆ˜ êµ¬í˜„: `validatePaymentMethod()`, `executePayment()`, etc.
   - ì„ íƒì  êµ¬í˜„: `preProcess()`, `postProcess()`, `onPaymentFailure()`

3. **final í‚¤ì›Œë“œë¡œ í•µì‹¬ ë¡œì§ ë³´í˜¸**
   - `processPayment()`, `refund()`: ì „ì²´ íë¦„ ë³´í˜¸
   - í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì„¸ë¶€ êµ¬í˜„ë§Œ ì œê³µ

4. **ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜**
   - `executePaymentWithRetry()`: ì‹¤íŒ¨ ì‹œ ìë™ ì¬ì‹œë„
   - Exponential backoff ì ìš©

5. **í™•ì¥ì„±**
   - ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ ì¶”ê°€ê°€ ë§¤ìš° ì‰¬ì›€
   - `AbstractPaymentProcessor`ë¥¼ ìƒì†ë°›ê³  4ê°œì˜ ì¶”ìƒ ë©”ì„œë“œë§Œ êµ¬í˜„

6. **ì‹¤ì „ ì ìš© ê°€ëŠ¥**
   - ì‹¤ì œ ì „ììƒê±°ë˜ ì‹œìŠ¤í…œì—ì„œ ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ êµ¬ì¡°
   - ì˜ˆì™¸ ì²˜ë¦¬, ë¡œê¹…, ì´ë ¥ ê´€ë¦¬ ë“± ì‹¤ë¬´ ìš”ì†Œ í¬í•¨

---

## â“ FAQ (ìì£¼ ë¬»ëŠ” ì§ˆë¬¸)

### Q1. ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤, ì–´ë–¤ ê²ƒì„ ì„ íƒí•´ì•¼ í•˜ë‚˜ìš”?

**A:** ë‹¤ìŒ ê¸°ì¤€ìœ¼ë¡œ ì„ íƒí•˜ì„¸ìš”:

**ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì„ íƒí•´ì•¼ í•  ë•Œ:**
- âœ… ê³µí†µ í•„ë“œ(ìƒíƒœ)ë¥¼ ê°€ì ¸ì•¼ í•  ë•Œ
- âœ… ê³µí†µ ë©”ì„œë“œ êµ¬í˜„ì„ ê³µìœ í•´ì•¼ í•  ë•Œ
- âœ… ìƒì„±ì ë¡œì§ì„ ê³µìœ í•´ì•¼ í•  ë•Œ
- âœ… IS-A ê´€ê³„ê°€ ëª…í™•í•  ë•Œ (ì˜ˆ: "ì‹ ìš©ì¹´ë“œ ê²°ì œëŠ” ê²°ì œ í”„ë¡œì„¸ì„œë‹¤")
- âœ… í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ

**ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„ íƒí•´ì•¼ í•  ë•Œ:**
- âœ… ë‹¤ì¤‘ ìƒì†ì´ í•„ìš”í•  ë•Œ
- âœ… ì„œë¡œ ê´€ë ¨ ì—†ëŠ” í´ë˜ìŠ¤ë“¤ì´ ê°™ì€ ë™ì‘ì„ í•´ì•¼ í•  ë•Œ
- âœ… êµ¬í˜„ì„ ì „í˜€ ê³µìœ í•˜ì§€ ì•Šì„ ë•Œ
- âœ… CAN-DO ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¼ ë•Œ (ì˜ˆ: "ìƒˆëŠ” ë‚  ìˆ˜ ìˆë‹¤")

```java
// ì¶”ìƒ í´ë˜ìŠ¤: ê³µí†µ ë¡œì§ì´ ë§ì„ ë•Œ
abstract class Animal {
    protected String name;  // ê³µí†µ í•„ë“œ

    public Animal(String name) {  // ê³µí†µ ìƒì„±ì
        this.name = name;
    }

    public void breathe() {  // ê³µí†µ ë©”ì„œë“œ
        System.out.println(name + "ì´(ê°€) ìˆ¨ì„ ì‰½ë‹ˆë‹¤");
    }

    public abstract void makeSound();  // ì¶”ìƒ ë©”ì„œë“œ
}

// ì¸í„°í˜ì´ìŠ¤: ëŠ¥ë ¥(í–‰ìœ„)ë§Œ ì •ì˜
interface Flyable {
    void fly();  // êµ¬í˜„ ì—†ìŒ
}

interface Swimmable {
    void swim();  // êµ¬í˜„ ì—†ìŒ
}

// ë‹¤ì¤‘ ìƒì† ì˜ˆì œ
class Duck extends Animal implements Flyable, Swimmable {
    public Duck(String name) {
        super(name);
    }

    @Override
    public void makeSound() {
        System.out.println("ê½¥ê½¥!");
    }

    @Override
    public void fly() {
        System.out.println(name + "ì´(ê°€) ë‚ ì•„ê°‘ë‹ˆë‹¤");
    }

    @Override
    public void swim() {
        System.out.println(name + "ì´(ê°€) ìˆ˜ì˜í•©ë‹ˆë‹¤");
    }
}
```

---

### Q2. ì¶”ìƒ í´ë˜ìŠ¤ì—ë„ ìƒì„±ìê°€ í•„ìš”í•œê°€ìš”?

**A:** ë„¤, ì¶”ìƒ í´ë˜ìŠ¤ë„ ìƒì„±ìë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê³ , ëŒ€ë¶€ë¶„ì˜ ê²½ìš° í•„ìš”í•©ë‹ˆë‹¤!

```java
abstract class Vehicle {
    protected String manufacturer;
    protected String model;
    protected int year;

    // ì¶”ìƒ í´ë˜ìŠ¤ì˜ ìƒì„±ì
    public Vehicle(String manufacturer, String model, int year) {
        this.manufacturer = manufacturer;
        this.model = model;
        this.year = year;

        System.out.println("Vehicle ìƒì„±ì í˜¸ì¶œ");
    }

    public abstract void start();
}

class Car extends Vehicle {
    private int doors;

    public Car(String manufacturer, String model, int year, int doors) {
        // ë¶€ëª¨ ìƒì„±ì í˜¸ì¶œ (í•„ìˆ˜!)
        super(manufacturer, model, year);
        this.doors = doors;

        System.out.println("Car ìƒì„±ì í˜¸ì¶œ");
    }

    @Override
    public void start() {
        System.out.println("ìë™ì°¨ ì‹œë™ì„ ê²ë‹ˆë‹¤");
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        Car car = new Car("í˜„ëŒ€", "ì†Œë‚˜íƒ€", 2024, 4);
        // ì¶œë ¥:
        // Vehicle ìƒì„±ì í˜¸ì¶œ
        // Car ìƒì„±ì í˜¸ì¶œ
    }
}
```

**í•µì‹¬:**
- ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ì—†ì§€ë§Œ, ìƒì„±ìëŠ” ê°€ì§ˆ ìˆ˜ ìˆìŒ
- í•˜ìœ„ í´ë˜ìŠ¤ì˜ ìƒì„±ìì—ì„œ `super()`ë¡œ ë¶€ëª¨ ìƒì„±ìë¥¼ ë°˜ë“œì‹œ í˜¸ì¶œí•´ì•¼ í•¨
- ë¶€ëª¨ í´ë˜ìŠ¤ì˜ í•„ë“œë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë¨

---

### Q3. ì¶”ìƒ ë©”ì„œë“œëŠ” ì™œ privateì¼ ìˆ˜ ì—†ë‚˜ìš”?

**A:** ì¶”ìƒ ë©”ì„œë“œì˜ ëª©ì ì€ "í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•˜ë¼"ëŠ” ê²ƒì¸ë°, privateì´ë©´ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤!

```java
abstract class Example_Wrong {
    // ì»´íŒŒì¼ ì—ëŸ¬!
    // private abstract void doSomething();
    // Error: Illegal combination of modifiers: 'abstract' and 'private'
}

abstract class Example_Correct {
    // âœ… public: ì–´ë””ì„œë“  ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥
    public abstract void publicMethod();

    // âœ… protected: í•˜ìœ„ í´ë˜ìŠ¤ì™€ ê°™ì€ íŒ¨í‚¤ì§€ì—ì„œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥
    protected abstract void protectedMethod();

    // âœ… default (package-private): ê°™ì€ íŒ¨í‚¤ì§€ ë‚´ì—ì„œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥
    abstract void defaultMethod();

    // âŒ private: ë¶ˆê°€ëŠ¥ (í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì ‘ê·¼ ë¶ˆê°€)
}
```

**ê°€ëŠ¥í•œ ì¡°í•©:**
- âœ… `public abstract`
- âœ… `protected abstract`
- âœ… `abstract` (default)
- âŒ `private abstract` (ë¶ˆê°€ëŠ¥!)
- âŒ `static abstract` (ë¶ˆê°€ëŠ¥!)
- âŒ `final abstract` (ë¶ˆê°€ëŠ¥! - finalì€ ì˜¤ë²„ë¼ì´ë“œ ê¸ˆì§€, abstractëŠ” ì˜¤ë²„ë¼ì´ë“œ ê°•ì œ)

---

### Q4. ì¶”ìƒ í´ë˜ìŠ¤ì— ì¶”ìƒ ë©”ì„œë“œê°€ í•˜ë‚˜ë„ ì—†ì–´ë„ ë˜ë‚˜ìš”?

**A:** ë„¤, ê°€ëŠ¥í•©ë‹ˆë‹¤! ì¶”ìƒ ë©”ì„œë“œê°€ ì—†ì–´ë„ `abstract` í‚¤ì›Œë“œë§Œ ìˆìœ¼ë©´ ì¶”ìƒ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.

```java
// ì¶”ìƒ ë©”ì„œë“œê°€ ì—†ëŠ” ì¶”ìƒ í´ë˜ìŠ¤
abstract class BaseConfig {
    protected String appName;
    protected String version;

    public BaseConfig(String appName, String version) {
        this.appName = appName;
        this.version = version;
    }

    public void printInfo() {
        System.out.println("ì•± ì´ë¦„: " + appName);
        System.out.println("ë²„ì „: " + version);
    }

    // ì¶”ìƒ ë©”ì„œë“œê°€ í•˜ë‚˜ë„ ì—†ìŒ!
}

// í•˜ìœ„ í´ë˜ìŠ¤
class ProductionConfig extends BaseConfig {
    public ProductionConfig() {
        super("MyApp", "1.0.0");
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        // BaseConfig config = new BaseConfig("test", "1.0");  // ì»´íŒŒì¼ ì—ëŸ¬!
        BaseConfig config = new ProductionConfig();  // âœ… OK
        config.printInfo();
    }
}
```

**ì™œ ì´ë ‡ê²Œ ì‚¬ìš©í•˜ë‚˜ìš”?**
- ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ ë°©ì§€í•˜ê³  ì‹¶ì„ ë•Œ
- í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ í†µí•´ì„œë§Œ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œí•˜ê³  ì‹¶ì„ ë•Œ
- ê³µí†µ ë¡œì§ì€ ì œê³µí•˜ë˜, ì§ì ‘ ì‚¬ìš©ì€ ë§‰ê³  ì‹¶ì„ ë•Œ

---

### Q5. ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤ê°€ ë˜ ë‹¤ë¥¸ ì¶”ìƒ í´ë˜ìŠ¤ì¼ ìˆ˜ ìˆë‚˜ìš”?

**A:** ë„¤, ê°€ëŠ¥í•©ë‹ˆë‹¤! ì¶”ìƒ í´ë˜ìŠ¤ê°€ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì„ ìˆ˜ ìˆê³ , ë¶€ëª¨ì˜ ì¶”ìƒ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

```java
// ìµœìƒìœ„ ì¶”ìƒ í´ë˜ìŠ¤
abstract class Shape {
    protected String color;

    public Shape(String color) {
        this.color = color;
    }

    public abstract double getArea();
    public abstract double getPerimeter();
    public abstract void draw();
}

// ì¤‘ê°„ ì¶”ìƒ í´ë˜ìŠ¤ - Shapeë¥¼ ìƒì†ë°›ì§€ë§Œ ì¼ë¶€ë§Œ êµ¬í˜„
abstract class Polygon extends Shape {
    protected int sides;

    public Polygon(String color, int sides) {
        super(color);
        this.sides = sides;
    }

    // getArea()ì™€ draw()ëŠ” êµ¬í˜„í•˜ì§€ ì•ŠìŒ (ì—¬ì „íˆ ì¶”ìƒ)

    // getPerimeter()ë§Œ êµ¬í˜„
    @Override
    public double getPerimeter() {
        System.out.println(sides + "ê°í˜•ì˜ ë‘˜ë ˆ ê³„ì‚°");
        return 0; // ë‹¨ìˆœí™”
    }
}

// êµ¬ì²´ í´ë˜ìŠ¤ - ëª¨ë“  ì¶”ìƒ ë©”ì„œë“œë¥¼ êµ¬í˜„
class Triangle extends Polygon {
    private double base;
    private double height;

    public Triangle(String color, double base, double height) {
        super(color, 3);
        this.base = base;
        this.height = height;
    }

    @Override
    public double getArea() {
        return (base * height) / 2;
    }

    @Override
    public void draw() {
        System.out.println(color + " ì‚¼ê°í˜•ì„ ê·¸ë¦½ë‹ˆë‹¤");
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        // Shape shape = new Shape("red");       // ì»´íŒŒì¼ ì—ëŸ¬!
        // Polygon polygon = new Polygon("blue", 4);  // ì»´íŒŒì¼ ì—ëŸ¬!

        Triangle triangle = new Triangle("green", 10, 5);  // âœ… OK
        System.out.println("ë„“ì´: " + triangle.getArea());
        triangle.draw();
    }
}
```

**ì–¸ì œ ìœ ìš©í•œê°€ìš”?**
- ìƒì† ê³„ì¸µì´ ê¹Šì„ ë•Œ
- ì¼ë¶€ ë©”ì„œë“œë§Œ ì¤‘ê°„ì—ì„œ êµ¬í˜„í•˜ê³  ì‹¶ì„ ë•Œ
- ì ì§„ì ìœ¼ë¡œ ì¶”ìƒí™”ë¥¼ êµ¬ì²´í™”í•˜ê³  ì‹¶ì„ ë•Œ

---

### Q6. final ë©”ì„œë“œì™€ ì¶”ìƒ ë©”ì„œë“œë¥¼ ê°™ì€ í´ë˜ìŠ¤ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?

**A:** ë„¤, ê°€ëŠ¥í•©ë‹ˆë‹¤! ì´ê²ƒì´ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì˜ í•µì‹¬ì…ë‹ˆë‹¤.

```java
abstract class DataProcessor {

    /**
     * í…œí”Œë¦¿ ë©”ì„œë“œ - finalë¡œ ë³´í˜¸
     * ì „ì²´ ì•Œê³ ë¦¬ì¦˜ì˜ íë¦„ì„ ì •ì˜
     */
    public final void process() {
        System.out.println("=== ë°ì´í„° ì²˜ë¦¬ ì‹œì‘ ===");

        // 1. ë°ì´í„° ë¡œë“œ (ì¶”ìƒ ë©”ì„œë“œ - í•˜ìœ„ í´ë˜ìŠ¤ê°€ êµ¬í˜„)
        loadData();

        // 2. ë°ì´í„° ê²€ì¦ (ê³µí†µ ë©”ì„œë“œ)
        validateData();

        // 3. ë°ì´í„° ë³€í™˜ (ì¶”ìƒ ë©”ì„œë“œ - í•˜ìœ„ í´ë˜ìŠ¤ê°€ êµ¬í˜„)
        transformData();

        // 4. ë°ì´í„° ì €ì¥ (ì¶”ìƒ ë©”ì„œë“œ - í•˜ìœ„ í´ë˜ìŠ¤ê°€ êµ¬í˜„)
        saveData();

        // 5. ë¡œê·¸ ê¸°ë¡ (ê³µí†µ ë©”ì„œë“œ)
        logCompletion();

        System.out.println("=== ë°ì´í„° ì²˜ë¦¬ ì™„ë£Œ ===\n");
    }

    // ì¶”ìƒ ë©”ì„œë“œë“¤
    protected abstract void loadData();
    protected abstract void transformData();
    protected abstract void saveData();

    // ê³µí†µ ë©”ì„œë“œ
    private void validateData() {
        System.out.println("  [ê³µí†µ] ë°ì´í„° ê²€ì¦ ì¤‘...");
    }

    private void logCompletion() {
        System.out.println("  [ê³µí†µ] ë¡œê·¸ ê¸°ë¡ ì™„ë£Œ");
    }
}

class CsvDataProcessor extends DataProcessor {
    @Override
    protected void loadData() {
        System.out.println("  CSV íŒŒì¼ ë¡œë“œ");
    }

    @Override
    protected void transformData() {
        System.out.println("  CSV ë°ì´í„° ë³€í™˜");
    }

    @Override
    protected void saveData() {
        System.out.println("  CSV ë°ì´í„° ì €ì¥");
    }

    // process() ë©”ì„œë“œëŠ” finalì´ë¯€ë¡œ ì˜¤ë²„ë¼ì´ë“œ ë¶ˆê°€!
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        DataProcessor processor = new CsvDataProcessor();
        processor.process();

        // ì¶œë ¥:
        // === ë°ì´í„° ì²˜ë¦¬ ì‹œì‘ ===
        //   CSV íŒŒì¼ ë¡œë“œ
        //   [ê³µí†µ] ë°ì´í„° ê²€ì¦ ì¤‘...
        //   CSV ë°ì´í„° ë³€í™˜
        //   CSV ë°ì´í„° ì €ì¥
        //   [ê³µí†µ] ë¡œê·¸ ê¸°ë¡ ì™„ë£Œ
        // === ë°ì´í„° ì²˜ë¦¬ ì™„ë£Œ ===
    }
}
```

**í•µì‹¬ ì›ì¹™:**
- **final ë©”ì„œë“œ**: ì „ì²´ íë¦„ì„ ì •ì˜í•˜ê³  ë³´í˜¸ (í…œí”Œë¦¿)
- **ì¶”ìƒ ë©”ì„œë“œ**: ì„¸ë¶€ êµ¬í˜„ì„ í•˜ìœ„ í´ë˜ìŠ¤ì— ìœ„ì„
- **ì¼ë°˜ ë©”ì„œë“œ**: ê³µí†µ ë¡œì§ ì œê³µ

---

### Q7. ì¶”ìƒ í´ë˜ìŠ¤ì—ì„œ static ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?

**A:** ë„¤, ê°€ëŠ¥í•©ë‹ˆë‹¤! ì¶”ìƒ í´ë˜ìŠ¤ë„ ì¼ë°˜ í´ë˜ìŠ¤ì²˜ëŸ¼ static ë©”ì„œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
abstract class MathOperation {

    // static ë©”ì„œë“œ - ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œë¡œ ì‚¬ìš©
    public static int add(int a, int b) {
        return a + b;
    }

    public static int multiply(int a, int b) {
        return a * b;
    }

    // ì¶”ìƒ ë©”ì„œë“œ
    public abstract int calculate(int x, int y);

    // staticê³¼ abstractë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ!
    // public static abstract int wrong();  // ì»´íŒŒì¼ ì—ëŸ¬!
}

class Addition extends MathOperation {
    @Override
    public int calculate(int x, int y) {
        return x + y;
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        // static ë©”ì„œë“œëŠ” í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥
        int sum = MathOperation.add(10, 20);
        System.out.println("í•©: " + sum);

        // ì¶”ìƒ ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥
        MathOperation op = new Addition();
        int result = op.calculate(10, 20);
        System.out.println("ê²°ê³¼: " + result);
    }
}
```

**ì£¼ì˜ì‚¬í•­:**
- âœ… `public static void method() { }` - ê°€ëŠ¥
- âŒ `public static abstract void method();` - ë¶ˆê°€ëŠ¥!
- static ë©”ì„œë“œëŠ” ì˜¤ë²„ë¼ì´ë“œë˜ì§€ ì•Šìœ¼ë¯€ë¡œ abstractì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ

---

## ğŸ¤ ë©´ì ‘ ì§ˆë¬¸ ë° ë‹µë³€

### ì£¼ë‹ˆì–´ ë ˆë²¨ (Junior Level)

#### Q1. ì¶”ìƒ í´ë˜ìŠ¤ë€ ë¬´ì—‡ì´ë©°, ì¼ë°˜ í´ë˜ìŠ¤ì™€ ì–´ë–¤ ì°¨ì´ê°€ ìˆë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**

ì¶”ìƒ í´ë˜ìŠ¤ëŠ” `abstract` í‚¤ì›Œë“œë¡œ ì„ ì–¸ëœ ë¶ˆì™„ì „í•œ í´ë˜ìŠ¤ë¡œ, ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ì—†ê³  ë°˜ë“œì‹œ ìƒì†ì„ í†µí•´ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì£¼ìš” ì°¨ì´ì :**

1. **ì¸ìŠ¤í„´ìŠ¤í™” ë¶ˆê°€**
   - ì¼ë°˜ í´ë˜ìŠ¤: `new ClassName()`ë¡œ ê°ì²´ ìƒì„± ê°€ëŠ¥
   - ì¶”ìƒ í´ë˜ìŠ¤: ì§ì ‘ ê°ì²´ ìƒì„± ë¶ˆê°€, í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ í†µí•´ì„œë§Œ ì‚¬ìš©

2. **ì¶”ìƒ ë©”ì„œë“œ í¬í•¨ ê°€ëŠ¥**
   - ì¼ë°˜ í´ë˜ìŠ¤: ëª¨ë“  ë©”ì„œë“œê°€ êµ¬í˜„ì„ ê°€ì ¸ì•¼ í•¨
   - ì¶”ìƒ í´ë˜ìŠ¤: êµ¬í˜„ì´ ì—†ëŠ” ì¶”ìƒ ë©”ì„œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ

3. **ëª©ì **
   - ì¼ë°˜ í´ë˜ìŠ¤: ì§ì ‘ ì‚¬ìš© ê°€ëŠ¥í•œ ì™„ì „í•œ í´ë˜ìŠ¤
   - ì¶”ìƒ í´ë˜ìŠ¤: ê³µí†µ ê¸°ëŠ¥ì„ ì •ì˜í•˜ê³  í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì„¸ë¶€ êµ¬í˜„ì„ ì™„ì„±í•˜ë„ë¡ ê°•ì œ

```java
// ì¼ë°˜ í´ë˜ìŠ¤
class Dog {
    public void bark() {
        System.out.println("ë©ë©!");
    }
}

// ì¶”ìƒ í´ë˜ìŠ¤
abstract class Animal {
    public abstract void makeSound();  // ì¶”ìƒ ë©”ì„œë“œ

    public void breathe() {  // ì¼ë°˜ ë©”ì„œë“œ
        System.out.println("ìˆ¨ì„ ì‰½ë‹ˆë‹¤");
    }
}

// ì‚¬ìš©
Dog dog = new Dog();  // âœ… ê°€ëŠ¥
// Animal animal = new Animal();  // âŒ ë¶ˆê°€ëŠ¥ (ì»´íŒŒì¼ ì—ëŸ¬)
```

---

#### Q2. ì¶”ìƒ ë©”ì„œë“œëŠ” ë¬´ì—‡ì´ë©°, ì™œ ì‚¬ìš©í•˜ë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**

ì¶”ìƒ ë©”ì„œë“œëŠ” ì„ ì–¸ë§Œ ìˆê³  êµ¬í˜„(ë©”ì„œë“œ ë³¸ë¬¸)ì´ ì—†ëŠ” ë©”ì„œë“œë¡œ, `abstract` í‚¤ì›Œë“œë¡œ ì„ ì–¸ë©ë‹ˆë‹¤. í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.

**ì‚¬ìš© ì´ìœ :**

1. **êµ¬í˜„ ê°•ì œ**: í•˜ìœ„ í´ë˜ìŠ¤ê°€ íŠ¹ì • ë©”ì„œë“œë¥¼ ë°˜ë“œì‹œ êµ¬í˜„í•˜ë„ë¡ ê°•ì œ
2. **ë‹¤í˜•ì„± ë³´ì¥**: ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì°¸ì¡°í•´ë„ ê° í•˜ìœ„ í´ë˜ìŠ¤ì˜ ê³ ìœ í•œ ë™ì‘ í˜¸ì¶œ ê°€ëŠ¥
3. **ì„¤ê³„ ì¼ê´€ì„±**: ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ê°€ ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µ

```java
abstract class Shape {
    // ì¶”ìƒ ë©”ì„œë“œ - êµ¬í˜„ ì—†ìŒ
    public abstract double getArea();
    public abstract double getPerimeter();
}

class Circle extends Shape {
    private double radius;

    public Circle(double radius) {
        this.radius = radius;
    }

    // ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•¨!
    @Override
    public double getArea() {
        return Math.PI * radius * radius;
    }

    @Override
    public double getPerimeter() {
        return 2 * Math.PI * radius;
    }
}
```

---

#### Q3. ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ì˜ ì°¨ì´ì ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.

**ëª¨ë²” ë‹µë³€:**

| êµ¬ë¶„ | ì¶”ìƒ í´ë˜ìŠ¤ | ì¸í„°í˜ì´ìŠ¤ |
|------|-------------|-----------|
| **ìƒì†** | ë‹¨ì¼ ìƒì†ë§Œ ê°€ëŠ¥ | ë‹¤ì¤‘ êµ¬í˜„ ê°€ëŠ¥ |
| **í•„ë“œ** | ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ê°€ëŠ¥ | ìƒìˆ˜ë§Œ ê°€ëŠ¥ (public static final) |
| **ë©”ì„œë“œ** | ì¶”ìƒ/ì¼ë°˜/static/final ëª¨ë‘ ê°€ëŠ¥ | ì¶”ìƒ/default/static ê°€ëŠ¥ (Java 8+) |
| **ìƒì„±ì** | ê°€ì§ˆ ìˆ˜ ìˆìŒ | ê°€ì§ˆ ìˆ˜ ì—†ìŒ |
| **ì ‘ê·¼ ì œì–´ì** | ëª¨ë“  ì ‘ê·¼ ì œì–´ì ê°€ëŠ¥ | publicë§Œ ê°€ëŠ¥ |
| **ê´€ê³„** | IS-A (ìƒì† ê´€ê³„) | CAN-DO (ëŠ¥ë ¥/í–‰ìœ„) |

```java
// ì¶”ìƒ í´ë˜ìŠ¤
abstract class Animal {
    protected String name;  // ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜

    public Animal(String name) {  // ìƒì„±ì
        this.name = name;
    }

    public void sleep() {  // ì¼ë°˜ ë©”ì„œë“œ
        System.out.println(name + "ì´(ê°€) ì ì„ ì¡ë‹ˆë‹¤");
    }

    public abstract void makeSound();  // ì¶”ìƒ ë©”ì„œë“œ
}

// ì¸í„°í˜ì´ìŠ¤
interface Flyable {
    // ìƒìˆ˜ë§Œ ê°€ëŠ¥
    int MAX_ALTITUDE = 10000;

    // ì¶”ìƒ ë©”ì„œë“œ
    void fly();
    void land();

    // default ë©”ì„œë“œ (Java 8+)
    default void takeOff() {
        System.out.println("ì´ë¥™í•©ë‹ˆë‹¤");
    }
}

// ì‚¬ìš©
class Bird extends Animal implements Flyable {
    public Bird(String name) {
        super(name);
    }

    @Override
    public void makeSound() {
        System.out.println("ì§¹ì§¹!");
    }

    @Override
    public void fly() {
        System.out.println(name + "ì´(ê°€) ë‚ ì•„ê°‘ë‹ˆë‹¤");
    }

    @Override
    public void land() {
        System.out.println(name + "ì´(ê°€) ì°©ë¥™í•©ë‹ˆë‹¤");
    }
}
```

**ì„ íƒ ê¸°ì¤€:**
- ê³µí†µ ìƒíƒœ(í•„ë“œ)ì™€ ë¡œì§ì„ ê³µìœ í•´ì•¼ í•œë‹¤ë©´ â†’ **ì¶”ìƒ í´ë˜ìŠ¤**
- ë‹¤ì¤‘ ìƒì†ì´ í•„ìš”í•˜ê±°ë‚˜ í–‰ìœ„ë§Œ ì •ì˜í•œë‹¤ë©´ â†’ **ì¸í„°í˜ì´ìŠ¤**

---

#### Q4. ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì™œ ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ì—†ë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**

ì¶”ìƒ í´ë˜ìŠ¤ëŠ” "ë¶ˆì™„ì „í•œ í´ë˜ìŠ¤"ì´ê¸° ë•Œë¬¸ì— ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

**ì´ìœ :**

1. **êµ¬í˜„ë˜ì§€ ì•Šì€ ë©”ì„œë“œ ì¡´ì¬**
   - ì¶”ìƒ ë©”ì„œë“œëŠ” ë©”ì„œë“œ ë³¸ë¬¸(êµ¬í˜„)ì´ ì—†ìŒ
   - ë§Œì•½ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ë©´, êµ¬í˜„ì´ ì—†ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë¬¸ì œ ë°œìƒ

2. **ì„¤ê³„ ì˜ë„**
   - ì¶”ìƒ í´ë˜ìŠ¤ëŠ” "ì„¤ê³„ë„" ì—­í• 
   - ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ "ì™„ì œí’ˆ"ì€ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë§Œë“¤ì–´ì•¼ í•¨

3. **ë‹¤í˜•ì„±ì„ ìœ„í•œ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©**
   - ì¶”ìƒ í´ë˜ìŠ¤ëŠ” íƒ€ì…ìœ¼ë¡œëŠ” ì‚¬ìš© ê°€ëŠ¥
   - ì‹¤ì œ ê°ì²´ëŠ” í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤

```java
abstract class Vehicle {
    public abstract void start();  // êµ¬í˜„ ì—†ìŒ!
}

class Car extends Vehicle {
    @Override
    public void start() {
        System.out.println("ìë™ì°¨ ì‹œë™");
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        // Vehicle v = new Vehicle();  // âŒ ì»´íŒŒì¼ ì—ëŸ¬!
        // start() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í• ê¹Œ? êµ¬í˜„ì´ ì—†ìœ¼ë‹ˆ ë¶ˆê°€ëŠ¥!

        Vehicle v = new Car();  // âœ… OK
        v.start();  // "ìë™ì°¨ ì‹œë™" ì¶œë ¥
    }
}
```

---

#### Q5. ì¶”ìƒ í´ë˜ìŠ¤ì—ë„ ìƒì„±ìê°€ í•„ìš”í•œê°€ìš”?

**ëª¨ë²” ë‹µë³€:**

ë„¤, ì¶”ìƒ í´ë˜ìŠ¤ë„ ìƒì„±ìë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê³ , ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ìœ ìš©í•©ë‹ˆë‹¤.

**ìƒì„±ìê°€ í•„ìš”í•œ ì´ìœ :**

1. **ë¶€ëª¨ í´ë˜ìŠ¤ì˜ í•„ë“œ ì´ˆê¸°í™”**
   - ì¶”ìƒ í´ë˜ìŠ¤ë„ í•„ë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ
   - ì´ í•„ë“œë“¤ì„ ì´ˆê¸°í™”í•˜ê¸° ìœ„í•´ ìƒì„±ì í•„ìš”

2. **í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ í˜¸ì¶œ**
   - í•˜ìœ„ í´ë˜ìŠ¤ì˜ ìƒì„±ìì—ì„œ `super()`ë¡œ í˜¸ì¶œ
   - ë¶€ëª¨ì˜ ì´ˆê¸°í™” ë¡œì§ ì‹¤í–‰

3. **ê³µí†µ ì´ˆê¸°í™” ë¡œì§**
   - ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ì— ê³µí†µìœ¼ë¡œ í•„ìš”í•œ ì´ˆê¸°í™”ë¥¼ í•œ ê³³ì—ì„œ ì²˜ë¦¬

```java
abstract class Employee {
    protected String name;
    protected String id;
    protected int baseSalary;

    // ì¶”ìƒ í´ë˜ìŠ¤ì˜ ìƒì„±ì
    public Employee(String name, String id, int baseSalary) {
        this.name = name;
        this.id = id;
        this.baseSalary = baseSalary;

        System.out.println("ì§ì› ë“±ë¡: " + name);
    }

    public abstract int calculateSalary();
}

class FullTimeEmployee extends Employee {
    private int bonus;

    public FullTimeEmployee(String name, String id, int baseSalary, int bonus) {
        super(name, id, baseSalary);  // ë¶€ëª¨ ìƒì„±ì í˜¸ì¶œ (í•„ìˆ˜!)
        this.bonus = bonus;
    }

    @Override
    public int calculateSalary() {
        return baseSalary + bonus;
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        Employee emp = new FullTimeEmployee("ê¹€ì² ìˆ˜", "EMP001", 3000000, 500000);
        // ì¶œë ¥: ì§ì› ë“±ë¡: ê¹€ì² ìˆ˜

        System.out.println("ê¸‰ì—¬: " + emp.calculateSalary());
        // ì¶œë ¥: ê¸‰ì—¬: 3500000
    }
}
```

**í•µì‹¬:**
- ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ì—†ì§€ë§Œ, ìƒì„±ìëŠ” ê°€ì§ˆ ìˆ˜ ìˆìŒ
- í•˜ìœ„ í´ë˜ìŠ¤ ê°ì²´ê°€ ìƒì„±ë  ë•Œ ë¶€ëª¨ ìƒì„±ìê°€ ë¨¼ì € ì‹¤í–‰ë¨

---

#### Q6. final ë©”ì„œë“œì™€ ì¶”ìƒ ë©”ì„œë“œì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

**ëª¨ë²” ë‹µë³€:**

final ë©”ì„œë“œì™€ ì¶”ìƒ ë©”ì„œë“œëŠ” ì •ë°˜ëŒ€ì˜ ê°œë…ì…ë‹ˆë‹¤.

| êµ¬ë¶„ | final ë©”ì„œë“œ | ì¶”ìƒ ë©”ì„œë“œ |
|------|-------------|------------|
| **êµ¬í˜„** | ë°˜ë“œì‹œ êµ¬í˜„ì´ ìˆì–´ì•¼ í•¨ | êµ¬í˜„ì´ ì—†ìŒ (ì„ ì–¸ë§Œ) |
| **ì˜¤ë²„ë¼ì´ë“œ** | ì˜¤ë²„ë¼ì´ë“œ ë¶ˆê°€ëŠ¥ (ê¸ˆì§€) | ì˜¤ë²„ë¼ì´ë“œ í•„ìˆ˜ (ê°•ì œ) |
| **ëª©ì ** | ë©”ì„œë“œ ë³€ê²½ ë°©ì§€ | í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ ê°•ì œ |
| **ìœ„ì¹˜** | ì¼ë°˜/ì¶”ìƒ í´ë˜ìŠ¤ ëª¨ë‘ ê°€ëŠ¥ | ì¶”ìƒ í´ë˜ìŠ¤ì—ë§Œ ê°€ëŠ¥ |

```java
abstract class Game {

    /**
     * final ë©”ì„œë“œ - ê²Œì„ì˜ ì „ì²´ íë¦„ (ë³€ê²½ ë¶ˆê°€)
     */
    public final void play() {
        start();
        playTurn();
        end();
    }

    /**
     * ì¶”ìƒ ë©”ì„œë“œ - í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ í•„ìˆ˜
     */
    public abstract void start();
    public abstract void playTurn();
    public abstract void end();
}

class ChessGame extends Game {

    // play() ë©”ì„œë“œëŠ” finalì´ë¯€ë¡œ ì˜¤ë²„ë¼ì´ë“œ ë¶ˆê°€!
    // @Override
    // public void play() { }  // ì»´íŒŒì¼ ì—ëŸ¬!

    // ì¶”ìƒ ë©”ì„œë“œëŠ” ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•¨
    @Override
    public void start() {
        System.out.println("ì²´ìŠ¤ ê²Œì„ ì‹œì‘");
    }

    @Override
    public void playTurn() {
        System.out.println("ì²´ìŠ¤ í„´ ì§„í–‰");
    }

    @Override
    public void end() {
        System.out.println("ì²´ìŠ¤ ê²Œì„ ì¢…ë£Œ");
    }
}
```

**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**
- **final ë©”ì„œë“œ**: í•µì‹¬ ë¡œì§ì„ ë³´í˜¸í•˜ê³  ì‹¶ì„ ë•Œ (í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´)
- **ì¶”ìƒ ë©”ì„œë“œ**: í•˜ìœ„ í´ë˜ìŠ¤ë§ˆë‹¤ ë‹¤ë¥¸ êµ¬í˜„ì´ í•„ìš”í•  ë•Œ

---

#### Q7. ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ìœ¼ë©´ ë°˜ë“œì‹œ ëª¨ë“  ì¶”ìƒ ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•˜ë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**

ì¼ë°˜ì ìœ¼ë¡œëŠ” **ì˜ˆ**ì´ì§€ë§Œ, ì˜ˆì™¸ê°€ ìˆìŠµë‹ˆë‹¤.

**ê²½ìš° 1: êµ¬ì²´ í´ë˜ìŠ¤ (Concrete Class)**
- ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ê°€ ì¼ë°˜ í´ë˜ìŠ¤ë¼ë©´, ëª¨ë“  ì¶”ìƒ ë©”ì„œë“œë¥¼ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•¨
- í•˜ë‚˜ë¼ë„ êµ¬í˜„í•˜ì§€ ì•Šìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬

**ê²½ìš° 2: ë˜ ë‹¤ë¥¸ ì¶”ìƒ í´ë˜ìŠ¤**
- ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ê°€ ë˜ ë‹¤ë¥¸ ì¶”ìƒ í´ë˜ìŠ¤ë¼ë©´, êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë¨
- ì¶”ìƒ ë©”ì„œë“œë¥¼ ê·¸ëŒ€ë¡œ ë¬¼ë ¤ë°›ìŒ

```java
// ìµœìƒìœ„ ì¶”ìƒ í´ë˜ìŠ¤
abstract class Animal {
    public abstract void eat();
    public abstract void sleep();
    public abstract void makeSound();
}

// ê²½ìš° 1: ì¼ë°˜ í´ë˜ìŠ¤ - ëª¨ë“  ì¶”ìƒ ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•¨
class Dog extends Animal {
    @Override
    public void eat() {
        System.out.println("ê°œê°€ ë¨¹ì´ë¥¼ ë¨¹ìŠµë‹ˆë‹¤");
    }

    @Override
    public void sleep() {
        System.out.println("ê°œê°€ ì ì„ ì¡ë‹ˆë‹¤");
    }

    @Override
    public void makeSound() {
        System.out.println("ë©ë©!");
    }
}

// ê²½ìš° 2: ì¶”ìƒ í´ë˜ìŠ¤ - ì¼ë¶€ë§Œ êµ¬í˜„í•´ë„ ë¨
abstract class Mammal extends Animal {
    // eat()ê³¼ sleep()ë§Œ êµ¬í˜„
    @Override
    public void eat() {
        System.out.println("í¬ìœ ë¥˜ê°€ ë¨¹ì´ë¥¼ ë¨¹ìŠµë‹ˆë‹¤");
    }

    @Override
    public void sleep() {
        System.out.println("í¬ìœ ë¥˜ê°€ ì ì„ ì¡ë‹ˆë‹¤");
    }

    // makeSound()ëŠ” êµ¬í˜„í•˜ì§€ ì•ŠìŒ (ì—¬ì „íˆ ì¶”ìƒ)
}

// Mammalì„ ìƒì†ë°›ëŠ” êµ¬ì²´ í´ë˜ìŠ¤
class Cat extends Mammal {
    // eat()ê³¼ sleep()ì€ ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆìŒ
    // makeSound()ë§Œ êµ¬í˜„í•˜ë©´ ë¨
    @Override
    public void makeSound() {
        System.out.println("ì•¼ì˜¹!");
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        // Animal animal = new Animal();  // âŒ ë¶ˆê°€ëŠ¥
        // Mammal mammal = new Mammal();  // âŒ ë¶ˆê°€ëŠ¥

        Animal dog = new Dog();  // âœ… OK
        dog.eat();
        dog.sleep();
        dog.makeSound();

        Animal cat = new Cat();  // âœ… OK
        cat.eat();      // Mammalì˜ êµ¬í˜„ ì‚¬ìš©
        cat.sleep();    // Mammalì˜ êµ¬í˜„ ì‚¬ìš©
        cat.makeSound();  // Catì˜ êµ¬í˜„ ì‚¬ìš©
    }
}
```

---

### ì¤‘ê¸‰ ë ˆë²¨ (Intermediate Level)

#### Q8. í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ì„¤ëª…í•˜ê³ , ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì–´ë–¤ ê´€ë ¨ì´ ìˆë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**

í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì€ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°(ê³¨ê²©)ë¥¼ ë¶€ëª¨ í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•˜ê³ , ì„¸ë¶€ êµ¬í˜„ì€ í•˜ìœ„ í´ë˜ìŠ¤ì— ìœ„ì„í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤. ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.

**í•µì‹¬ êµ¬ì„± ìš”ì†Œ:**

1. **í…œí”Œë¦¿ ë©”ì„œë“œ** (final ë©”ì„œë“œ)
   - ì•Œê³ ë¦¬ì¦˜ì˜ ì „ì²´ íë¦„ì„ ì •ì˜
   - í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ finalë¡œ ì„ ì–¸

2. **ì¶”ìƒ ë©”ì„œë“œ**
   - í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë‹¨ê³„

3. **Hook ë©”ì„œë“œ**
   - ì„ íƒì ìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œ
   - ê¸°ë³¸ êµ¬í˜„ì„ ì œê³µí•˜ê±°ë‚˜ ë¹„ì–´ ìˆìŒ

```java
abstract class CaffeineBeverage {

    /**
     * í…œí”Œë¦¿ ë©”ì„œë“œ - ìŒë£Œë¥¼ ë§Œë“œëŠ” ì „ì²´ ì•Œê³ ë¦¬ì¦˜ ì •ì˜
     * finalë¡œ ì„ ì–¸í•˜ì—¬ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë³€ê²½ ë¶ˆê°€
     */
    public final void prepareRecipe() {
        boilWater();
        brew();
        pourInCup();

        if (customerWantsCondiments()) {  // Hook ë©”ì„œë“œ í˜¸ì¶œ
            addCondiments();
        }
    }

    // ê³µí†µ ë©”ì„œë“œ
    private void boilWater() {
        System.out.println("ë¬¼ì„ ë“ì…ë‹ˆë‹¤");
    }

    private void pourInCup() {
        System.out.println("ì»µì— ë”°ë¦…ë‹ˆë‹¤");
    }

    // ì¶”ìƒ ë©”ì„œë“œ - í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ í•„ìˆ˜
    protected abstract void brew();
    protected abstract void addCondiments();

    // Hook ë©”ì„œë“œ - ì„ íƒì  ì˜¤ë²„ë¼ì´ë“œ
    protected boolean customerWantsCondiments() {
        return true;  // ê¸°ë³¸ê°’: ì²¨ê°€ë¬¼ ì¶”ê°€
    }
}

class Coffee extends CaffeineBeverage {
    @Override
    protected void brew() {
        System.out.println("í•„í„°ë¥¼ í†µí•´ ì»¤í”¼ë¥¼ ìš°ë ¤ëƒ…ë‹ˆë‹¤");
    }

    @Override
    protected void addCondiments() {
        System.out.println("ì„¤íƒ•ê³¼ ìš°ìœ ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤");
    }
}

class Tea extends CaffeineBeverage {
    @Override
    protected void brew() {
        System.out.println("ì°¨ë¥¼ ìš°ë ¤ëƒ…ë‹ˆë‹¤");
    }

    @Override
    protected void addCondiments() {
        System.out.println("ë ˆëª¬ì„ ì¶”ê°€í•©ë‹ˆë‹¤");
    }

    // Hook ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë“œ
    @Override
    protected boolean customerWantsCondiments() {
        return false;  // ë ˆëª¬ì„ ì¶”ê°€í•˜ì§€ ì•ŠìŒ
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        System.out.println("=== ì»¤í”¼ ì œì¡° ===");
        CaffeineBeverage coffee = new Coffee();
        coffee.prepareRecipe();

        System.out.println("\n=== ì°¨ ì œì¡° ===");
        CaffeineBeverage tea = new Tea();
        tea.prepareRecipe();
    }
}
```

**ì¥ì :**
- ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì¬ì‚¬ìš©
- ì¤‘ë³µ ì½”ë“œ ì œê±°
- í™•ì¥ì—ëŠ” ì—´ë ¤ìˆê³  ìˆ˜ì •ì—ëŠ” ë‹«í˜€ìˆìŒ (Open-Closed Principle)

---

#### Q9. ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œì˜ ì¥ë‹¨ì ì€ ë¬´ì—‡ì¸ê°€ìš”?

**ëª¨ë²” ë‹µë³€:**

**ì¥ì :**

1. **ì½”ë“œ ì¬ì‚¬ìš©ì„±**
   - ê³µí†µ í•„ë“œì™€ ë©”ì„œë“œë¥¼ ë¶€ëª¨ í´ë˜ìŠ¤ì—ì„œ í•œ ë²ˆë§Œ êµ¬í˜„
   - í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì¤‘ë³µ ì½”ë“œ ì œê±°

2. **ì¼ê´€ëœ ì¸í„°í˜ì´ìŠ¤ ì œê³µ**
   - ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ê°€ ë™ì¼í•œ ë©”ì„œë“œë¥¼ ì œê³µí•˜ë„ë¡ ê°•ì œ
   - ë‹¤í˜•ì„±ì„ í†µí•´ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥

3. **í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ êµ¬í˜„**
   - ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³  ì„¸ë¶€ êµ¬í˜„ì€ ìœ„ì„
   - final ë©”ì„œë“œë¡œ í•µì‹¬ ë¡œì§ ë³´í˜¸ ê°€ëŠ¥

4. **ë¶€ë¶„ì ì¸ êµ¬í˜„ ì œê³µ**
   - ì¸í„°í˜ì´ìŠ¤ì™€ ë‹¬ë¦¬ ì¼ë¶€ ë©”ì„œë“œëŠ” êµ¬í˜„ì„ ì œê³µí•  ìˆ˜ ìˆìŒ
   - í•˜ìœ„ í´ë˜ìŠ¤ëŠ” í•„ìš”í•œ ë¶€ë¶„ë§Œ ì˜¤ë²„ë¼ì´ë“œ

5. **ìƒì„±ìì™€ í•„ë“œ ì‚¬ìš© ê°€ëŠ¥**
   - ê³µí†µ ì´ˆê¸°í™” ë¡œì§ì„ ìƒì„±ìì—ì„œ ì²˜ë¦¬
   - ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ

**ë‹¨ì :**

1. **ë‹¨ì¼ ìƒì†ë§Œ ê°€ëŠ¥**
   - JavaëŠ” ë‹¤ì¤‘ ìƒì†ì„ ì§€ì›í•˜ì§€ ì•ŠìŒ
   - ì´ë¯¸ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê³  ìˆë‹¤ë©´ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì„ ìˆ˜ ì—†ìŒ

2. **ê°•í•œ ê²°í•©ë„**
   - ë¶€ëª¨ í´ë˜ìŠ¤ ë³€ê²½ ì‹œ ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ì— ì˜í–¥
   - ìƒì† ê³„ì¸µì´ ê¹Šì–´ì§ˆìˆ˜ë¡ ë³µì¡ë„ ì¦ê°€

3. **ìœ ì—°ì„± ê°ì†Œ**
   - ì¸í„°í˜ì´ìŠ¤ì— ë¹„í•´ ìœ ì—°ì„±ì´ ë–¨ì–´ì§
   - ì„¤ê³„ ë³€ê²½ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ

4. **í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€**
   - ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì§ì ‘ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ì—†ìŒ
   - í…ŒìŠ¤íŠ¸ìš© í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•¨

```java
// ì¥ì  ì˜ˆì‹œ: ì½”ë“œ ì¬ì‚¬ìš©
abstract class DatabaseConnection {
    protected String url;
    protected String username;
    protected String password;

    // ê³µí†µ í•„ë“œì™€ ìƒì„±ì
    public DatabaseConnection(String url, String username, String password) {
        this.url = url;
        this.username = username;
        this.password = password;
    }

    // ê³µí†µ ë©”ì„œë“œ (ëª¨ë“  DB ì—°ê²°ì—ì„œ ì‚¬ìš©)
    public void connect() {
        System.out.println("ì—°ê²° ì¤‘: " + url);
        authenticate();
        openConnection();
    }

    protected void authenticate() {
        System.out.println("ì¸ì¦ ì¤‘: " + username);
    }

    // ì¶”ìƒ ë©”ì„œë“œ (DBë§ˆë‹¤ ë‹¤ë¦„)
    protected abstract void openConnection();
    public abstract void executeQuery(String query);
}

// MySQL êµ¬í˜„
class MySQLConnection extends DatabaseConnection {
    public MySQLConnection(String url, String username, String password) {
        super(url, username, password);
    }

    @Override
    protected void openConnection() {
        System.out.println("MySQL ì—°ê²° ì—´ê¸°");
    }

    @Override
    public void executeQuery(String query) {
        System.out.println("MySQL ì¿¼ë¦¬ ì‹¤í–‰: " + query);
    }
}

// ë‹¨ì  ì˜ˆì‹œ: ë‹¨ì¼ ìƒì† ì œí•œ
class LoggableConnection {
    public void log(String message) {
        System.out.println("[LOG] " + message);
    }
}

// ì»´íŒŒì¼ ì—ëŸ¬! ë‘ í´ë˜ìŠ¤ë¥¼ ë™ì‹œì— ìƒì†ë°›ì„ ìˆ˜ ì—†ìŒ
// class PostgreSQLConnection extends DatabaseConnection, LoggableConnection {
// }

// í•´ê²°ì±…: ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©
interface Loggable {
    void log(String message);
}

class PostgreSQLConnection extends DatabaseConnection implements Loggable {
    public PostgreSQLConnection(String url, String username, String password) {
        super(url, username, password);
    }

    @Override
    protected void openConnection() {
        System.out.println("PostgreSQL ì—°ê²° ì—´ê¸°");
    }

    @Override
    public void executeQuery(String query) {
        log("ì¿¼ë¦¬ ì‹¤í–‰: " + query);
        System.out.println("PostgreSQL ì¿¼ë¦¬ ì‹¤í–‰: " + query);
    }

    @Override
    public void log(String message) {
        System.out.println("[PostgreSQL LOG] " + message);
    }
}
```

---

#### Q10. ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ìˆë‚˜ìš”? ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**

ë„¤, ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¼ë°˜ì ì´ê³  ê¶Œì¥ë˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.

**í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì´ìœ :**

1. **ì¶”ìƒ í´ë˜ìŠ¤ì˜ ì¥ì  + ì¸í„°í˜ì´ìŠ¤ì˜ ì¥ì **
   - ì¶”ìƒ í´ë˜ìŠ¤: ê³µí†µ êµ¬í˜„ ì œê³µ
   - ì¸í„°í˜ì´ìŠ¤: ë‹¤ì¤‘ ìƒì†, ìœ ì—°í•œ ì„¤ê³„

2. **ì—­í•  ë¶„ë¦¬**
   - ì¸í„°í˜ì´ìŠ¤: "ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ê°€" (ëŠ¥ë ¥)
   - ì¶”ìƒ í´ë˜ìŠ¤: "ì–´ë–»ê²Œ í•˜ëŠ”ê°€" (êµ¬í˜„)

```java
// ì¸í„°í˜ì´ìŠ¤: ëŠ¥ë ¥ ì •ì˜
interface Drawable {
    void draw();
}

interface Clickable {
    void onClick();
}

interface Draggable {
    void onDrag(int x, int y);
}

// ì¶”ìƒ í´ë˜ìŠ¤: ê³µí†µ êµ¬í˜„ ì œê³µ
abstract class UIComponent implements Drawable, Clickable {
    protected int x, y, width, height;
    protected String name;
    protected boolean visible = true;

    public UIComponent(String name, int x, int y, int width, int height) {
        this.name = name;
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }

    // ê³µí†µ ë©”ì„œë“œ
    public void setVisible(boolean visible) {
        this.visible = visible;
    }

    public boolean isVisible() {
        return visible;
    }

    // ì¼ë¶€ ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œì˜ ê¸°ë³¸ êµ¬í˜„
    @Override
    public void onClick() {
        System.out.println(name + " í´ë¦­ë¨ (" + x + ", " + y + ")");
    }

    // draw()ëŠ” ì—¬ì „íˆ ì¶”ìƒ ë©”ì„œë“œ (í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ í•„ìˆ˜)
}

// êµ¬ì²´ í´ë˜ìŠ¤ë“¤
class Button extends UIComponent {
    private String label;

    public Button(String name, int x, int y, int width, int height, String label) {
        super(name, x, y, width, height);
        this.label = label;
    }

    @Override
    public void draw() {
        if (visible) {
            System.out.println("[ë²„íŠ¼ ê·¸ë¦¬ê¸°] " + label + " at (" + x + ", " + y + ")");
        }
    }

    @Override
    public void onClick() {
        super.onClick();
        System.out.println("â†’ ë²„íŠ¼ ë™ì‘ ì‹¤í–‰: " + label);
    }
}

class Panel extends UIComponent implements Draggable {
    private java.util.List<UIComponent> children = new java.util.ArrayList<>();

    public Panel(String name, int x, int y, int width, int height) {
        super(name, x, y, width, height);
    }

    public void addChild(UIComponent child) {
        children.add(child);
    }

    @Override
    public void draw() {
        if (visible) {
            System.out.println("[íŒ¨ë„ ê·¸ë¦¬ê¸°] " + name + " at (" + x + ", " + y + ")");
            for (UIComponent child : children) {
                child.draw();
            }
        }
    }

    @Override
    public void onDrag(int newX, int newY) {
        System.out.println(name + " ë“œë˜ê·¸: (" + x + ", " + y + ") â†’ (" + newX + ", " + newY + ")");
        this.x = newX;
        this.y = newY;
    }
}

class Image extends UIComponent implements Draggable {
    private String imagePath;

    public Image(String name, int x, int y, int width, int height, String imagePath) {
        super(name, x, y, width, height);
        this.imagePath = imagePath;
    }

    @Override
    public void draw() {
        if (visible) {
            System.out.println("[ì´ë¯¸ì§€ ê·¸ë¦¬ê¸°] " + imagePath + " at (" + x + ", " + y + ")");
        }
    }

    @Override
    public void onDrag(int newX, int newY) {
        System.out.println("ì´ë¯¸ì§€ ë“œë˜ê·¸: " + imagePath);
        this.x = newX;
        this.y = newY;
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        // UI ì»´í¬ë„ŒíŠ¸ ìƒì„±
        Button button = new Button("btn1", 10, 10, 100, 30, "í™•ì¸");
        Panel panel = new Panel("panel1", 50, 50, 300, 200);
        Image image = new Image("img1", 100, 100, 50, 50, "/images/logo.png");

        panel.addChild(button);
        panel.addChild(image);

        // ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ë¥¼ ê·¸ë¦¬ê¸°
        System.out.println("=== UI ë Œë”ë§ ===");
        panel.draw();

        // í´ë¦­ ì´ë²¤íŠ¸
        System.out.println("\n=== í´ë¦­ ì´ë²¤íŠ¸ ===");
        button.onClick();
        panel.onClick();

        // ë“œë˜ê·¸ ì´ë²¤íŠ¸ (Draggable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì»´í¬ë„ŒíŠ¸ë§Œ)
        System.out.println("\n=== ë“œë˜ê·¸ ì´ë²¤íŠ¸ ===");
        panel.onDrag(100, 100);
        image.onDrag(150, 150);
    }
}
```

**íŒ¨í„´:**
- ì¸í„°í˜ì´ìŠ¤ë¡œ "ê³„ì•½"ì„ ì •ì˜ (`Drawable`, `Clickable`, `Draggable`)
- ì¶”ìƒ í´ë˜ìŠ¤ë¡œ "ê¸°ë³¸ êµ¬í˜„"ê³¼ "ê³µí†µ ìƒíƒœ"ë¥¼ ì œê³µ (`UIComponent`)
- êµ¬ì²´ í´ë˜ìŠ¤ì—ì„œ ì„¸ë¶€ êµ¬í˜„ ì™„ì„± (`Button`, `Panel`, `Image`)

---

#### Q11. Java 8 ì´í›„ ì¸í„°í˜ì´ìŠ¤ì— default ë©”ì„œë“œê°€ ì¶”ê°€ë˜ë©´ì„œ ì¶”ìƒ í´ë˜ìŠ¤ì˜ í•„ìš”ì„±ì´ ì¤„ì–´ë“¤ì—ˆë‚˜ìš”?

**ëª¨ë²” ë‹µë³€:**

Java 8ì—ì„œ ì¸í„°í˜ì´ìŠ¤ì— default ë©”ì„œë“œê°€ ì¶”ê°€ë˜ë©´ì„œ ì¸í„°í˜ì´ìŠ¤ì™€ ì¶”ìƒ í´ë˜ìŠ¤ì˜ ê²½ê³„ê°€ ëª¨í˜¸í•´ì§„ ê²ƒì€ ì‚¬ì‹¤ì´ì§€ë§Œ, ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì—¬ì „íˆ ì¤‘ìš”í•˜ê³  í•„ìš”í•©ë‹ˆë‹¤.

**ì¶”ìƒ í´ë˜ìŠ¤ë§Œ í•  ìˆ˜ ìˆëŠ” ê²ƒ:**

1. **ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ (ìƒíƒœ) ë³´ìœ **
   - ì¸í„°í˜ì´ìŠ¤: ìƒìˆ˜(public static final)ë§Œ ê°€ëŠ¥
   - ì¶”ìƒ í´ë˜ìŠ¤: ì¼ë°˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ê°€ëŠ¥

2. **ìƒì„±ì ì œê³µ**
   - ì¸í„°í˜ì´ìŠ¤: ìƒì„±ì ì—†ìŒ
   - ì¶”ìƒ í´ë˜ìŠ¤: ìƒì„±ìë¡œ ì´ˆê¸°í™” ë¡œì§ ì œê³µ

3. **protected/private ë©”ì„œë“œ**
   - ì¸í„°í˜ì´ìŠ¤: publicë§Œ ê°€ëŠ¥ (Java 9+ private ê°€ëŠ¥í•˜ì§€ë§Œ ì œí•œì )
   - ì¶”ìƒ í´ë˜ìŠ¤: ëª¨ë“  ì ‘ê·¼ ì œì–´ì ì‚¬ìš© ê°€ëŠ¥

4. **final ë©”ì„œë“œ**
   - ì¸í„°í˜ì´ìŠ¤: final ë©”ì„œë“œ ì„ ì–¸ ë¶ˆê°€
   - ì¶”ìƒ í´ë˜ìŠ¤: final ë©”ì„œë“œë¡œ ë³€ê²½ ë°©ì§€ ê°€ëŠ¥

```java
// ì¸í„°í˜ì´ìŠ¤ì˜ í•œê³„
interface Shape {
    // âŒ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ ë¶ˆê°€ëŠ¥
    // private String color;  // ì»´íŒŒì¼ ì—ëŸ¬!

    // âœ… ìƒìˆ˜ë§Œ ê°€ëŠ¥
    String DEFAULT_COLOR = "BLACK";

    // âŒ ìƒì„±ì ë¶ˆê°€ëŠ¥
    // Shape() { }  // ì»´íŒŒì¼ ì—ëŸ¬!

    // âœ… default ë©”ì„œë“œ
    default void printInfo() {
        System.out.println("ë„í˜•ì…ë‹ˆë‹¤");
    }

    // âŒ final ë©”ì„œë“œ ë¶ˆê°€ëŠ¥
    // public final void validate() { }  // ì»´íŒŒì¼ ì—ëŸ¬!

    // ì¶”ìƒ ë©”ì„œë“œ
    double getArea();
}

// ì¶”ìƒ í´ë˜ìŠ¤ì˜ ì¥ì 
abstract class AbstractShape {
    // âœ… ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ
    protected String color;
    protected int id;
    private static int nextId = 1;

    // âœ… ìƒì„±ì
    public AbstractShape(String color) {
        this.color = color;
        this.id = nextId++;
        System.out.println("ë„í˜• ìƒì„± (ID: " + id + ", ìƒ‰ìƒ: " + color + ")");
    }

    // âœ… final ë©”ì„œë“œ - í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë³€ê²½ ë¶ˆê°€
    public final int getId() {
        return id;
    }

    // âœ… protected ë©”ì„œë“œ - í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
    protected void validate() {
        if (color == null || color.isEmpty()) {
            throw new IllegalStateException("ìƒ‰ìƒì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤");
        }
    }

    // âœ… private ë©”ì„œë“œ - ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©
    private void log(String message) {
        System.out.println("[LOG] " + message);
    }

    // ê³µí†µ ë©”ì„œë“œ
    public void printInfo() {
        validate();
        log("ë„í˜• ì •ë³´ ì¶œë ¥");
        System.out.println("ID: " + id + ", ìƒ‰ìƒ: " + color);
    }

    // ì¶”ìƒ ë©”ì„œë“œ
    public abstract double getArea();
}

// êµ¬ì²´ í´ë˜ìŠ¤
class Circle extends AbstractShape {
    private double radius;

    public Circle(String color, double radius) {
        super(color);  // ë¶€ëª¨ ìƒì„±ì í˜¸ì¶œ
        this.radius = radius;
    }

    @Override
    public double getArea() {
        return Math.PI * radius * radius;
    }

    // getId()ëŠ” finalì´ë¯€ë¡œ ì˜¤ë²„ë¼ì´ë“œ ë¶ˆê°€!
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        Circle circle = new Circle("RED", 5.0);
        circle.printInfo();
        System.out.println("ë„“ì´: " + circle.getArea());
        System.out.println("ID: " + circle.getId());

        Circle circle2 = new Circle("BLUE", 3.0);
        circle2.printInfo();
        System.out.println("ID: " + circle2.getId());
    }
}
```

**ê²°ë¡ :**
- Java 8+ì—ì„œë„ ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì—¬ì „íˆ í•„ìš”
- ìƒíƒœë¥¼ ê°€ì ¸ì•¼ í•˜ê±°ë‚˜ ìƒì„±ìê°€ í•„ìš”í•˜ë©´ ì¶”ìƒ í´ë˜ìŠ¤
- ë‹¤ì¤‘ ìƒì†ì´ í•„ìš”í•˜ê±°ë‚˜ í–‰ìœ„ë§Œ ì •ì˜í•˜ë©´ ì¸í„°í˜ì´ìŠ¤
- ë‘˜ ë‹¤ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìµœì„ ì¸ ê²½ìš°ê°€ ë§ìŒ

---

#### Q12. ì¶”ìƒ í´ë˜ìŠ¤ ì„¤ê³„ ì‹œ ì£¼ì˜í•´ì•¼ í•  ì‚¬í•­ì€ ë¬´ì—‡ì¸ê°€ìš”?

**ëª¨ë²” ë‹µë³€:**

ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ê°•ë ¥í•œ ë„êµ¬ì´ì§€ë§Œ, ì˜ëª» ì„¤ê³„í•˜ë©´ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì£¼ì˜ì‚¬í•­:**

1. **ë„ˆë¬´ ë§ì€ ì±…ì„ì„ ë¶€ì—¬í•˜ì§€ ë§ ê²ƒ**
   - ë‹¨ì¼ ì±…ì„ ì›ì¹™(Single Responsibility Principle) ì¤€ìˆ˜
   - í•œ ê°€ì§€ ê°œë…/ì—­í• ë§Œ ë‹¤ë£¨ë„ë¡ ì„¤ê³„

2. **ì¶”ìƒ ë©”ì„œë“œë¥¼ ê³¼ë„í•˜ê²Œ ë§Œë“¤ì§€ ë§ ê²ƒ**
   - í•˜ìœ„ í´ë˜ìŠ¤ì˜ ë¶€ë‹´ì´ ì»¤ì§
   - ê³µí†µ êµ¬í˜„ì„ ìµœëŒ€í•œ ì œê³µ

3. **finalê³¼ abstractì˜ ê· í˜•**
   - í•µì‹¬ ë¡œì§ì€ finalë¡œ ë³´í˜¸
   - í™•ì¥ì´ í•„ìš”í•œ ë¶€ë¶„ì€ Hook ë©”ì„œë“œë¡œ ì œê³µ

4. **ì¸í„°í˜ì´ìŠ¤ì™€ì˜ ì—­í•  ë¶„ë¦¬**
   - ì¶”ìƒ í´ë˜ìŠ¤: êµ¬í˜„ ê³µìœ 
   - ì¸í„°í˜ì´ìŠ¤: ê³„ì•½ ì •ì˜

5. **ìƒì† ê¹Šì´ë¥¼ ê¹Šê²Œ í•˜ì§€ ë§ ê²ƒ**
   - 3ë‹¨ê³„ ì´ìƒ ê¹Šì–´ì§€ë©´ ë³µì¡ë„ ì¦ê°€
   - êµ¬ì„±(Composition)ì„ ê³ ë ¤

6. **protected í•„ë“œë³´ë‹¤ protected ë©”ì„œë“œë¥¼ ì„ í˜¸**
   - ìº¡ìŠí™” ìœ ì§€
   - ë‚˜ì¤‘ì— êµ¬í˜„ ë³€ê²½ ìš©ì´

```java
// âŒ ë‚˜ìœ ì˜ˆ: ë„ˆë¬´ ë§ì€ ì±…ì„
abstract class Employee_Bad {
    protected String name;
    protected int salary;

    // ê¸‰ì—¬ ê³„ì‚° ê´€ë ¨
    public abstract int calculateSalary();
    public abstract int calculateBonus();
    public abstract int calculateTax();

    // ê·¼íƒœ ê´€ë¦¬ ê´€ë ¨
    public abstract void checkIn();
    public abstract void checkOut();
    public abstract int getWorkHours();

    // ì„±ê³¼ í‰ê°€ ê´€ë ¨
    public abstract void evaluate();
    public abstract double getPerformanceScore();

    // êµìœ¡ ê´€ë ¨
    public abstract void attendTraining();
    public abstract List<String> getCompletedTrainings();

    // ë„ˆë¬´ ë§ì€ ì¶”ìƒ ë©”ì„œë“œ! í•˜ìœ„ í´ë˜ìŠ¤ì˜ ë¶€ë‹´ì´ í¼
}

// âœ… ì¢‹ì€ ì˜ˆ: ë‹¨ì¼ ì±…ì„, ê³µí†µ êµ¬í˜„ ì œê³µ
abstract class Employee_Good {
    protected String name;
    protected int id;
    protected int baseSalary;

    public Employee_Good(String name, int id, int baseSalary) {
        this.name = name;
        this.id = id;
        this.baseSalary = baseSalary;
    }

    /**
     * í…œí”Œë¦¿ ë©”ì„œë“œ: ê¸‰ì—¬ ê³„ì‚° í”„ë¡œì„¸ìŠ¤ ì •ì˜
     */
    public final int calculateTotalSalary() {
        int salary = baseSalary;
        salary += calculateBonus();
        salary -= calculateTax(salary);

        logSalaryCalculation(salary);

        return salary;
    }

    // ì¶”ìƒ ë©”ì„œë“œ: ìµœì†Œí•œë§Œ ì •ì˜
    protected abstract int calculateBonus();

    // ê³µí†µ ë©”ì„œë“œ: ì„¸ê¸ˆ ê³„ì‚° (ëª¨ë“  ì§ì› ë™ì¼)
    protected int calculateTax(int totalSalary) {
        return (int) (totalSalary * 0.1);  // 10% ì„¸ê¸ˆ
    }

    // Hook ë©”ì„œë“œ: ì„ íƒì  ì˜¤ë²„ë¼ì´ë“œ
    protected void logSalaryCalculation(int salary) {
        System.out.println(name + "ì˜ ê¸‰ì—¬: " + salary + "ì›");
    }

    // protected ë©”ì„œë“œë¡œ í•„ë“œ ì ‘ê·¼ ì œê³µ (ì§ì ‘ í•„ë“œ ë…¸ì¶œ ë°©ì§€)
    protected int getBaseSalary() {
        return baseSalary;
    }

    // public getter
    public String getName() {
        return name;
    }

    public int getId() {
        return id;
    }
}

// ì •ê·œì§
class FullTimeEmployee extends Employee_Good {
    private int performanceBonus;

    public FullTimeEmployee(String name, int id, int baseSalary, int performanceBonus) {
        super(name, id, baseSalary);
        this.performanceBonus = performanceBonus;
    }

    @Override
    protected int calculateBonus() {
        return performanceBonus;
    }
}

// ê³„ì•½ì§
class ContractEmployee extends Employee_Good {
    public ContractEmployee(String name, int id, int baseSalary) {
        super(name, id, baseSalary);
    }

    @Override
    protected int calculateBonus() {
        return 0;  // ê³„ì•½ì§ì€ ë³´ë„ˆìŠ¤ ì—†ìŒ
    }

    @Override
    protected int calculateTax(int totalSalary) {
        // ê³„ì•½ì§ì€ ì„¸ê¸ˆì´ ë‹¤ë¦„
        return (int) (totalSalary * 0.033);  // 3.3% ì„¸ê¸ˆ
    }
}

// âœ… ì¢‹ì€ ì˜ˆ: êµ¬ì„±(Composition) í™œìš©
interface AttendanceManager {
    void checkIn();
    void checkOut();
    int getWorkHours();
}

interface PerformanceEvaluator {
    void evaluate();
    double getPerformanceScore();
}

class EnhancedEmployee extends Employee_Good {
    private AttendanceManager attendanceManager;
    private PerformanceEvaluator performanceEvaluator;

    public EnhancedEmployee(String name, int id, int baseSalary,
                          AttendanceManager attendanceManager,
                          PerformanceEvaluator performanceEvaluator) {
        super(name, id, baseSalary);
        this.attendanceManager = attendanceManager;
        this.performanceEvaluator = performanceEvaluator;
    }

    @Override
    protected int calculateBonus() {
        // ì„±ê³¼ ì ìˆ˜ì— ë”°ë¼ ë³´ë„ˆìŠ¤ ê³„ì‚°
        double score = performanceEvaluator.getPerformanceScore();
        return (int) (getBaseSalary() * score * 0.1);
    }

    public void checkIn() {
        attendanceManager.checkIn();
    }

    public void checkOut() {
        attendanceManager.checkOut();
    }

    public void evaluate() {
        performanceEvaluator.evaluate();
    }
}

// í…ŒìŠ¤íŠ¸
public class Test {
    public static void main(String[] args) {
        // ì •ê·œì§
        Employee_Good fullTime = new FullTimeEmployee("ê¹€ì² ìˆ˜", 1, 3000000, 500000);
        System.out.println("ì •ê·œì§ ì´ ê¸‰ì—¬: " + fullTime.calculateTotalSalary() + "ì›\n");

        // ê³„ì•½ì§
        Employee_Good contract = new ContractEmployee("ì´ì˜í¬", 2, 2500000);
        System.out.println("ê³„ì•½ì§ ì´ ê¸‰ì—¬: " + contract.calculateTotalSalary() + "ì›");
    }
}
```

**í•µì‹¬ ì›ì¹™:**
- ì¶”ìƒ í´ë˜ìŠ¤ëŠ” "êµ¬í˜„ ìƒì†"ì„ ìœ„í•œ ë„êµ¬
- ë„ˆë¬´ ë§ì€ ê²ƒì„ ê°•ìš”í•˜ì§€ ë§ ê²ƒ
- ê³µí†µ ë¶€ë¶„ì„ ìµœëŒ€í•œ êµ¬í˜„í•˜ì—¬ í•˜ìœ„ í´ë˜ìŠ¤ì˜ ë¶€ë‹´ ì¤„ì´ê¸°
- í•„ìš”í•˜ë‹¤ë©´ êµ¬ì„±(Composition)ì„ í•¨ê»˜ ì‚¬ìš©

---

## ğŸ“ í•™ìŠµ ì™„ë£Œ!

ì´ê²ƒìœ¼ë¡œ **ì¶”ìƒ í´ë˜ìŠ¤ Part 3**ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!

### ë‹¤ë£¬ ë‚´ìš©:
- âœ… ì‹¤ì „ í”„ë¡œì íŠ¸: ì „ììƒê±°ë˜ ê²°ì œ ì‹œìŠ¤í…œ (ì™„ì „í•œ êµ¬í˜„)
- âœ… 7ê°€ì§€ FAQ
- âœ… 12ê°€ì§€ ë©´ì ‘ ì§ˆë¬¸ (ì£¼ë‹ˆì–´ 7ê°œ + ì¤‘ê¸‰ 5ê°œ)

### ë‹¤ìŒ ë‹¨ê³„:
- Chapter 19: ì¸í„°í˜ì´ìŠ¤
- Chapter 20: Enum
- Chapter 21: Annotation
- Chapter 22: ë‚´ë¶€ í´ë˜ìŠ¤
- Chapter 23: ì˜ˆì™¸ ì²˜ë¦¬
